{"meta":{"title":"Coding Spirit","subtitle":"‰∏Ä‰ΩçÁ®ãÂ∫èÂëòÔºåÊØîËæÉÂ∏ÖÁöÑÈÇ£Áßç","description":"ÊØï‰∏ö‰∫éOUCÔºåÁé∞Â∞±ËÅå‰∫éTT Electronics","author":"Coding Spirit","url":"https://lzqblog.top","root":"/"},"pages":[{"title":"","date":"2019-05-26T06:08:09.472Z","updated":"2018-11-20T11:54:50.000Z","comments":true,"path":"404.html","permalink":"https://lzqblog.top/404.html","excerpt":"","text":"L2Dwidget.init({\"pluginRootPath\":\"live2dw/\",\"pluginJsPath\":\"lib/\",\"pluginModelPath\":\"assets/\",\"tagMode\":false,\"log\":true,\"model\":{\"jsonPath\":\"/live2dw/assets/tororo.model.json\"},\"display\":{\"position\":\"left\",\"width\":150,\"height\":300},\"mobile\":{\"show\":false},\"react\":{\"opacity\":1}});"},{"title":"black hole","date":"2019-05-28T12:03:48.000Z","updated":"2019-05-29T11:55:36.624Z","comments":true,"path":"blackhole.html","permalink":"https://lzqblog.top/blackhole.html","excerpt":"","text":"\"use strict\"; var _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }(); var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); function _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } } function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } } var PI = Math.PI, cos = Math.cos, sin = Math.sin, abs = Math.abs, sqrt = Math.sqrt, pow = Math.pow, floor = Math.floor, round = Math.round, random = Math.random, atan2 = Math.atan2; var HALF_PI = 0.5 * PI; var TAU = 2 * PI; var rand = function rand(n) { return n * random(); }; var randIn = function randIn(min, max) { return rand(max - min) + min; }; var fadeOut = function fadeOut(t, m) { return (m - t) / m; }; var fadeInOut = function fadeInOut(t, m) { var hm = 0.5 * m; return abs((t + hm) % m - hm) / hm; }; var dist = function dist(x1, y1, x2, y2) { return sqrt(pow(x2 - x1, 2) + pow(y2 - y1, 2)); }; var angle = function angle(x1, y1, x2, y2) { return atan2(y2 - y1, x2 - x1); }; var lerp = function lerp(n1, n2, speed) { return (1 - speed) * n1 + speed * n2; }; var particleCount = 1000; var eventHorizon = 40; var canvas = void 0; var ctx = void 0; var center = void 0; var particles = void 0; var mouse = void 0; var hover = void 0; Array.prototype.lerp = function (target, speed) { var _this = this; this.forEach(function (n, i) { return _this[i] = lerp(n, target[i], speed); }); }; var Particle = function () { function Particle() { _classCallCheck(this, Particle); this.init(); } _createClass(Particle, [{ key: \"init\", value: function init() { this.life = 0; this.ttl = randIn(50, 200); this.speed = randIn(3, 5); this.size = randIn(0.5, 2); this.position = [rand(canvas.a.width), rand(canvas.a.height)]; this.lastPosition = [].concat(_toConsumableArray(this.position)); this.direction = angle.apply(undefined, _toConsumableArray(this.position).concat(_toConsumableArray(center))) - HALF_PI; this.velocity = [ cos(this.direction) * this.speed, sin(this.direction) * this.speed]; this.hue = rand(360); this.reset = false; } }, { key: \"die\", value: function die() { var _ctx$a; ctx.a.save(); ctx.a.globalAlpha = 0.1; ctx.a.filter = \"blur(4px)\"; ctx.a.globalCompositeOperation = 'multiply'; ctx.a.lineWidth = 2; ctx.a.strokeStyle = this.color; ctx.a.beginPath(); (_ctx$a = ctx.a).arc.apply(_ctx$a, _toConsumableArray(center).concat([eventHorizon, 0, TAU])); ctx.a.closePath(); ctx.a.stroke(); ctx.a.restore(); this.init(); } }, { key: \"checkBounds\", value: function checkBounds() { var _lastPosition = _slicedToArray( this.lastPosition, 2), x = _lastPosition[0], y = _lastPosition[1]; return x > canvas.a.width || x < 0 || y > canvas.a.height || y < 0; } }, { key: \"update\", value: function update() { this.lastPosition = [].concat(_toConsumableArray(this.position)); this.direction = lerp( angle.apply(undefined, _toConsumableArray(this.lastPosition).concat(_toConsumableArray(center))), angle.apply(undefined, _toConsumableArray(this.position).concat(_toConsumableArray(center))), 0.01); this.speed = fadeOut(dist.apply(undefined, _toConsumableArray(this.position).concat(_toConsumableArray(center))), canvas.a.width) * 50; this.velocity.lerp( [cos(this.direction) * this.speed, sin(this.direction) * this.speed], 0.01); this.position[0] += this.velocity[0]; this.position[1] += this.velocity[1]; (this.checkBounds() || this.life++ > this.ttl) && this.init(); dist.apply(undefined, _toConsumableArray(this.position).concat(_toConsumableArray(center)))"},{"title":"fire ball","date":"2019-05-29T12:03:48.000Z","updated":"2019-05-29T12:04:23.085Z","comments":true,"path":"fireball.html","permalink":"https://lzqblog.top/fireball.html","excerpt":"","text":"bgColor = '#111'; gravity = 0.03; particleColor = '#f73'; canvas = document.querySelector('canvas'); ctx = canvas.getContext('2d'); (onresize = function () { width = canvas.width = canvas.clientWidth; height = canvas.height = canvas.clientHeight; o = { x: Math.floor(width / 2), y: Math.floor(height / 2) }; edge = { top: -o.y, right: width - o.x, bottom: height - o.y, left: -o.x } })(); particles = {}; newParticle = (function () { var nextIndex = 0; return function (x, y, r, o, c, xv, yv, rv, ov) { particles[++nextIndex] = { index: nextIndex, x: x, y: y, r: r, o: o, c: c, xv: xv, yv: yv, rv: rv, ov: ov }; }; })(); fireballs = {}; newFireball = (function () { var nextIndex = 0; return function (x, y, xv, yv, life) { fireballs[++nextIndex] = { index: nextIndex, x: x, y: y, xv: xv, yv: yv, life: life }; }; })(); mouse = { x: 0, y: 0, d: 0 }; onmousemove = function (e) { mouse.x = e.clientX - o.x; mouse.y = e.clientY - o.y; var dx = mouse.x - pos1.x, dy = mouse.y - pos1.y; mouse.d = Math.sqrt(dx * dx + dy * dy); }; charging = false; pos1 = { x: 0, y: 0 }; showInstructions = true; onmousedown = function (e) { pos1.x = mouse.x; pos1.y = mouse.y; charging = true; showInstructions = false; }; onmouseup = function () { if (charging) { newFireball( mouse.x, mouse.y, (pos1.x - mouse.x) * 0.03, (pos1.y - mouse.y) * 0.03, 600 ); charging = false; } }; time = 0; requestAnimationFrame(loop = function () { ctx.setTransform(1, 0, 0, 1, 0, 0); ctx.globalCompositeOperation = 'source-over'; ctx.globalAlpha = 1; ctx.fillStyle = bgColor; ctx.fillRect(0, 0, width, height); ctx.translate(o.x, o.y); if (charging) { var c = Math.floor(30 + mouse.d / 2); ctx.strokeStyle = 'rgba(' + c + ',' + c + ',' + c + ',1)'; ctx.lineWidth = 4; ctx.beginPath(); ctx.moveTo(pos1.x, pos1.y); ctx.lineTo(mouse.x, mouse.y); ctx.lineCap = 'round'; ctx.stroke(); } if (showInstructions) { pos1.x = -70; pos1.y = -35; if (time < 10) { var x = -70, y = -35, r = 30 - time * 2, a = time / 10; } else if (time < 80) { var x = (time - 10) * 2 - 70, y = (time - 10) - 35, r = 10, a = 1; } else if (time < 90) { var x = 70, y = 35, r = 10 + (time - 80) * 2, a = 1 - (time - 80) / 10; } else if (time < 140) { var x = 70, y = 35, r = 30, a = 0; } var dx = pos1.x - x, dy = pos1.y - y, d = Math.sqrt(dx * dx + dy * dy); if (time < 80 && time > 10) { ctx.globalCompositeOperation = 'source-over'; ctx.globalAlpha = 1; var c = Math.floor(30 + d / 2); ctx.strokeStyle = 'rgba(' + c + ',' + c + ',' + c + ',1)'; ctx.lineWidth = 4; ctx.beginPath(); ctx.moveTo(pos1.x, pos1.y); ctx.lineTo(x, y); ctx.lineCap = 'round'; ctx.stroke(); } if (time < 140) { ctx.globalCompositeOperation = 'source-over'; ctx.globalAlpha = a; ctx.beginPath(); ctx.arc(x, y, r, 0, Math.PI * 2); ctx.lineWidth = 2; ctx.strokeStyle = '#aaa'; ctx.stroke(); } if (time == 80) { newFireball( x, y, dx * 0.03, dy * 0.03, 240 ); } time = (time + 1) % 180; } ctx.globalCompositeOperation = 'lighter'; for (var i in particles) { var p = particles[i]; ctx.beginPath(); ctx.arc(p.x, p.y, p.r, 0, Math.PI * 2); ctx.globalAlpha = p.o; ctx.fillStyle = p.c; ctx.fill(); } for (var i in particles) { var p = particles[i]; p.x += p.xv; p.y += p.yv; p.r += p.rv; p.o += p.ov; if (p.r < 0) delete particles[p.index]; if (p.o < 0) delete particles[p.index]; } for (var i in fireballs) { f = fireballs[i]; var numParticles = Math.sqrt(f.xv * f.xv + f.yv * f.yv) / 5; if (numParticles < 1) numParticles = 1; var numParticlesInt = Math.ceil(numParticles), numParticlesDif = numParticles / numParticlesInt; for (var j = 0; j < numParticlesInt; j++) { newParticle( f.x - f.xv * j / numParticlesInt, f.y - f.yv * j / numParticlesInt, 7, numParticlesDif, particleColor, Math.random() * 0.6 - 0.3, Math.random() * 0.6 - 0.3, -0.3, -0.05 * numParticlesDif ); } f.x += f.xv; f.y += f.yv; f.yv += gravity; var boundary; if (f.y < (boundary = edge.top + 7)) { f.y = boundary; f.yv *= -1; } else if (f.y > (boundary = edge.bottom - 7)) { f.y = boundary; f.yv *= -1; } if (f.x > (boundary = edge.right - 7)) { f.x = boundary; f.xv *= -1; } else if (f.x < (boundary = edge.left + 7)) { f.x = boundary; f.xv *= -1; } if (--f.life < 0) delete fireballs[f.index]; } requestAnimationFrame(loop); }); L2Dwidget.init({\"pluginRootPath\":\"live2dw/\",\"pluginJsPath\":\"lib/\",\"pluginModelPath\":\"assets/\",\"tagMode\":false,\"log\":true,\"model\":{\"jsonPath\":\"/live2dw/assets/tororo.model.json\"},\"display\":{\"position\":\"left\",\"width\":150,\"height\":300},\"mobile\":{\"show\":false},\"react\":{\"opacity\":1}});"},{"title":"ÂàÜÁ±ª","date":"2017-11-03T05:34:59.000Z","updated":"2018-11-20T11:54:50.000Z","comments":true,"path":"categories/index.html","permalink":"https://lzqblog.top/categories/index.html","excerpt":"","text":""},{"title":"Tags","date":"2017-11-01T07:59:26.000Z","updated":"2018-11-20T11:54:50.000Z","comments":true,"path":"tags/index.html","permalink":"https://lzqblog.top/tags/index.html","excerpt":"","text":""}],"posts":[{"title":"STM32MP1: Boot kernel via TFTP from U-Boot","slug":"STM32MP1-Boot-kernel-via-TFTP-from-U-Boot","date":"2020-02-16T05:52:30.000Z","updated":"2020-02-16T08:26:23.257Z","comments":true,"path":"2020-02-16/STM32MP1-Boot-kernel-via-TFTP-from-U-Boot/","link":"","permalink":"https://lzqblog.top/2020-02-16/STM32MP1-Boot-kernel-via-TFTP-from-U-Boot/","excerpt":"Today I just managed to boot kernel via TFTP on STM32MP1 board but steps I go through are quite different with i.MX8. Thus, I think there is a necessity to have a short note about this üñã","text":"Today I just managed to boot kernel via TFTP on STM32MP1 board but steps I go through are quite different with i.MX8. Thus, I think there is a necessity to have a short note about this üñã Pre-requirements TFTP server on PC is up and running(Check here) Board and PC are in same LAN TFTP folder12345678~/data/srv/tftp$ tree.‚îú‚îÄ‚îÄ pxelinux.cfg‚îÇ ‚îî‚îÄ‚îÄ 01-e2-a4-06-a5-8f-7f‚îú‚îÄ‚îÄ stm32mp157a-cp.dtb‚îî‚îÄ‚îÄ uImage1 directory, 3 files U-Boot will use pxe command to load PXE configuration file from TFTP server(PC in my scenario). PXE configuration file has the same format with extlinux.conf, and the file name is related to hardware MAC address. In my case 01-e2-a4-06-a5-8f-7f: 01: ARP type 1 for ethernet e2-a4-06-a5-8f-7f: MAC address Inside my PXE configuration file(01-e2-a4-06-a5-8f-7f): 1234567891011121314151617181920menu title Select the boot mode DEFAULT eMMC TIMEOUT 20 LABEL initramfs KERNEL uImage FDT stm32mp157a-cp.dtb INITRD uInitrd APPEND rootwait rw earlyprintk console&#x3D;ttySTM0,115200 LABEL nfs KERNEL uImage FDT stm32mp157a-cp.dtb APPEND root&#x3D;&#x2F;dev&#x2F;nfs nfsroot&#x3D;192.168.0.106:&#x2F;nfsroot ip&#x3D;dhcp rootwait rw earlyprintk console&#x3D;ttySTM0,115200 LABEL sdcard KERNEL uImage FDT stm32mp157a-cp.dtb APPEND root&#x3D;&#x2F;dev&#x2F;mmcblk0p6 rootwait rw earlyprintk console&#x3D;ttySTM0,115200 LABEL eMMC KERNEL uImage FDT stm32mp157a-cp.dtb APPEND root&#x3D;&#x2F;dev&#x2F;mmcblk1p6 rootwait rw earlyprintk console&#x3D;ttySTM0,115200 With this configuration file we could choose in U-Boot where to load rootfs when booting. U-BootAfter TFTP server and folder are ready, we can proceed on U-Boot. If CONFIG_NET_RANDOM_ETHADDR has not been set in uboot defconfig or MAC address haven‚Äôt been configured before, we might need to setup MAC address(ethaddr) manually. Meanwhile serverip need to be set as well: 123env set ethaddr e2:a4:06:a5:8f:7fenv set serverip 192.168.0.106saveenv After that we only need to run bootcmd_pxe if we want to load kernel from TFTP: 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081Hit any key to stop autoboot: 0 STM32MP&gt; run bootcmd_pxeethernet@5800a000 Waiting for PHY auto negotiation to complete. doneBOOTP broadcast 1DHCP client bound to address 192.168.0.101 (2 ms)missing environment variable: pxeuuidmissing environment variable: bootfileRetrieving file: pxelinux.cfg&#x2F;01-e2-a4-06-a5-8f-7fUsing ethernet@5800a000 deviceTFTP from server 192.168.0.106; our IP address is 192.168.0.101Filename &#39;pxelinux.cfg&#x2F;01-e2-a4-06-a5-8f-7f&#39;.Load address: 0xc4200000Loading: # 8.8 KiB&#x2F;sdoneBytes transferred &#x3D; 608 (260 hex)Config file foundSelect the boot mode1: initramfs2: nfs3: sdcard4: eMMCEnter choice: 4: eMMCmissing environment variable: bootfileRetrieving file: uImageUsing ethernet@5800a000 deviceTFTP from server 192.168.0.106; our IP address is 192.168.0.101Filename &#39;uImage&#39;.Load address: 0xc2000000Loading: ################################################################# ################################################################# ################################################################# ##################T ############################################### ################################################################# ################################################################# ################################################################# ################################################################# ################################################################# ################################################################# ################################################################# ################################################################# ################################################################# ################################################################# ################################################################# ################################################################# ################################################################# ################################################################# ################################################################# ############################################################## 265.6 KiB&#x2F;sdoneBytes transferred &#x3D; 6640192 (655240 hex)append: root&#x3D;&#x2F;dev&#x2F;mmcblk1p6 rootwait rw earlyprintk console&#x3D;ttySTM0,115200missing environment variable: bootfileRetrieving file: stm32mp157a-cp.dtbUsing ethernet@5800a000 deviceTFTP from server 192.168.0.106; our IP address is 192.168.0.101Filename &#39;stm32mp157a-cp.dtb&#39;.Load address: 0xc4000000Loading: ############# 188.5 KiB&#x2F;sdoneBytes transferred &#x3D; 62891 (f5ab hex)## Booting kernel from Legacy Image at c2000000 ... Image Name: Linux-4.19.49 Created: 2019-06-09 7:17:25 UTC Image Type: ARM Linux Kernel Image (uncompressed) Data Size: 6640128 Bytes &#x3D; 6.3 MiB Load Address: c2000040 Entry Point: c2000040 Verifying Checksum ... OK## Flattened Device Tree blob at c4000000 Booting using the fdt blob at 0xc4000000 XIP Kernel Image ... OK Using Device Tree in place at c4000000, end c40125aaStarting kernel ...[ 0.000000] Booting Linux on physical CPU 0x0[ 0.000000] Linux version 4.19.49 (oe-user@oe-host) (gcc version 8.2.0 (GCC)) #1 SMP PREEMPT Sun Jun 9[ 0.000000] CPU: ARMv7 Processor [410fc075] revision 5 (ARMv7), cr&#x3D;10c5387d","categories":[{"name":"ÁºñÁ®ãÁõ∏ÂÖ≥","slug":"ÁºñÁ®ãÁõ∏ÂÖ≥","permalink":"https://lzqblog.top/categories/%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/"}],"tags":[{"name":"Linux","slug":"Linux","permalink":"https://lzqblog.top/tags/Linux/"},{"name":"U-Boot","slug":"U-Boot","permalink":"https://lzqblog.top/tags/U-Boot/"}]},{"title":"GCC: __attribute__ ((__packed__))","slug":"GCC-attribute-packed","date":"2020-02-11T13:28:07.000Z","updated":"2020-02-11T13:59:40.074Z","comments":true,"path":"2020-02-11/GCC-attribute-packed/","link":"","permalink":"https://lzqblog.top/2020-02-11/GCC-attribute-packed/","excerpt":"It specifies that a member field has the smallest possible alignment. That is, one byte for a variable field, and one bit for a bitfield, unless you specify a larger value with the aligned attribute.","text":"It specifies that a member field has the smallest possible alignment. That is, one byte for a variable field, and one bit for a bitfield, unless you specify a larger value with the aligned attribute. Data alignment and data structure paddingGCC will enable structure padding by default, i.e. we have a structure like this: 123456struct test_struct &#123; char a; char b; int c;&#125;;struct test_struct test_data; sizeof(test_data) will be 8 due to structure padded to to 4-byte alignment: 1(char a) + 1(char b) + 2(added) + 4(int c). attribute ((packed))GCC provides us a way to disable structure padding, i.e. we have a structure like this: 123456struct test_struct &#123; char a; char b; int c;&#125; __attribute__((__packed__));struct test_struct test_data; sizeof(test_data) will be 6: 1(char a) + 1(char b) + 4(int c). With this some memory can be saved. We also can use __attribute__((packed, aligned(X))) to specify padding size(X should be powers of 2): 1234567struct test_struct &#123; char a; char b; int c; char d;&#125; __attribute__((packed, aligned(2)));struct test_struct test_data; sizeof(test_data) will be 8: 1(char a) + 1(char b) + 4(int c) + 1(char d) + 1(added)","categories":[{"name":"ÁºñÁ®ãÁõ∏ÂÖ≥","slug":"ÁºñÁ®ãÁõ∏ÂÖ≥","permalink":"https://lzqblog.top/categories/%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/"}],"tags":[{"name":"C++","slug":"C","permalink":"https://lzqblog.top/tags/C/"},{"name":"C","slug":"C","permalink":"https://lzqblog.top/tags/C/"}]},{"title":"PyQt5 Getting Started","slug":"PyQt5-Getting-Started","date":"2020-02-07T04:32:42.000Z","updated":"2020-02-07T08:44:33.253Z","comments":true,"path":"2020-02-07/PyQt5-Getting-Started/","link":"","permalink":"https://lzqblog.top/2020-02-07/PyQt5-Getting-Started/","excerpt":"Recently I start to evaluate the feasibility of porting one old C++ Qt4 project to PyQt5 since Python is more friendly for some engineers.","text":"Recently I start to evaluate the feasibility of porting one old C++ Qt4 project to PyQt5 since Python is more friendly for some engineers. The following steps was test on Ubuntu. Installation1sudo pip3 install PyQt5 If you haven‚Äôt install Qt Designer yet, we‚Äôd like to suggest install it as well: 1sudo apt install qttools5-dev-tools The first PyQt5 programAfter installation, we can perform a quick check by a simple PyQt5 program: 123456789#!/usr/bin/python3import sysfrom PyQt5.QtWidgets import QApplication, QLabelapp=QApplication(sys.argv)label = QLabel('Hello PyQt5!')label.show()sys.exit(app.exec_()) We could see a simple window with a label on it after executing this simple code: In this code we created a QApplication and run the event loop via exec_() method. Using Qt Designer to design UIIn the first example we ‚Äúdesigned‚Äù an application UI by coding, but in real project we have much more complicated UI for applications which is hard to design without UI designer. For PyQt5, we could use Qt Designer to design UI as before but we need one tiny utility to transform *.ui file into python code. i.e. If we drawn a simple UI like this in Qt Designer and save it as test.ui: Then we use pyuic5 to generate python code from test.ui: 1pyuic5 test.ui -o test_ui.py Then we can get test_ui.py: 123456789101112131415161718192021222324252627282930313233343536373839404142434445# -*- coding: utf-8 -*-# Form implementation generated from reading ui file 'test.ui'## Created by: PyQt5 UI code generator 5.14.1## WARNING! All changes made in this file will be lost!from PyQt5 import QtCore, QtGui, QtWidgetsclass Ui_MainWindow(object): def setupUi(self, MainWindow): MainWindow.setObjectName(\"MainWindow\") MainWindow.resize(502, 376) self.centralwidget = QtWidgets.QWidget(MainWindow) self.centralwidget.setObjectName(\"centralwidget\") self.pushButton = QtWidgets.QPushButton(self.centralwidget) self.pushButton.setGeometry(QtCore.QRect(190, 150, 89, 25)) self.pushButton.setObjectName(\"pushButton\") MainWindow.setCentralWidget(self.centralwidget) self.menubar = QtWidgets.QMenuBar(MainWindow) self.menubar.setGeometry(QtCore.QRect(0, 0, 502, 22)) self.menubar.setObjectName(\"menubar\") self.menuFile = QtWidgets.QMenu(self.menubar) self.menuFile.setObjectName(\"menuFile\") MainWindow.setMenuBar(self.menubar) self.statusbar = QtWidgets.QStatusBar(MainWindow) self.statusbar.setObjectName(\"statusbar\") MainWindow.setStatusBar(self.statusbar) self.actionasd = QtWidgets.QAction(MainWindow) self.actionasd.setObjectName(\"actionasd\") self.menuFile.addAction(self.actionasd) self.menubar.addAction(self.menuFile.menuAction()) self.retranslateUi(MainWindow) QtCore.QMetaObject.connectSlotsByName(MainWindow) def retranslateUi(self, MainWindow): _translate = QtCore.QCoreApplication.translate MainWindow.setWindowTitle(_translate(\"MainWindow\", \"MainWindow\")) self.pushButton.setText(_translate(\"MainWindow\", \"PushButton\")) self.menuFile.setTitle(_translate(\"MainWindow\", \"File\")) self.actionasd.setText(_translate(\"MainWindow\", \"Open\")) Quick test with clicked eventThen we can start coding with this file by inheriting class Ui_MainWindow: 1234567891011121314151617181920212223#!/usr/bin/python3import sysfrom PyQt5.QtWidgets import QApplication, QMainWindowfrom test_ui import Ui_MainWindowclass MyMainWindow(QMainWindow, Ui_MainWindow): def __init__(self): super(MyMainWindow, self).__init__() self.setupUi(self) self.pushButton.clicked.connect(self.onBtnClicked) def onBtnClicked(self): print(\"Button Clicked:\" + self.sender().objectName())app = QApplication([])mainWindow = MyMainWindow()mainWindow.show()sys.exit(app.exec_()) Here we defined a class MyMainWindow which inheriting from QMainWindow and Ui_MainWindow, then we defined __init__ method which will setupUi and binding button clicked event with onBtnClicked. When pushButton was clicked, we can see output in terminal: ConclusionSo far we still not sure about the performance differences between Qt(C++) and PyQt5 but as far as I can see PyQt5 could be one of the options for those engineers who is not very good at C++.","categories":[{"name":"ÁºñÁ®ãÁõ∏ÂÖ≥","slug":"ÁºñÁ®ãÁõ∏ÂÖ≥","permalink":"https://lzqblog.top/categories/%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/"}],"tags":[{"name":"Python","slug":"Python","permalink":"https://lzqblog.top/tags/Python/"},{"name":"Qt5","slug":"Qt5","permalink":"https://lzqblog.top/tags/Qt5/"}]},{"title":"‰∏™‰∫∫ÂçöÂÆ¢Êê≠Âª∫ÁÆÄÊòéÊïôÁ®ã(Áâπ‰æõÁâà)","slug":"‰∏™‰∫∫ÂçöÂÆ¢Êê≠Âª∫ÁÆÄÊòéÊïôÁ®ã-Áâπ‰æõÁâà","date":"2020-01-31T07:03:05.000Z","updated":"2020-02-02T12:58:15.992Z","comments":true,"path":"2020-01-31/‰∏™‰∫∫ÂçöÂÆ¢Êê≠Âª∫ÁÆÄÊòéÊïôÁ®ã-Áâπ‰æõÁâà/","link":"","permalink":"https://lzqblog.top/2020-01-31/%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E7%AE%80%E6%98%8E%E6%95%99%E7%A8%8B-%E7%89%B9%E4%BE%9B%E7%89%88/","excerpt":"Êúâ‰∏úË•øË¢´Âä†ÂØÜ‰∫Ü, ËØ∑ËæìÂÖ•ÂØÜÁ†ÅÊü•Áúã.","text":"ÊÇ®Â•Ω, ËøôÈáåÈúÄË¶ÅÂØÜÁ†Å.ac9b41ed7b0fabd762865dc9e24f581d547ce33336c9d5079f9931cadc7a6b9851b39329361c352b3c22382d5c4c3a22bc384a5e5708f5f1fb0fd12dac936f4232885f8e74e5151f71087dd34f94a521f29272f7deee8c0bb139fc1f28aad8ec039d1a84510d14bff3589d9d3d45de022c1a000b5190cbc9fce5af595c3a27621cb1c3e611d23b43fa6d88a2fc9c2f92fbc020f7d596c1f45edb548ab11d4aded9f62cb6084f6e6de29307241e05b58b84a20942df48d7d17ce0b91731b9a862a2137cf156a3d181c3ba3c4ff9e3b0e82703ab2748f6865842c7871014c052440e4b976ac3af269d5d96f1e00116e1276f645d7b7899a603cb84a4355264f25b9f4436e83fbf03643332fa89cb8ef0c54e540472351ca3bb5a507d3727e660d285fc998b08c69bc24f42e554b11b8440f99452725a1fc2b3f12f1210d7777259e594f700d1205fb7e7b1ffb728fde021bb739834288e7327db819cdd182b0448a39626d21eec53fa5c2030fd2016fa0a0e8509258a4fe3dc16387a92973964ed2cc92aad40c48ec287d9363026505ef6f4f271c89bdcee752c6d453253ba7fee936cec7b2e8811adcf946d31c8c81b7ecae04e7f8fef6ec47e07df43755c1dcfad34f8e9b40c65c60bc5ff85df4494c6b5f686f6c8238d05d654b7ef70835ad20c721304e4ea2b8a65d11d8cd54c5de2728e50d38f114834e49388e023e739541ad34447dcc6120c3bca1b0f1a4316466609601fbd2cc88a383c66a134b057bff19159e41c135959fb7267711eef6518e96a2db888e8deaf57a66a8219c7cf388bb1f473a8ae9365c787ba106fa5a2df6c33269a8fca1f92304f9e887a76fa8e82f9bfa56ed501e9554d8bd2e995c88892072e1286e43c0f58004d83cb45637b082cb6b786093f5dd2a6c4386b41ad85579ffa4b1819ab6b511e606ed5abcf76aedbf306c97a95a50b7d5d3d65abebe4b6b4f74cc7e7bedccca1a52af548e68cf8e17b0b2738c7a95fb2e61bd4845e1a8c6c72d0075485c2206ead3d07fb21b06887411a2318f1a7464252e04d84ba98cdf2252fcf93e16c5ba178228063f6613222a6f76a6b3dc26ec368a804c841ea0d8a2ee96521c6e6ae46e2f1808e861f3eca903c18af9e8d58deac18dbfb3094ce031af0301e3651bcbe63d2147571444ef0da8b78fa90c24be39cef4d7eab396e5537bccb9b85483c29700b3943475cde20932a34f7df4bf66a34d6ea12fd73535b18c5bbe059910f89201c865c3efa9a5757f04ef04793aa230172ee0aa63f02b8c601081ee68e000a14e0b1e5aa8a4c0aa84f23f3e65fd91e9ba3ccd9f3c10dabbbf6f28ae4ce421b41f4b9f5b735130994add8022b89ddefb4db278259f4038193b9fcd1268469bbc79e77e7010aad7fb745fee0e8cac3dd27896dd45c75e02770742ac67c94fa6d9a9a739bbe9f68b842da090ca4a943b5b9fa559e1199809df9d2572eddd1704b12996103530fdc1cf3b564b6951e42064820d59afb1c44feaf844dfff944763b8a06f753b1a26323a3772939c58824c71f7260789fef5a88aa524489e2e2796d93b04e32533c248d41bdb08b4189362faf309e9499097e12cc12383c0334250ffa46e29932fefa92f3cb404b98419fe0524cb2a16d766dd8654da701664cbd06807a63dba7871faa3486fef0e2ff0404b3321e96773f802777025ea6a2727f15d1f048d8adf986c7d6b01168cd396dda03183b5eede100ee02164ab5e23e4548452c856707917f3d3f897fb55a7d6851a42107016a20167a9a2f91135f20e0e42415ca28c8d219e1b03cdc934858b3be48836bdc71a0818ad526122ff4ddece51dcfc525f67484b88132ae6a8a0cc18cb8b3b3185fd8b11e02d2c194a9c02009be8d832192962e499b353ffb2b468f2a72166b13f4a60ff4e2c79d7432ed0ee5c58d1f49ca9063150d0c57627d68eafed90a0e7a5932b5cab5c03f333a491cb1d7c0f534a31240e65c634cf847f2e5053b9ac38adee529df4bdb20dafc293bd0501dc297ea9592773fff62483d266cc37c2c14ef41a6ec84d66400e4e24dcf84788fffbd78e19cc2c3f23835cbde5d6a9521f323bd9a148e403cc2f00c14097795b33039799ceee75aef0aee28e0f7584342e201d3ca63d72ffd4ec97f8671874c55b07155dfc5caf2117a399a55e4ebde80a6360f08c814a92c10b6cb68996afd23d0469280c6d227b68fc64741ce96f2d25d751068eb744f7905f53967369757f101295e3755ded24269ba355ad8340fae00abe0474020d0e01f0fc0fd97a6c049d576c5ddb63a401ec0dee8e24a7569d68d16104afc615cb1e2625a1a0a06b697c59decec1906470f38020c2a81ef7b5998b844bf95acb61b9396766a7cd2bcda3971ab149bf05272f20c5ac490b9e41c4b0abb2828d0be4cbae92b5af5e631aeaf4d5276af82f236c4e3892a65565d67d8255af0576a9b1b4d288058bd68df7b40c83ef114f491158ac0f727d73d1b9cfa172f740bfb4cfc7c6a09befb04b4dc714464bd80db5865fb4715a2b35c0ed8c8c55f2145292a94152196baba9dde80e53961c5ef98a5f87ae4c5492d802e119e44b30ac325f1c27aa43c8c404356126a6c0a6d00c83a94dab6364045b50e2505ae0b033f3fbf982f97b19b5dc304e4dee800dcae7ab47ae2c8959110ea26497351aaf921b3fc611722b22cf89d05585cf6492b037cdb87b94af43158020e58a0e056826cff7cbd7e00cc741b6107b1502be4c1066636af0f2a79525739e2b38ef470561ebb834eac4c0ab6102fcfadc2b389ff0f0e80e6c02a81a8b49988c51d39d78ba44cd3d552adcb8c8d8d120194b08bec7366bf5f7b4dfc723581e0d850084d026c0d2db2970437f207d254b1799dc223aef0277ca6fef6365a937c0c15ca39afd3d60a47ac36fb3e3a7c5287b63bf23a6fb9a42ef2778c210b92a8c1a50572b1a338399f5f6cd2dac34d759b6f29897f53bc0351c8b0f612c472971168ca1b7464cec19fb39b9ae33b907f115fc19066f25e81f5c727591ae137c85d78ba16d2aa36de8fb549a5d42c765d466fa3f68c2f0dcac419ba394dda470c3713f52f6c50aa0c054027d6affc3e3f19181913dbb9ccfce90a275553af933a3b2cd9ea50c4c3830e6f4208cadbe83eed12d212ad8312fe88b2e5004382052d581086ce4dc712d66f6b05a85d4e721158bcffa1d00d60dddb1325201b6bb6d49797a47728c23dedf1ba7c43199b6b23161a38158fc4f0f6d9578ec617b0c5d9804d3af35bb394b3d3773fb2bdec766560f1dc6ed4fb1bad722c2639a16004c05e66833f95f11ae737d426d816a09a704825505aea014776005396b68693c418c41e0093ce1cbfc01ec097844fb190cd5f98549732bb94cbd4f59b737b26c691868e237b298a1ac7f18ddc24c4760fc639c51de3c4d908247d37ab41fa16c6fa1d7dd8fe1c085c3a9f5297913539944b7acd40b18fd0ec1be1c61723d21d395b0bef9c0ec23371c9524f97487ba51510ab87f3900adc332d970da582cb3a8ae04a5f7a87449c8da7574240e1c240dea13c3729370e5f6925f11a0615288fc402d894461d5a018c13daeb075d0eccd777d5dd9d28df4adb49d0caa922a4710c0b8cf09015d87ddbbfd87963e0934eae26266ce9f5db7fd275a4d3eb8478e747b4bebfa30ed5008fa1bce72bc21d89733c669ede3e3e83e90f0868091bdbafaf64e7fdcc54f5f008231dd5959b23813c9ad0a100f9fcc13f1554081069a15571a75ec02c9436a130c40a967c5371298840ccc0fb277d5c359ea89143a09c5ee208a54531371fceb996398f3440831060f84d95f4e10a84f38568f02b4f7a56e14ddcae608577321227fb759d317d11baefa2cdadcc5aa06982e2b27b4a69c136adf983108f6553db6db3ef60c39ea4658d49ec3d86dc418e04f79a35ec6db5a1980e801e0ff53e35cb56e485685199e294b2635419da6c57084da2bda6990028cfff8c9a784409fce9c7330a62d059afa0325fcdf6fc3871879426a9e69779a9be816ce14a214d4c3ab2ad217de41ab018efb5cbceddcd806cea6f47bfc84640642b3328041aaf709a3df8c234923aa3c3a65e7e33596cffd0c548a7fe8519b78961ec6765d7888b40417e1120daad9997b37330e23272c0527c4828438f96a8b9415be229c83c40fe2c0df597da3cc34a87b93160df07e676b3d12494716291025b2b64612e57f89c3a3d8ec79bddcba91fe4dbf7f2954c3a32530ee65974fdaef120d366e071b0f8c8c97a5ad0964957ed17abd8f5dba35be21c86bff3a3c8f40578f59b1a4f397f75aa6ad655c393a8f2439fc205f952f4eff6e2f347aa84db79f523e437578b09790bf31684b5d36a25d9eeabb48f99adc91fdd2dd05cd54c91a8bed91be0fc7e2671266bfb30767ea20e56f18e469c8d4f06d4adb1f113eed92d59e3994b48e53b8013e19fd83ebdc0c087206957c3a9fc03a8a295f50d329d7d6709a7e5263203b2f52f8bdfa7dc8a9917d19bcf911ddf031f8b44960beb92a2ace792e8f36bfd666bae9545ab93a77da545d8a183bb54f13a38926cc337d5063cbc8b667cf9ffa099efc3edb0011b4cb12781c17d8d67baf02f5701710c3a38c93f62e1a8460145468193a31d4760afe025c7ad872a36e3051311e3770b7259a5fe2945ec789a9ec820db36668cbe416cb447c9becc4b66286599142a8a1e25fce48afb597660da54a400fabde97e85918d86e67af8125fa48eb392cac6feb42aca3c99c31d80ae0ab004e1ede962b69bacec33771e7709e437127de5d8077044b9f91817c107683e612abb32cfc7cbcded683689457d2cca59bcbb35fe2b683e5735b97b1fcc1f4b1870430f593760dd7a71e44b4e99027a7bf3f9e547313567910b240ae2f0f8fb4be5e890bb29e919183c0cba73aa2f9bb7561ecaf75f422bdb1401ba0cecadc1008d15b38dd754740e982b3021a452f78ca71beaa318200249ac6c5c2f904b68c6449c5a96fdc6228d8c31a74ddecc272e95b693d60bf5fd5c872b224970d53719d5d4dbb59d373974fae6bead134f4a8cd60ea7663070e77949f556e0f54babf0046f5d30b43904b15db6c661b1829dd372813195db97dd2bed69bcec3e0b4e623a818b5a4ef7fe85679dea24a94fec2c4d4c5198294438681a865de83639c4efc19070fc5358e6e56f5cfd23bba86b00a7486b9bea7039bca1de7235d0c78b10875e09d511929040ed4a98a7f147094733ef7b2acfb359bdfe5166e5995fa80f2c0c30028a4cf3901d2222bb21a9261e0d6ecade89a53a60038e387d672558e32cadacdfb7db921c8710884bebcbdd37cb0cf6d074f39537b56110b7372e7c3abdc0bd2ea5de6dba84325ab9c4118c550872404d33989b3bcb3cb854c27261594c906260ed271e52283fbc2cc00b51b20d4ea36fb9083dcae8c04e7e1117bda1e510dadd9d260734ed3829ed18eff68aef037d2c3dfe765beafb993a906e8c6bc9e1fdc42be558ebaaf45c46dfe8d598d708474e4654015d7ee60c7fe9aa82268f4ae0d2ffe51579fee985fa88b290338ee149fe71a551fe7041413595d9808bd43f555c7ea5cb15c457693e10051ad0ac7f0a27865772d8b227d8ce9a8fcd9658b21aa3b95f31dabbc60b90deb79be2d99d35fb8af5ce89add57a1bf906fc2d5f5da07b7f847e94879b0a9a890dbe6cd5bf3bb181b4e06845d107b720461c83f0eff86e38e986f7e289f5c45691395ab891abdab068a823fe5b469d533f6a1af102901287faddf5f0fac30cf8b0efdccf3df54d3a22e879030f8f566540c047b60c2a536a16ab3e87388b9ff477fc90ebae53fdf18f7e99e139af4a43d2a20f2f5eefc5d145206e8a8f263bc0f5e27f7d4e15ab0b6342082d8964b0b892235dca1d2eabc186727f2bf52eff79d8cb23993ee025fb701d3a667c807c5a1cd0b223af17837647517c811b8bd01e7d6a69249e8a8b83f926df4e74d70a84a28f613fa22ba08e771a46ee492e52b063c75c0080629fd1f7083a27563ddfae47917175387bc6c778d92b427fc0032bde4af72c8d1a0f295ebea696556081fd9ba2b98841bf919fdbec42ea48609aa3fff50c622ca98addde1de3a188455f6d70dcb75e2f6204733bca780aa5c97509673ab3a8daf3468249dd61d26db7e2dcff62ebbdba51055a0395a2499115b19ccb91cd34fa892e1d519ccbba342f3bade6af34350b04e1111ac29b6d38a2ebee76f1fd149ae4697605666072366bf8dc26def4109b6541a2d1fc4e6a0e9165f2bab24681d8a2786dc60ba9ab4d08c68ea23c063961fc154c47a0b641d583a5c464e80e4b76203fa051725054dec1240d8c119574f7447704ad5a6c3cec148d008d2b8d0a46942743246d9f1b7829322e45b84f0d12ddf251c04a8aef3c400262e05d7c26335a7cde05cd59f8a4ea7f5dc64d775504f284bd61af7f488160487bc9e8bc656944e36611b987cefb170fa2cca7435d900747fe7d0c22f59de6a52191db904ae1afe7a409d1c65f60cf7388fd469dbbf22343021e42c7570d366c7a56f39b2b31e5fc68b40671f65b3723be9a2dc3a9c82b91ec851dda74761f3d71b7d2e3bbaef18991560335c83137ca5fd175d5dfce65ec7f534086f2122bfc97e4f923dcf5d59ba6803e3dfce1562a307107703c35646d39630edaa90ddce8982feabb4fc355e00213f46c2994571e4205369f126d3719c4799a3227c42505fad98775b9f2b2883c6b5c6114a0eeedd3f80efb47247437b61f759f3fe78618cb0203b365dbeac0c4f95ff6af87e729aed9ed26e3c8ceca77a1550f2ebebec141189d26343b08e3c0db916bf188da10e0836a327e93580077dd53aa849e717360e278020b899499b5b3169fdd84acca69f70eb74d0bdff0a3900b6ad7e2539aa0447dd9fd09e423b52fa7676a108383d3b44f35990391db6cb84ef2f21758c24504d449c2ae058b55e94c0c3290e0e38b11ff480dfc1a679f6f51b857df046c29b1482a570862439dfa57e8a321da7b8539f0918d015c26305524bbeb5829461b0b6bee4a5011c5a85690adc5fcfaafb7c9c315d85efe5db39dd8c233a04e31050d12a9b570bdcb6576fbc5e4982c506134cc23e9d4ee6cc0481e082daae53039abd8606af6f90c5c2841c5ce2e417b5a7f8e9b127fcb0a62a28f1774a8643454fbf054d410408534bfb569b1e1e29cb314698f8638094c0c754b22ec93fdef57db506c7c3731899ca0ca32894c7ad7cf16d05ca9fcbb915b29e17eaee5a93b095fe18715bc8d9e75431f23f6bac513128cb5e64e7fdb3ef7efdf97887e5c0b5138d685a18093456c478627e3d250f79b5a750fd5e67b68177d74be4cf017ecb743b7fb40fbee2b23dbbdbaea1c57b62be3df7e989e6629b830be592409b3673f691ff47a0e951c63427d5aaa376dfdf8191344c8e4fd2f4f808931f2a8c020f36059319c7c5d6729df6dcf5cfe34a51c2f1cfe3982a31379710c90fe8fdbd176ec9acde2a7610a9d261c214ba39a4d87b0eaf2efe41975017b7e880d93e8d95de3d77f47a22f1b6cd6995b1ece660be29a9471f5c01476650aadc67091c78b808625793b8295067ac6eef36d42f7b415244943e64a9eeb2cfdaa77e57abf54c544167f653c1939e8081c12363b7867dd8eeef6036ed305419c2e4f686f535ceffb01a521053379052138e85eb539255edda98342ea50f1a7d92ad7b12f1d6d9eb7548c6064d9b478f66b061e51c6ca04dbba31dace8f010fb50bb775c76cd1059bd3016d290c81188c397199d05b833f9a77677e0a296b5b3a0f1f7ad4f8e4d8636a6789f88c5ffe3a6aa0d6117fa3f00f6a709a749602d05382ed4727c5ae8a47926f8af984bdb009d07c451de6bf81e84cc16d253e912173b1e294f7d368a379d97fe15901413469a86f1c40c69e9737690af9872a63d99f52f75b9c0f67cd907008dcc600c46d5d9d6341ad262b3da44f2a57adea9becd0730b37ce85d6ac61f434158b994da4fd80b735c321d98ae355c97a7518c0a4f326868bbe1d0b4de2021b97945ffbfebe953c26fb2f7977924565a52c25979185665e96a32bf5eb93fb21f10ed68a0ea4c5d0c72e263a5a27ca8972d0fcea827d51d3805243ed688cd205e3ea46363f553345dbf1f7b19702b59150f93fd798ca6e41196bb2cd914f04075876b8ae63d20d956824cf4f8abd8834da93bb4b6784ff78910085c5127df9858bf0bc699ddd31ac10c6e908263ba9fdb50e770d01c7654687f05bb76362cd92a183ef77b353de61c2e459723f369d5e63208af7255c7be1c1163d41a03c98ac4259e0d5f01794238e664a8e24c733ebef0ecb8f775f07f6648e16efc9752330da2cdc184fef5abd49c508cb4f9b6e4cb33927e9d47a0c5e2221a61a0ccc2a84f515eae31f3dd37ea7bce6c7eacd4952aec0fb3677496bd1f7aece33d8b5259cddff30ab2ece15abb696d3aab6205efbc509e7b80ef65e98c834ef3d46987f6f91cdcf0711748fffd52d34e1a3f537607ad8e97629c4959637eba33ead0b4f2049338ed9950862a9e400c1727de4d57f099f2d94aa5d9538da1e6604ac9cacd06cb127b9317c3e18baf0f5be109e4f3f351138b67ebc19ddacb0d016bce8952985313b20c3d17948e719011b019157aefe81f05ae927943c977ad170cd480bf70172ec09ca5cc6e4f68a0afcd3cefeceafcd28d9445612411b6911d0229bd2eb0c90b61c8462db90933b080b29e900b8e7321c361503ea69f3f2aac1898bf8bad0781053d0d9673a9fd4362e33b86cf39ba774a379084d0679ac2f53b218469514a55fe210a7096b6b2fd344482c0e6d100a0983478d198ecd3da93a98bf75c5886db58619572a37897f934eeb2bcc95a7868e28a9f680712b0d24533e75852c34dfbb78b0a200704e4712cdb6f646a6a2af6de650b443c28bb201c8f5ab193a51f410c193662d2846479d166c3b12629dc4eda396d5574eab3d6ddea081d3836de8942772e54bebe6889b629b8176a733acc08624ba70185f207cd72a49cfd1c9ab3ce1011b4d9c6adb65d92b13c4a9a37ec2d5a690f44728c15105887f207537d213853a6692653d63b6a615fbfee436566c3b581140c00f82d7476bd85335ec9774f5b237f6a9b10030d9d5feb73d791fb9edb7caa319f8ee7fa510f757025cf4e68b5974d71d111275cccc790e23c634cedb9e3c8b9c90f42b000869f9123ecf51e3faba73a601dd4ed293d04cb56c57e02096cb3f9808490f910ec72bb546066ec2e9d6177e9d5449eb91a1c6fc0856ebf5893f8b06c8c5b645656ed7d24e72d77ff6a810c8cba18dce010d6e7be7372316cb5f00abafe1d5451181eac22c8788246814c1ff54d46b1414a2ab3461e77686bf24f4493e8f1c476d0a459773a00b92f0ccec88480c88b221bb999e27c29d1e4b1f28ac0e82add4df4f12620d97592a74f3d575eca0472d4f2dfbb427e6e8346ffc7f28e016dcd5fc9fb9e3bf61bddfe345f819851eff13a3554f1b38f7d455eefef814e386cee8eab68341873863dc05e7f7a7f52c90251483ff09ab99a69de47e1c9cb9810730f080fd0717e1c2f94adf55b57c2caa1541a950326d18b52cfcb92af27c70454e13d673ab0ebb5085e26867de7a6d153a44c66a1c8652579cfebcb938191cba69204b69ad15675461ace21c8db6c0d3e118eeb0658050a23cef016e61f4450d5b3bde82261c87de4728f9f9ed4c454b8d3451507181446f76206d525df4c78e4aca1ca8d69f0eb4e52b3e0f21de560410c85cf26bbd497e6ab5d4c8d6956e1464b5b410f173e4aabc2a9dbfb88072b8344496efa840195b2494c82ea0752dab13a53973f9db71f2c00ff4360e2b2196403d220fb910f638aac031b89ac7ad82213b08a8a15d639098e2c2e13eca5cf47fbbd1529bf8bd4835a98ab88f622884d5f6a6ee8d95a9ec3c28a645e2e36441efc942f5b697fcc7b3927a32e633a664c8cfaa08ba2cbd7b7b98fc622f77b42c580c1d8c0e5b0f4d12996e49d8372c41a8350720be3b90b057857d97c8b1a99ee467bf7a0e83e7c168392c032e4c309b2115940d961f97a9eac88a302c687c8d90d23163af725f039c1166c4f9816bd9ad88ee1be8b94c617bc4af9a52f300307eb1a226900ec367579ad2e0bc8f1bf04affc5a6ab86e6074c60f419a2af97aa5748ce576bd82aa4baa6af23b866242cecf13f47877c8b20a6e18f61b0bfe7e3982bcfd3c3e57c94e340ce0fa96429fa388b7050c4b4dd1253d79967ca23e13ed33d71a45d3d072da26d8a9f16de69a24e23a276aefd6d4f76b5e67015443470f12c29b8f87f056956ade1e586ac8be0bdd38922ec82b268e528ac02609e7c6feed839366d54b470108edabd1cea461a0a19dd243bd3fd4efc149b3ac83cc9505df9c90b4a20c48381b4d595231025ab1805c8f72772077785813d90e5fe74a86081d42f8d4cea96c97b7bac276924d7675d1c49c729a75fa2751e8ccc10101339b7d0916ee098beebd87b4a70581f6849ec147806f51c2b44c1fa2257abb411f73505439c36065c7d09dbdb6f72de3f863c990b705c3a23a2b48ce3d528edf72508d0bce553e7e4263c0ba999d3e5185ff34351c8613f993ed86d2bcd1df4725bc100bf867a027b1a088b83696c4fb2b22e3267592e209f8e51ca16b5cf7e2327e630aa363ca5b9a4bbb8df18f229ac05b6180b70954f52f9a40fdffbb613f51530d44557020ec646957d1a63352ba8191b4817d55ad1d3686eac678ff47c209b9e2a0cdbb4b89d17ddb9c89b0c45a009b27720857f7306dc5045d61fd5f698c622a20e205cc100421da5926d585242430ba67dd3d74b2804a94bbcddb7369d6aab7873d8164ded4a9629e19d10edc6b40df50e8af19e9ad5a3bf4b46a9b5eecba8af57a5586d0615984fceaa329e07b94f5e27977e8f63f1cd2bb042f91ddb2980e90e3bcf9c29ebf96034b6f40822c24a3021ade742dd690791ae9e079784ab71bd604e4d612c0b09fddec90b34ebcf27d7161a679847d3bb025fd109ed42b1bf3f669ab3b377d9c662d81ee3040126a4e0370f24b872566541250d0ff8da10b14e2a27a7c39119541fee7cc6687717e437059670dd8753da4dfb778e82fa716089fe1f1e6be17a9d7b5a54e4f18253fa7b0031a7108967085257cb54e4b7f8828c42fdeb63408c0cd1b1bde1eed0adb93a57dbd1b361a5426bf62d9361de18b893e4d394ea44a86765e0ce2f0b7df8e567e48fb76bdc87666e0ee93a9acf9815f91635d6cd55e794e4504ee014ce58f7d54fe2fa6619587a6d44db15f0ed8808919eb697c6b46226502f6e57a6bb25f65cbc513a64e65cd7e553d59da9adace3d3a273cc8ebe500153fb19f9243574c5e553aad27cc25b18dbe107fa6915f523f78caf125d467f5dc340a83162402fbd80ca29b563e2cb7aac2474ff65fdf22e434b4606e79464ae8ccdcd86d145ce79b53f277df459c72b45b1a04fd16ab02d0269066848a45b5532aa5bd0f452cd44157a0da70f19997b72a8f3f0881c9987718d89d8f90e8a6e6ec1f834d2e51e60fb94dd30a8a09643f28b396d65891c56a51b9327df9b8228f88601bb652a3d9f178404c64d350f735239e9efa27e575f529a5b6b138dcc01661b3c6fa97a70209c9036064109cf9228fece0bec7cf1885240fdd52d81bf7bf9b107723c19347c506a6c357980963486ec0070c48d46df5011a403a4540958b5b436ac6b63e7128d7903ce76292d7a2cc9850a73e0e28a5433c1639e0871ddbc364447e4c70a43c68b66a40cd12009dc5a69549dc100c5e1d33f6efe5c02e145dfc243b3dc9d0dd766c0913aaf9bdebd46be3aaec31a809afc08d762c9cc025f7e20fe3b8fb13ae01b76b43d1bfaaa7fd1a4fae32f10d0fa0d107c9a1688c05363f8f5fc12948c28ba1098e70eaafa650c5b95ec60e02d38efa6226f8a5343633777a0f678244f2dc52e3784949b22d598b5ba4bbc6e97403132da328020a28f3298aaef352c2372479808175411c15d7f88c17bca00b8e099c8c85e6309a0b7f8477f55db6d6ba226c59740c0bd09c9d8503fd8c4f3bec6a7aac94fcab63ab55a578b9cead620201e4752e69e0cad4e948e68396550433b3fa98d46a4ce8cfd4ac49215f9b4e549eb4a80b0ad8fb22263f75bcef5c66358b8a4655e8cbe53585c78ab40a4bba3dedb15e28eda2f5407039773b61638031574bb414826e88c2ed8d75e5cfec3c7824b657f41523df1265347fd3bcbe41d7e97a72463d999ab3a262308bdc4a5b30f337e7fcc666ab9c557d7318c89344874174bcf817555bbb8358104f2c568a2cc4a0a3c59c76a9256d6e3129c6d741f0baa268f5a86fc49b7701123e376fc451de7ae7d27c0f39ad485e55776b1a93f921fc349b1fb7d309843f96e126ec61f551c22bdfa67102529afcb17a57331259cf1d2f06aa0d939f94928019f2df5ce25b86e74cfc6d16a1fa225e0b6a63891e61b39289e10585dd478784b9160163ca53773f96259b9fe7d45196788a4d1861af3321053b5c9c2fa3f7d4c47ef61489551ba7c4eda994d3cb69e4ae3834f6bd7702042953dc4b15156bacb5b4e0f17947c0165d891c56ec3845e7820d22944d88ebd325ecb716d81c1cd69e097727d4ce3c4bf382ee37aeca241e5808388f1bfbbdf313eef52dfa0e9221b4a58b930e0ee791fc42f3de1db768ad28fe5d3dda4b00f815fe4824f09b06a085a041b32a115127918ced68158d33e1b2f2a90151f3ea569be57b839791e7e5320087d71dbda915533daf87d54d0caf0238954582ed26d74f0cbd8d7045fc8a1382c570ba7e3efed3c72412f7b47e3f07387ba1f81654751c7c9b39f5079148431056a69980a1ccddb4807b4dae27a1ae2fc923965159a004f6132832540e50b0cd959e6d87545c7866e07891957f3b17441704d0f166f0c8d4c99e149d2870ae01c7a9c1b392d01551fae86322dedea81db59120de8cff13a1091247c4c0e0a770272df18d5f54363e050a008dd00bb54a5a45ce6d92777913809dc672c7a74e2f8e9c91eaa3e945ba4fd074eadae3cc92d7dc38f66bba44be2141704ebf7ec0eb544e3d209b98dd276b166d59446b486a612b60074ba8f5183db0f12dcf98ec6551ff9b57f1868f2b4c078025683ab98006319a024295ba4e967b5da80e06bfa957e1a5346bb230a0da126d7ccfd50fa48d5557072ec29efa39aa3469dc3b9e8cddd7df976531dc3d13e1ffc0c2c599c77ea9d1d76d3a9d77f5a1f1a350ec7c97af771693794a10b6dbb46620ed7af702e04ddb835d6b7ef3336aea7e94a879dfc80c4f291518b7713749af8abb0c3a7c1119449348245fb869629dbcb1fb102a3ee6dfa2b5de8fe41601c5c6f13969570eace1c398d59fee3751b63513b3f962aceace67f07bf74e090bcc592d567bd4d1bf469db844a31df1f8861bbabd922e1677cd063711ac69096d51d1626435d6fbb42f4d43f8338573c01eab394f6b67860bd8f532c6430f765f44d57510bd8e8fb7f159beb2d8a5a26b986959905271390232263aeff9baf320fe508820c002988769e5e5a69578c1fa26a65ff4af89e8ae7c9cd92a7aa2eb84b7e678bf9324fa509b94d2309c7b7a771b81bceea2f11096b23e43b815226cc35afccd786724c0d1075cb474db6285eb9f064ed7d3985930806d0fdee8c22a55798c702514013c9ea2ed9880148424dbaacd337f7f18bcb9db8e9677281ac9908981e59ae9f5e2ba2246e81cd4bc831d52c4ba1cf09d23cb8a0dfc4b72817464283388104b3a4a2fd7d606ec38ae048f58cd20acde4f0272904078ed82ee02d6793b907584bda0f8d2fdc2bc1a6fd512f26bd8dd61680d00c827b8f01fda789fc6e810333edf1243d004a300b5f21db9415fd1fc7ea26b7d39d559fe09a15eac5acd54f3af93d14dd808bbfa23401c895ae1f0fdcea90501132f238c2ec5a4519911ec6fcc709fe0dd1e00c4584f3108824dc879d81eedb749a91a417a7df5d1a2c9bf34897d1e9e7042ee972fe56923ca7f15ed5d63a0b29c3853e1e785477f70410a4f2b8af43fc65d5cf7c3931d4b455e4a376b574fe769dcb25e0add3a2f3246e97ae83f23e529b0a2f5feb6bbf53178d5e9e8e6b1906fa4d3b28b8f6328b35e78cf63dadf7091242a548475450f8a30f54d63da259809442761273a7874a3fd862efd62c86bea3440e79eb95eaf3f8ab0f613c286c4d5552d9fbb73117cde19459e34733ec6f4497c8fc1beb0a111780b0924351e17d0b7017f1f583852e942d64aea057708e972a5f5d74ad25fcb74ff5425550b7a04a3b294e10b518d261c5f9e7244fce47c400a8b942cf64efdcbc483642a77d6bcdd526220a7897d6f545c65066cf03cf0d2745e02724dd5664b03aae2b0d363386cb8fee56b91bbc5ea3f7c919e0b044cd2d7b10e5e2de224dc4d0f4c41e078a3395bb5e1e58e4728ea4ac197881a0e0813367e13e2f8d530acf330f6921d2e07c30df3376b3edae15d9c20b4d8d2c6c9e6d2ca6fdfa1fd47a7e801d82138edb0d2637de58a42005c097b908f99cd4ebcb118760dc9c31540bdfca23f2a0d0dfd3b7db8d54205c1cb0e136fb94205b27729e9d5cd4efdfc961679b70ed85b45c9b94c49e605ab67d8d0758225048135d57aa59fdaf0f5b1db3700cc116f1cad1fc77f9c340d7af1120513baa5e4a8af94e5fde08037c136c36fc2fa6d885dc8a6c14b31f2204dd14b131d18d98018bdb6d326c97788123b1b302d8ea648a6ba188657e681d8a1fdb2883cc48a76a1ef34da4b2b5078d5038c4f482e7dde03a7f08fa9986ccd9b5357c7aef9c061028ab55e1c24ecb5272a5129af226c5406070c6322e07111465efc434441eb142d2e064311503f7378afc6c29e0395f0d03537037307e540bda66cceb8c68fc55671e86b2ae1462f26d36aee9e45311cebf089a5eed5e5745ddfa81b7b4df2653fdf71bc8efb9c7a86a2d3428a93a435217d3647379a3a3fa5052fd1df4cfa7fd03609279f9f7da960a0898027d6bf3dcee2eef0cb15ff029e1a8ffcb4e0d8b1817f4adff5a6abf5ccb6e25fedd04effc3f73accaded4f473130aaf1382ff7a7c264a7ae4e92ae6f15194cbf5410b037bf8267fe4648bb3b74bb342dadc988567b34937166b58d121f14002787be09b57b329b8a4ecfaef7df27331cf9114ad4a6b7ebd638b44032d0d76b5305219f0a8560665e60753e23f0749cf0055c4e4c63784a856393472966bb62957f050923b91565e19fbbc51237ccb4d92ea656f551d90334d916770c88f7d91804627673a974d6c423c82b55d9fdb3db3c2516a3e1d047b5329b06b99db707f6e50b2d0a1d5b8e57b16954e98c3c0294269f832d56eed91e369554cbcb180775b1faa2c4d2c5f5dd4c3198ef1840c9cc84d198d0f71991a5e9e0fb4c0354f78a79221d90c8796ca37b9ae06545f190acba58cab18b72034093d3a0432edf0e522eef25c6d91cb3dc3ad7f26fca9e10b1af2786e7151daa095c052d58facc6e33f637afb729d013c4dce1e007bb7add0ff436da82e4db52459f504987a62a37bf755d3921be0ca55059ba9a0c9379b561ea69125b861a34eb02d680d3894ad71aae966a651e2fdd359ad80307e34250239dac7299d93eaf705cd9d42a3376c19d17e96b80d17e756237fe6d87f323777c993b32b872545f81800f4aabfed4a4d4bd17d52a8c54b12338cf15beb0c2e41559f5985e62d6ad2e04ab7c48382a559400acd6d9ee423ceccd9e30ff6a3e0972369cefdd0fb6c1877bb62bc48cd52536fafc45034b781da62c131dba12117a68c72c5c627ff996cc9ae31f08eab77b234618c1b6ff3551941f00743077cde3a3d6f9c7efd025328c39eafc737d3e432310c561a75827c26a53ff6b1ded5716a4a576b39684b35e034e8636aaa6a5c19da36fb6e7d56ac8bee5afd9b76a8f869ae3d742befba5b86a5e5cca9b658f7495a47de754bf20ed8b212f14b67ec37303a1fadad2c4fc3ca7b3742acea71e8254d6333cb301610ed2e2d8efe8d885668b722068b160aecf8c6767a3c1591e3c89edd00e2d0ba6478e16450e1bd0c05fc62616f05874113a72fba65f6e5720d50fb33608533447e6efc6eef88a1d3b5909f9c79f7531c8f3c383f0a21b85381e0ecfe3bc00f984397a8ecc29ec551a8400e0eb43e4a0e27ca6a8556f962f5974a7ef7b103bb9e8570085783ad77573ffbc1c023c628a8c6f74ff14313b14752cd4b559ae37671399dcf5d8f9c3640f7d5abc98f6233744aa57bb913c772549927dde486f86f79bf46d8165df2f5604f342924bf2d0468fc73f4731ebbd96c49c39cb608a881a6a40ee94bc9ab54a4ec715543fb176407316d324aa281bfed331be7f82c0989e802e1d258313862421563d29de344d2eb8723859adb54a975f0dc9718a7ffcbf6bb6aa5f7c60063331021e6bc96c46c39330cf6e9fecad2be625767dcb44b11b4bf28809fc5344fcde91ace404e4399ce69f30a536b3a32f3665b2c571672e953164faa3be279272e1bd4c01ef3e06b82cdd70517551c0d3f208b224383d2716474ceb34915c603aee094a77d5f8cbb3fcff1861d389911ffc17351bebedb339b1dd029eabfb935de6cb5d588bdc161979f6aceb41cfed2fb273c61b813aaf28959223830e409b193d6e2b86d2a9a6d8d9ae603e54964daf72653276f44a7f8af2ea94e532f6cc070f75f87c65b73758bdf75d8163eb553f434bf0106ed048886d54e958c3f440b6e64f2bfa76e308c16365b47259e983fff3e834cf9230b355bb90404b347537e36ddb4784ea39bba53222e2044e9dd873311432ad2e0ace3164e3e21c74809188fbbc4690021ed1b005751f37a1198b7873a57b0f699b5814808f1df88d926b94e255cd30489500bc1f33286bfa9b21a16a154a759268f54bfbdbd23d303bcda8c91c25a5afab13e6891e0e8474f2580692bd6a766b73698a0f1e16e3723d0538ce76e2e3c868586fc0b47fd73a38a65aac908a8e6c9964492446ba3ba31b66e375b41ae5f28fc2b991d217e92839e4dbfed9db2eb44b20d183913739975a0b96406a7a45692bb39ff0c8626f6732cdbd19ddbfa0b4a1572651d4c2829f86ee819e5f640680063853bf5650077ffb630fb0782972e9189676c1b76b2332dd03ccc3888d3c89da5c3c5d6c4c6ce6346017f7f5afca97bd960e2bb0cd0d912787e10705bb49630561b2c86d515587ce117942d31d069a00b0cd2be6f17d63d8f2ce1c5454ef386c327dde381c85f5ffebf7f0370f0ce9f7eb6b9e5b8f2978f38d88323970314909589e4ccb712ce44a7b8a05b71ea2e5f69216893dce28919c2e6181055c7ec3f69fa565da074187b8902a469dfa04994120552c6a1bb06e217c78b9d76b87b1f0ce6256199afb27b5d4046382e72f17ffcad9c2f0eb8d800c8d3d67dc18e9e9b211bd8a803184f3a942f563df3d3a7e6e6491bb76f9aa9a35c64ffd647e362d65697f9df7d2b98ac35ce9adae93595cf72108f957b65efac7838eed3f7e5821b42cfdef77f97a5485af7fa74d42486577f93bdffde6eb3159f81bd0beaa632ec283b621421231b472ad982261cb324040de5348e7acfa6758e1cdcd76d5ab465d458da4942125307dbc50bee0767946bce1dace6a7e8f231ef5eba3eb2e6f10e5978744252a3ee00a3a4965b328f0935b0f5f93341eb89186c362a86ae4222e374c3040edca932028976c9e5d56e0113072969812d3205d50c74587600195d1b652f94a1fe620bb43396e6fade091b77516076115a00004fe6b2fd8c615b68283726bddb199d32985b403a19bc602ea4300ecd213c65e16b818d77495406ac611623e7fc76b15286f7db34c13576ca5f64e33bc0175a3c6d36fdc74697386e5652ec9e46d3e57eb79236df4351b988ab6895650b4b6bfeee917d3401ee6d0ae6bcc83a215557e8cda1c518d1c6e2122fb38505be046fb4e9a3315f608cc19ee8dbea2f4e42aa2d9c87798342df2abd9d756bcb590d8031cbf71411cd5fc10fb8e684ebd9e5d33a73c6743f4acf9f7341749b3e2ba0e4a4ea12c77031339f4032bcc321c8a6ad0377f41f58ddb2341ca8fa0a6b8a34da219cb2e251dd8efc37ca8df8f2e4d5e4c283939f0dbf1c9acb84e7debf77bd61f11196b19e310e3c79693fd7d0410eaafd2d52e608accc8b115f24f3bf0ddb4d169faa40c6cd3e1068a639f70f2ef5344a480586cc33a15c426d800e575d921edf614ef7568e899376ccb5b26c964363350b15b6a1c796c360e5b74dd861abebb659a939db6d5709ba6d92350c1697f4f07dcbc1e9e0e4a6a4647ba4a4ab812f570a6ca874a827254ed0b3765b81fd4149799446c88a77186c1f0d9f48e040e6cc32f328d07f70304ee0b32bf4d44fe84d8619e940aac67cfdd1bb21e0ed306c301f9bc6dc888934104bc54b5753c8254971f04e0e96dc886b7df3b23979c0ad1b08beae35356dcc519cc784814ce03a5d5a753a36a405947e46208776b7c11a31ae60e90a940becc7608741e98beba9964c2dbb37051514f363127052a9b6602aee7b3e9e929307aea5ab9706e6bb31bb9010fc41599ec2164f96211e62a192384a74c8c62a8e95cf0ef7963e27acfe287d85eb5eab02812016f13fc77208112c607075715645b5216163d4fc470e5592c8348c69d706e2bfca69b8b487008c3953de995a8f586b18d885fb04da702b6c6b1af0e198e91f0f8abbe91f73fcba40028ccaf24136575d6fc1b2e44364082904d3658239d894b21677a1b18610545665ae20f5a294beab9e9e219a66ef240b13b9fa3e317be53e60b3f4eed83e1a03fd56fc709eb6e8c54e4c20e4c4d566fc767de488dda8ed6a2c9bafd294e6f990b92f07289bd2a6ce29f0b33e8d5053ddec2de0e0aa2e8f1790ac8589cfb998138a5a587b09cdaf4d84deaa3117ee57579ebc1870c7ba598b37619102afe4d07440db26e4313a4aae278dfd824e2c123ea7589ac760737bba215c19be634506e564d658d8070106f2cd1c14347a6566b6f1c18bedb59880e6009e6646f0f31c599efca3fd2cccbb8574601dbe8995fc218d22641802fb52ace71789c46167414ff48d50cd5d616bcb026743eec050cdac2f25a62c89870592e97cdf2e26bd74c6a265024137d9a8583cf4cd788b5f1730122c070b98ee3002d65a2f1bf3eee439fa0449ccb3171aa40f35cf6d62494f719cd49c7f5faf879fb54d7b4f550cfe609a9017a05f9c0543f16d3c4816a5b6c93ac2e9cd28c8a0710054c0f3b7ba391a55a88de9bb524fd25d5a4cce9e064638e591543b53a56a391ef2339d8aaede63c0f669772e0e78ac9880e3a900a798e74f0ef74b2c3af21a80f042c1e54bb988cde7d72509a8e42a172357fd92ee0e45d71700dba9b1796f078cfd804330369824ca964826f190427f680c118bdb4f5b45964901840c76563b1e84e4b97049ced93587db6f0b4f032507fcebe7410b66afef22e80b1002c8c0fedac59effb45777358d6a1c96c269a5f4e9cb9911d396acca522d95e1252b7aa39cd0eae1f1f5b401aed4ccfb0bec75fa3c8df2b920425cb9f0fe61c6f5d9fd84a7dac85ef15fa06820ef6561e4d3f9df5315639f7f1a82bb7e30b178655767a840a08c4ae3f445e965cd9e192905acfbb4877128c496713cc60d105b05c107bbd3534d411cd14aae0b85ce830ec0bc8c784a1f4d54577309ae1afa2ce3ce11996df60018ad630dc06f43298690d5adcfa40f1f725b329f96a87e6ed6f51c2d827e714eb8cd7b0c30941b45b97e71cdc0918a8d0d26663d378d77a2d22a3ba929015af27636978545518a70e79b4efe61bbb64cd439d83967726ee502810638c566ae92be818ecbbe1dfedc5599cde45c12d4268eab7a4711d2fe08730f07230474a2028f5dca18516c48eefac41d26540909e86470d2103918ca2943d59f4e46e61e33f61a729826bf4c99104388827ec5e6618e4e376724a8cadf4acaed59f2d337a4f42099440a015f29418efc299f3c92c007bbab7eafdfc21a9ec9eca3db8be921eb1762383dfc2b0495a5eff17290e046f58d13e532e15266e55a72496da6135ed4bd2ca0a173a4f874c0f12b01dce1899a34ecd0c613aad1614b4fafa0723fe0655076004bfd994e772ac66bac3705da87b24351dd4ce418f16dacc72834f543598183efcf42c107c2dae1117921c7c1fc866f74119e65ba623336b6c4da57c907bd2804c962467200763652a0af986719762551e5d8cce4e473364b802a22ef47f51fcf9c2c685631b0c6c7f4463e0e8a8c8978970b9c7782c811e51f6a054b92cfba6d8ebb10b0e9edd79febf7a69559cecd2b2ffce75ea7ecb10e560aeff7fbf5ec4fd7274b576ecb8c0dee7b1f30cf4a76159849ad9e4ed319abd61fc6d9e3dab04eaab3f3149f5f227a0c5da24fcba007a8e6b03458789b4cbdb132e8e61a99f35c0ab79ce2b920b0237e29566a57bf606de83c3250ef95f7a355d6ab58c21c8eb65abca9fc56a2bd24e68b88306658b17942be1a96a13b8b3cd0ec25766b315a332761432fb718fde473ba015627a8f59eebc8e804137f8e5ace2428b6cf74f0b75ec17322fd813d6da7f7156b3113c5169ae1c42e3f088ae1eca6230a2135d67a87650c907ebe39f0478e265b32b3931bcf0d8ddab6440abd4c7ccd346815bc0a0d209f4ac224cc1baaa99627dff642eeabb1fb4506c5618edd5eca24828050b634d9d203098630c1a15106e4a416883f15071f644c4774abbd2c3de16fd35e5680e67129ac4f900a7e89487dc92527fa714f893dbe753d1eebfad304174d429aeecbbacb30f85e0178dd607965ffe7d5129020ffdfed17149d3edfa399aa979d802303804eddd6604644f311cf580f82edb946d54e59f71ff56b58406783e45d7fbe0ae4053e4fea12e6d43e7adb80089b3c32a4627938cc80775a0e4ffe706d48e505b89f58b71b062189224eb94ad0d44dc6bd1858ab7219f9fa09a5238d3fb75efab9e37c588aa5862f81ba7d1ce4c29cc1ee2e77e5e95594b154e7fc13166d6afde2fe9663e745b25f87b74f0376c30894aa655f4b91fad8469626aef901610a83f57902178c7703d77f36080e36c11d2a500fc0d3c6b4cfb56923c8a6e0e0e417e6d19d10516ca8ca9a9094a94fcdd86e4234556092850fc16def1de0c80351774390a8a37bf3579682d91356036f7216d4581fc0676e2f63b3803d70d6a33789535254039bd37183a4feb563148dd9bab4f899708707a7bec8e86d0698c11ac0ef9480e1693414b6b8e3e37b2822cad8ae15118f483e04335dc4df54465282accad69176b92ec318d389bf4350ea54bfe46eccb3867a06def0450b1546e25290d954cd0598469bc6a81fee43955d8152c607c95a25b65556e6cebbcafce739447c0bad33167cc13f89131041eaa647b9f9fe259c7dc7c2e39de5bb1df232933aaf7050312a848d2e2d4ec7678796c7a8655a353587676b09dca0d041d3a69e6232150284139d06b212542f20cd4895b8906ffa18855c3cf5c41309e95be16ac3c214c1e848cb28c225fdf3f652a1c1f49f84f419aeb993d1f3cfa4ef26d211be9d317ca9f2c03ff6132fd89d083c947f9ff4034b9872f4b063083ab6d3610defd12d7d62743d27652c538ee8f9c0a8450f9c92b3d6ce23a8d44a6688fc3beeb1b1e6166e52c0d5d5daa4088a6e791df42a9f5721186600e202187db905844c59a0bf2e8674f122b2cc6d8d63dd01470042898cd88290108e29c843ef78fa0b81388a5f87d6cd440476a36254a0b58e8b1742bc8d1cce75b6113eafabd0789e796f0c6a1749ba7625b6e20ecb4f5a7232c3a3b4c97d562162f95158845d59b7799558b6816b81f9292f135e3e5ee4f1c2989c02e5f819845228da47573b1b884cefa43048e8191defa981682f8af12b7a0937291aaf89e26e12b6df1793f4d08e2acc2235ba7ff7cf9c3cf9b1fc26fb7effc8cd2a301e4f316ae2b557ec4793afb0db1e7f98e7424cf7e7dfbcae40385de466da17624c351af014f0e0955d19e39addf0e56d8972f2b6a91a903470792241e5270683cbf0f44d4d5525eba6c79af2a4d0e0e9f2236384a06c1613e089c9f7204231950e0b884a189ae32f35e435fedef160094d1c92fd4ea4985f273a14d6a5a22ea1c72a4f080d06531bda162752b31a08773bc877b4e3580210d569fd413d78045561efbb8c314a4cf198826988ef8d061436138d2f7a82ad784b3727239a6167991d4671277483853dabb2faa0fe57a2a14edf940b9c3c76af9ff14e8dff75b9251bf46c785be6bbcc195237abdcd68f06c1a3e61809825aa7400cf84d3b391d0e752687caca2694c26ef1e9d6efe71a8349c5893eac3bfc78f26b10e62f1edc72d152e8a5cbb98b18a5a4310b1b1db345ebb83cf60357a49545a83056fe6b0483f014ef09ab7d3d13561fe12473bfccceb2e56e3339ca33d61ad45705f03f05798cab24fa3720da1f3fd4fa1ce4d0192969a5a158c44b53fe935ee5543c0bf6d5b061d05836d0b1e07afde63804f4a64e6ca4aef1acc89a2f827223e7d0326b4d4cd4285ce688e3e2740f45e3b8f5a53334eb7042adc2ba5c531e5ab606f52953bf615144299c9c9d33e30f668d41469180acfe0e9dfcad2e54c75e39123c3b0f927a05c871e33d63708734fb02e0ab9759286e29c09cf1c7aa002379bfe61ede2e85f4e25687cafea08f372cd7af6d079297da08be4375769be1d16ff34f18410b1297c95f928e0a71862f0c581d7393c93e333c15b9dd702accc09f09da2434310d08f80a92970ee1fd88b526a6a6430502a983a20d0decb070206d6882879eaa6d8965fd52d59c433d34b486899409429c35abcf4e054a339337cf9f464c6f74149c2587fa8e59d2aaec63f208dc5abccba604ea19193a94071e2a867cb4ef5dba88926e73f92cabb57a10f3faf2388227e61bb77573367c2f21ec2eb8fdcf0c40dfe8a8c03b5a36e3caf8dad1da5f0b26a59ff9fb0d8e3acbe922dc7dfea298df96959af8522be08caba427106a74d877773f45de561c4a6e7bb6a5fd5184109c545ba00ea6698adc904144ac0204b046f9b2e5f0595748f4eb46572e0f1764e111ab7597ce51a1cad9635c49916577600abd10bba062db7cb49f204859c08d238e0eeee7eff191e4f47fe31d8bd046103b901377f87cb009ccb267fd2ac20426c17952a1b6e12748961fdd2389ba4111bb54893a1d392d59d729ac11d9c590dc0d5eb3db1fd441a73fbb1342c483fc126f03f389020b91a94b038d5712ba1118f278e47fc9102459583585f5325e09f628623e3b5298672c42a8d01f27ac1945e2a70bde20329822d465fb0c898782f63466b5238fc58b90cf9b903b833640971b8419325f6b4a83f604deb3e11d30209e44bdd8dbcafa83c89cf3b5ccbd7b22f78e18f5d00aee3631a0925059e03cadb543d572f863f3965344c40561c52c5106260554793ce2011f21a9366bd58fb3cba2eddc53edb680e35195b13aad8940d0931b190d090612beee91c0a6d913b3cb275152ca21ccb4a02a73881e3ba9d4dc42fb4bd4aabe4f1f82be0ed358b4f083a5464830b458b4eb98953da5b7f283a1a9524e487056e1f1a613612e21a34fa22a092c7c89b06dfef2ea1b1a6ba4f0091a5f755d08d09adcd8f9964d060e3d1bed0dcc4089dca6594f244e8b776864598d4cb808074c09f2094d4f740980eafae26dd6078d6dbbf72d4ec22515011eed3dba0ba55fc5db80199e80068072847a39fa79702278047a7194159ad885a54ae073c169e70162bd1e081756038e84e37294bdfe02a9d1159b2f673d92d899b59c4ee6d337d00f18f4b09dee50518183bf5746d8f671a4a8d7f6ea93ae0a16f046d22b4fbef101de02f77b5d3001b9f05e724ba6070ded0d43d767bf4afbea8f8507c0c89e4a25f757a6ef628d37177a89498b2baebe0d8855c746d1d0a2a599f8db05599bdeb5253d8952db562f1d9ffe19fb4b0cedbd7a15de8bf377402980b97242369d2a7e1151d68ee1ad612a284f240c28038b2ec69d805b980d6776b3baa845de04fde5ee5f4897c432d95ce68eb69db051b1d4c9fd3ff89744ab7a467273aabbbc3e0a6e3f75a1a958a0d5ea950965700e855d99962530c15093a5c545b475faf3eed4eb49e6dbeacc1ab5a22311808d4bc8dfc5025bb42bee9381d52fc0a6ccc395cc77e159f8dba49f4ddc4792222e3b95d1c493ccffef9e6eecb3ced8c3d07f873c61940e18ecc0191218bf12d5cb3a4af1bcecda17eec6241626981c6549ec942fa6db7b9e423b9376399431937e40e9b2d2ae74f4aa6f78a0daf00a892b2b684ee85f0b824b77c3b94c468fc372e8670f4cc41bfc352b379615fb5541941f4b5cc1f04d1d1e71011a5b314827f17c2e417c4cd3820dd27710dcd8eafc6a79a7a4f7c189abb76c22f642749737916c22b43869620a501f6ff7f5285ab3a51ca77bcddb1e34fc6d76c175c97718707c58a6383f75fa318e5b7aedfe11c1daf7e474505937523b597b2a680b2500ac8a9f1b6caf990b567f87fb104f70f4c0f12ca7529f8c113a97d39bb2c7f7966b825b7104746c8d3caac9744a877ccd7046ea0e699f3a1b59dff9997247fe14700e5bff55e4d9c221c6daea9dd857bfcdcaa11fe5d5dd4d22230a199a89baaab0360de9370d2d173e3c15e4a2aebf4823c1f6e9565924b41b7a93adea010d20a0a1f3a02437630ffd034e365f93f2f20fec355619cf7ba42c4f7f5287d76e20fc7f31eee218ad5934802704d759e39d5564671ccbf5223084a245f257e701c3cbfa94777f416f43dc20eace7b92bb7477fba466450b48d23023ed796f606b632783a87083a96e588853328ca4437a2822424a5caa7004a3c97583aea69bac8963add4fd72e158b610dcf57ab1d229be7fe951deb0edb3cf60f7f5442e48b90010c4eb3f27c072570e802f5d4b7ed9ea82fef828285b7a07e6fb42cde005479a2f4fc4645834e4bd8814b17417e3b30b6c18605842c6d6edfbbb6cfbbd95366d5efe23baf7cb601d7d2113f533bde9c5bb6a7e63ae6ad57d16601ab05122e35026299c6a08dc26ec494c808352fc205c223f590db0036e2db28e594e8b54876bab5ac4d2e761db435f98f9ae5d81aa874ad18220fcd88b7996f5a2faed27cba02e7c9ea82f03e4913f55047bc214e37212ea7db51dfcfd7b7c382b65ac2ada41ad050361b68caf45d36bbf47f350cf4c4776dec9c10787e350accbdd5856ec69df7f181640e2bad01bef707f741b5c1c4a074c737ee389da5f05d04ab3602bbd320149104087867fed0935d3b1f5bc526e1fd15144e3980c23d800c382ecec31eac905df3251284d174989d6015960fbd7567cfb81c38e48fb9c3be71b16ad4780e90b58131cbd79258b5eca55be35cfcd39b24d6fa365d439aaa5e49c91b98c5ab826e18d060210540d77c45a73aa39024745efde4d06c8d5e7a4771ba34c3f9bedeaeade8f0021bfd44d2430ec3bdac67f629496ca529eeade13ce29491064fb4a5591918415ad51658041166001d6338a419662a3056261108a2516a36c7e6dfb8de1c9a7dde21c17720a7834f01d011cee6984c52ca324106963ec71f6182df63372fd841b41e7f0a116681b36b324dfe9098647fb3c15e957b0dc1dc4a8dff9ebd931721dd61f5609e84000d917e181e15f6f4905a84940982d7f12985f9a507a7279caddaa163b2dd293b3ee286684299d368c5eb138cc49765dc35c03fe77ed4f3de0e286b447f3063a9ea0812dcbef45c14ac4b8284e7d677dfd2426273b09246ee4015f31291e54788bcf5439a116cab08fb56f0d150d3db5dee21c28c862a2d600ef803e02f4654d290239bb83f19b81e7c01285cc64405367dcfb6d3a0d4d5d08c3bd3fc52e4b3bdf7ded1fbc33fa0ce7773b46fde41b3a26ae831a48d17b2e84e926f83d92671c44b5990bc8afcad981cf5ceed0d9eec84edc268b00e49b8079581726b54f70fedfeeeeba51ef467b817e899616b2d2f27d641e746ccb82b85a1de55be439c86bdff225bdee2c82b033b2e81f91e6b54a0742a9f59ad35b80963444f57ae588121961eecc612aaa45b59b231be0466d50c08078b4b7af764b806ca9ffad65e778c825a3787f413a5f108c6130eb91484cdeada287f9d474a3748a5839e6fa6757803d17960d6c1778c590c2417e339bd1c1c12bb441bb6400842f06c899b6690511b88f460f1f8c2707610ccfc9bcc4d2b4445d59439f795c74db6ddbf8e18356f6f812a9fa6ce28609a6119ebebdb3697033b6575fa924cdc2ca9affc392a2b942b38e68561394f3e604ac4d02514fbd6ac2ece63d1620462a4da06e4aa64fe705b27caabe0c544f655f57df04edbe7059c397fac78e418b74afcb86df39bba860f2b208c3d2889d00ff7c5acd096e418a65a761d805555e5eaa711d865b42956d91dffe3267e700c57edcac93c72810672365c9ba2207375a2bf05c25f82ce80ef4995ef061934306279171f5f5086d864573c51da6f6ff7ff5fd8b57ddf6f8a345141dd1e2ff398b2a3ec96896ef3678c1d3803c9e4374b8e9e756435021d8f95fda4592e0dd292cf5236c248fb2f04d567f1bac8d82071d7041b83a510f5a058789c3668ad9040f302eb5402ebf866fe2e58395db7a8eadaf7973d5e7191f3761a91ed04293eaaf2bf51556101854201c0bb9894236f4474fb7c464290d0ab2ab0dee561e52e02e1fa32dce8d53aeaa31578e87c643621c164bbe9e1a1420ecfaf116747c7dd3935d990ef6b2f9cca8ebcd615c8e41feda12519f397650b9a06b8464f989ae90a1c524d80a97c331b8d3942357eb7c52c6d08bda2f053cedd8dada577177334cc0dcd5844c2a8f731bf99e8a2b99ef1dadafe01aace98c4f0439b89ec2719651b1277528013ad5a471477ee9e1d69147bd0c3f11f48d202e1bf889b3999e42b4adc7eee796337cd66b40258a3b8f9964b746b8b738c1619698fdd44ed0ba9d7712c14eb9a8cddd6e7b7c8f7d395a0f7f37321f44d75a93663425cbf5ac0f610be049e6a93b6b6fed6dff817e534d04fb5431082811a7facd76ea293f5b384e2731fc7f1734131405adec3241bc576943a4ab8b0ded8ccf8a41b98e4db8afe3ae8e5a1edefcb2eb6fae7eecfd0d24925c59cbb6660f18c2be62a56209ed08395b9c6a60cb376c54f56a6d6ab7872fb4e0d53bc22512fa64c89b046872cef273775a204425696b07400f780325bbe2fa8adf868908b4bb297449764137df7092f679e67c17079ef18100fee4c5aca155ff8d406dcd742ac0adfd3b295715a8cc124c5300e0e8ebfe8fda7da2ad41faabe7f4ae7d78b57ae83fee625df76c9060579b82ec43e4fb6f49e9d1b20d92f679b26dd0667e4b86b21fd6f0e7533de80180e90cdd73e6d2248f9023efda2f6ff1ff7c3a6ded167f7795c31f8f86f012c812331c7383f5969f8316adff65110d21f71430a41e8043a15538a62e4d1f4d9981529b986638be45b448e614e961fe77529002b0cc36edaf33b5d9227151b6359ad915c337a09e35c569472603480608bc98db8cb8b54865577625a79d3827dc3b13e9c62545dfa666afe3ab3d568bff8be868765365e674f56825d9b9f6c0823e0eba2d53eb73355c9c6381006147ad5d19b08a21d33ab0bd2bb827cd7f9e8399ab650deaf52921bb2726c52a8ac364035e80dcbb9d91b42520f18b8ac5494b44478a46ace8bfec155f58b547b36b5f0e036b832fff930837d8604daf0cd7dd6468ab1bedfe1e04b77c5d59ff92f27741da2b9a16a5a528ef9df0fa4465d2d3fb3caa35b249f2214c2153d23b36343a40632e03b6ceadb8b5ec26394cbfea4d9e7a3303f51bb2a54e4958ae764d85e1400e38065e5803052da1415b9cbb9caf300c660f147ce2d1b0e4473c49d45e92c7444025d9a5a977ec8a879c762fb3bb6c28e7e57845a3a4d1be8d02150704eff773a2be624243ef5597666c178c4582a77c1afce95a7e2155c68819f76ca252fd0f4f56be384240168af4ba6f282c380429b0ad621f277492384fd61e51f87999a5465fc1d21720348101096abb8e0592de91474e63fadb42a878ed8c3d14ac9e326159e671755d028fb385be9cbd33fe158ee93dac7a985fd43d26f9b72bae4fccb5fcaf19e04662d4a13419057ea450261898c68d9ebd06740166ec8c1085b912399176d29744f4863583bcced1e8c74cf9f097e1617249922ea452a7dbbef3d13fa4301ef25bb0e8b98efd6323779045ee04344743e74aeac786f86f866835cce30e8da5f6d3f19e1a0e4f723c05bfe9be7fa2015123a7451b7a812d88ad5dc7e205f8f512ad38c2b35154417f76112e701ca998bb3410be3cd8fad5eaa06ffe2f12310bc2b32032244e46185b0d642cb85d172b9c0094d255f1375fe93dc45cf61a42877c54f5d7d6d0b045b9c93c16a0897c50cbe69a22d51e68a5dca7b1c74c0339236af6ccdd5cc5bd07c1f0fbb9e7b1fe9a74f182a8e3d648aa3fe91ac6313045b5d127d2c39a74cfa68458b5077149c40bf38a469cf0fdb162570f4761cfae2ffdd961af250a4e39e14e9f3a607a64127f618fa38026f662ddc6b2d2f30d3793bd52972716e5a3baa48074cb877dacbfe1ba9f17addd655ac0801172155b0ffc969784eb16fa297be663571b049be508c7ca100eb33f08df59382e7a95cfc7d2652826065317f534ef31bd341375d3530fef05f83c71bb8dd52ae12e7c1ce53271404473d3c3c06d12beae44ad87a359eaa6e1157a6b2436edd099c9a17a2876e1cefdf315d1102238d7f1102672d4afaa2921bdb8585ad96208a2982eae79a2b3443fa935246b9d57d12b85aaa753d786e81e17041f3663839360218269c29942a0ba031cfc7c2cdc7b14ccf5d11cee0b247357e8e1056b96bb50ed044054f79ad36eca3531f8647d185c71b2ecf3f0ae3445214b9477129184a1044e7eaf46d9356d120994d33e1814ea89b4bdb8c707e1b2aea0cd83c39b2c67d0dfbd294d637dc0d13b6cd260e961789432ec939e6bb5e4c75227a2c57de7c2137026e5c1876f918c10086822c5fbe948304cf63df9dfcb3c4093ff7432d50682e7d53cd9a7ddc7898e0d23dff3419491ffd952f283302d671a421467994479ff5cc1c4dbaf724d5a9a53994da2145923954ecc11f69bcf41a1fbc066fe17d966824c143c7af01ef79751c3f82c9ded138a39b0c7b5255e6d2e13947405642b4842b1b518025f476cd3c39dd43be88811ec1d24b4a35e92c64ae3552236cbbc1e12f15727ab215e803fb7302cc9825d898a8cf10562fd1158cac9cfb764bb1abc0a1076d976ddc8d248c0aea7d5f7b6f5659df9c54f4762d752f800d3c7b36a86374c5a77a4c8014de7d0655fe92d1dfbe8a520c47c713cae8f8339a8c7f09d2cfdb9689f3c1483d49a509fff82c5e0a8f4ce82cc9a344586f345ff7b85110d50b866426df4d9478b0e5fe22b561b170bec89e798a8496b0c31b2552a1df7b1d6e1932b16d1d762f676d607cc7420ea0731f2d19357bee5cd3b1d4ac6afe63856ca502d7d4f0b703f4868895140c8ca7e4f7d0a02d7ade89ba9b7f6bec3f21e075b80b22f4b5b5eb989b153368476b17b6634bdffa4a52297d43ecd14c2b5c12ebb766182f52e64c9376c58f8e95c2bed37396acb6955442c9599291f085ee8b8ce8e37833f3aea4c924f0e8048546144ae75583d156f901426763e67614e5bc6b86b4465a56c7af56bfb98331ad9bc68c501bba0aff3ebbe66a38dfde585449c4c758ed284f09f34c59da653e42ea6595746652b667af8a314c7d9cb71e38bafab292fab10ab36bcc1578303ea2293f25efa6f8ba4e5f27e9da135e4dda4a84d297930479262ad036eef6fb57aad095438c4081dacffafa3ee0508b25377c91fc8ce56abb505f3cbea7ecd7cc1c1f18d909ea057729871ff421be0383685a363685d0c8d254635587030b15ebac3846f59e99f0edbf88b112a144c4548d9c616115d5d75d5aea0ff0ebfc4a0575a356f73cc24f2e809767b3ee0b966d14b076f98fb8eefe6fe52930d80b3cea14c7a3ef644e14bf9545fb60a491369501a47857b39e278968ef98cfd92fdfd0f959712c09a36f8b56c574ef59ca3bff1b3c3567dc21e37930acdc94460d2d09d9a58156bd96d9a3bf9de656c854597e052cc844c6964a8695d6302aa5c6d1003a0c3e73ca2c5a6d7b9df45a43df3bb0410dceaac24f4294c3507990fdd4400bc17239cfa080a42942836812d7eb9b9f2a116cd2eeecbfb3b11944af38fdc294cc453da5209892f60e663287a816fd536f995a775cd95d8ea6af7fb4c72151fcd9d5f2ea6ab210c0be722a2cd73dd96bf861a417e2e5b8d2a54041f38c5dac727899532877c2819c28777df1793d62a14feb04ada9991a957a27297938c062e0116fc3d1be3405a3640a8e5c9bbf64cc16efc8467d12dc81b70817be50f849b7842cc5b063b6a4f297f8c1d2979737a3eed8572b7fb8c44895a229faaf310fe313bda0622ae3e95999a28f490d2f86b0239197c0d569a046f9d3f530f4b04f2575712dc544173f0018f4e17e95f3be9efb2012ae972825cdbadc4ff52e97802223baf6f38ca17d3bcf89a6b45b1a31eb80957d801594e423ce36e4181a551b3caa31176749b069e23bd292ede758e9aced0a7cb7f28e6a6fde72b0b74640a24680034673e61cd2121769abf2aceb3b79e9636b58897d5fd7f490328da3e39aa0d7adde2db33be93119f19e24373de0ea6c3ebe43a8d512a54e32c99b8acd9a7e1f8b117394cec84e79d7ec4ee1096c48ba1af7e4a76884e5a397bc42429e105aac78e9661f898599ca009963c11343cb68557f5de09b3986542eaccd491a542ca5f339255c14a603bbf61a3e9696be45ddc5f4db3085257faa97b355a44b8376a77d34ea8749181f77e19ebea47fd9f8fb5ef057d15beacff325b21d32218b48db11bcb48bf4c3f954966ec045570953ba41711e0ce8074cfac966dea1c783e9252de4973009554008bf67352259c4312e92986630ab2573fea0a190b378952951ef3682d2fd882959f49af13d9e7fc662cf661539201c32d9fc644957ee424a7e08947613a468e9606a8101b9cfd5ecf873a941c2a57deef86464e9c6891dfb1ea90045ce8d4950d0753544f8bd4f06c8c9184deaed1d4c99048701fe3f6a8c617e2c6fa86e5e9bf470641a16401487204a342c9975aa0927399eecf1e22a5782f2e51f933132e17ca1394a7760a71295cb59ac2062135d88764969f7e7ea057533d32ab9e0b4bd425bafdc5604abb18f63310b07b62b618ad26e6a26eae95ce4ede1fbe095828c5d88644aac2901fd5a59fbe2f9f10bcb994006fb79fcdb057aa47974bf47ec1153d7c73f98aac1873d2a72396541cc5848442c4b53e824be068df6c0eb30e4ee45557c379458c001dbf2ac7e7f493e88285bb3bedc3133fe67cf4a86398b0ced5e8c049704bff8255ef7f3943cffaa19a866967f3feff5d63f419ae8cb7fec3434d9b753ba8ed9433bb267004a5d9c2365b61915aa157fc8b1fcc9c2f1c149e3e2b9d90ff2a83dc435a5cac398282458fe8bcee41011ccdeece620c46110ad6477f606962d686242c6ce84969cb408a28f2775feffdc0fbe118a8b457077fcdb0015dcb90963683bfdd5dac7ce374cb752707a602b9bbcdfb02ecc713eb46abfbc49d0222623cac8ffbdea15cb5fdccb496f2044adde47faffa5d3a9cbdd62928c2f042f669ae94519df2613019f37d29dd1020bc0b964f38ef21cb5408dc0486c1d961472652a37720f15376eaa9588d46bab330ba4fbae86734fcf3d6a97983acaa1ef9b1c0ff34922fb5ae6cc08b648aacbee76e6bdeade1b26f14c9dae9f2fde4e3a9b2836fd66c3a8d31f459fa561f6751544c0dc3ca17755c10d99acc6b48e85520e1c97af0e1cdfb74a36655f40f7b8e57cf8413d57ef2c495a2d3e6544f3b5530f8a1d840044930c6ab1adc9eb61baf80f444ca2ca442bf70468a493e1ef7839ebf6239d2e37e7ce6357bf6249330ceec8c018e92600b6417df772d4a8dfd5092d936e8fe8219314dc9bed0735cbb01697d5b97e7c53909138de642e9e2deee9d525eecaedd476ad38ee3adf63dbc0c633881c2ea98afab38eea6430d32274eebf5760edc57ea067ca4efde958f6e73a3c7200b464348450bf8803ec43800a8e7f989d75470c6bb1f28d6cc8dbd6e15c30b7262ba3860c484723377b8a48e27596b9988d4f351dc96439d236239370889db40077222b38f808da4d64f9b02422b5d34552f883a01941e795e820c9bbc276eaba504a7113093642b969c243e60d610b3ba8feeb176c12d81678cb7c6afade79384ea80c740714294d66402c2b8a2ff2cce8a29086fac9bcfab539f536966c3d5e55005800d18016a6f6f97ea3afb0bfbe0e92e7d8b4ba548b6144420e1bfa9d2e85ce11a02ac184f994e36eeafeeeafd8d2f1d6ebbcd0f6c3f48e725d0d3d5e963f65b3a934c2588677c225d001a6c9ab30f7f6239e874af312c7ab000e5b4045ccd9d089c9887b9c989479c0337432c385f3884fc6ccf107f1afabf24723bdc5276ea631d17e36e61f919803893b1c666ec49074357eb6281716447a24a288d433b13118931d870d86f64845bcf47fc177fd676431f0bf18d1e56a3d0c2d8708cb2c7598f721d446ba34511ed18043d0b83508d3f9262d0feedf3217571f6b2df45d1ca639b9957b6fa39af42d7e36f79f526a3ad3013125fee4063bc76da73b28291f95aa02544f8f6e1cf3e183f6bdbddf1c8bc86b924c36c95be3853bdcb68933fe97fded9605631d8950924f68dca9f94fd27b19dac820cf154f8e80be028824bb6503186a30836ad29780b49b07d5d1450991d475891b39fdfe13f0cfeac9710d7817041cb1102ddb454dd7abd0a0ec05dce5942dd938d07982175b32d1a00b06df73502229c0c7ce02fdfdd40236ac069bb1548117d0151e62031db143d9809ac5d6eb3874005f09d89c439a5dadca1f475da3af66842e0c42d7b55a78ffec203cb07ccdf6c34325a43eb37c484a00dcb7c235ac8331d48b431a1ace9f9812427749cb047eeb01123f5c9196f143e869887957919ca60f9b9dc4d22456fd3ca35c8b3f6f8b22e7da7d4f640fa6982be80b956e4b8703b983f299dfb4ceb101b55d236ef80ff18c4e6dd22a8b230999e5f7be7be7f617c50d35995660bc2f84c7096b669ecce545c3ec6a3ab909012e08430754f7794cc3bbeabccc847ea38654df14e46122e7d7c3a2430694b4596a86aae07156885e1989c9a38b20ae3b09e8cd870c9564b52278d840dc75cd0a58881598b1b4bba0dc1b3df90193d81ee45a2cafe01382270d635108c16d72bab157bee3f18970afc74b42ac7226534ac439d7be96da26311d0906a79af3cfc0026e1a46a8f0728f1eb1541bbb6a0c0742b9706f45c188461cbc820b50d3bf071849de56f1b5efa0491a09cd5625eeb7983717b96b0c5e05e50ab1b1e6bf0288aa2d84c9cfb87708eefe08b2f2658cf2415189c1b380bd815a330938cb19088c93689e765f329d436341b900c1209521d9b9b717c0601091ec1c7f84082a2fb22ba87d6426c3cef83d8e7a8594a0e867b1800e7f503da6085f3092f7dc01b894b3e4c812fe9da250d5adf5e4318efdc4c7e03b53c7d477b6ed16f33b14253eaa21f823d2601c3c2565142ba2b5d62ce0cc5797900265b4235afef7a07bb69b4ea2480e96c99f375f3b0e4eeac2c5754e31526f6a8d112eb02ce122e6dd5b955fdbd4261c791a0f571df0d0021a039761acda587753e75528838affa65151e2adc650dc052d5bed04c956dd8049a8bdacf009adbf8f787fd71cf08d6f345ea85dcc23836f801b15bc4976892bab2031e2d11115dd3c9da5d60f48949a385155f4394bf66816d5911cf288baaab2ac6dd962b0d79c0635d2e08a96857faa536e0065a05ba2533da84e22980199eb9dfd57adeda76effd5d24d9446bbf1106ac8e6f9e21e2a8a83023c59a2536363a388a6ade09e1542437dcaf7fdeee86a4f8e8f32bf6a5cb05fb115bc1db08a1347f8d9e317778e8cbfe3961ed87c254e8e52919081febb8750d1d0cf9839b524b466aee4a9e95f5269b1448a076e0388f7fe8fcf142474d3a53e40564895ec5a50980cc145f9dc28b387bab594b90159a9a80f6da9224672f2bd061a7324da4717d779658ab3aa3bb62a779fea87ecaa0434280b4f6c17f8255322db63bc41496172cc0525baef0608745daa177d9415ae7bf31fdb4e902e82d025a93872801a70fb8c35f3f2ccc49370dd356f661061e73ff480e95a74aca1512e023bbd77c8a473bf329a23915dea574290902d258f68d9966780a66559b52f2726490ac474420251582f2ea32371a51ad3e835b20ea9b0ff8910f4d51a85c74ab8e5ada9a3137340614c7c64ba3f27f10cd54530e63991a509bb1806d0bcb5086648b84f0c85abc84e7d894b35d6b52ca0a1009be1cd75e621fe8743ab6b3b6558e8886c3476824d11f56e846596b3c41768d418373b21a3f7c9dc24e5ef0207ce6be3c6298342732f5fe51ef6a91a4170cf5bb4665c82ca2153dc6c0148c5ae82b7c4b71fe398e02338228d01d9e61ac2dd6bd510efb382f2e0056f5560b5637cefb76170502b84a1372076a9100fc1c3b764b1a41d2a2f8710792c355d0b6a4f2f36526098b2e7b0383a0ae69de650cbaad121be874841c7d40f75f6f0ab618c6b1a5cb9dc8d0ed064d2c1eaf04b1cc2ca15a760e2d1dbfbbf1cd695c9af93f09bbff1f7e2128d60d5952d03c3e05d2ba8c76a702c90486a09fcc6b78a72db8320ba19aa3de34b82ecd9414f908b9476567abeb43c22855063d108af44f1bfba987ac5f00e02d53affca720e0f42bc699fb00a4ffa21d2809ebb18304d7909a44e1249275cb9e8f48f002996f29334e98dbee3699a42c2f80202c07436728db0de1108c51e5a822b89f49b0f7d893d2b9ec1571e3782dcc9ae018668c8ff804fcbac74cd369ddfc84ec46a4c6dbbe04b282944597418cf6ae2b8c84ed88464ede7449a80084e1728ed2bda4ba6ea6b0c9a14228df887cb89ea6450c4df3349e8686c6ad17557d41fb627549652d26760d10766875a329b57541b9cf90078d3e04ce3bc97891d0f2694840d00108aa9965c3a807f1da4896b9aca23c8192db875705659cc36116cc6c8980333b401bf2b632b3220afaba2cf091323e33d8242c9760f19e87262eb6c7fbf1708ceafea80efec424ce6f8a72c814b2f765f898067303db4a91f2cd2efcdac9b83acda3af28a18d3e75fb20f7e45de21d4e05808bb21e6aac71f81afdc7a4ad7c80f124755bee0202af8c89bb1bf137d6ddcd95db80ac5c39ea6e1137dbc725fe882f7dfe4a8e266d8aff0a53f31ad21b9d102098eceeb60806ff7d99e6072290b1b1c76f69744df363f194c98960889b41e18404ce9d498b15efe245e44a6f7ab0938639ff80a9a0f4546013811b9a05b3247199b2b0f9df33b002ba4a4ace6d7691aa88c4116eec3e92c321ad0f8d5e22784bd9c6ee57566e76c4bb472cd6c8e030589ca504f5cc28eb88553e62ff6c1f436ef01e2292376befaa7966a61f9299e50dac2ca0f3c8bf9c1fc5be2488b46436910b0d7d4be4942ab83ac67d266889cf5dd252c97735471a8861e9a5005928d33d42786d73dfde8425c2be713b723edbea01fdcec6dcc5b61bc241e8009e88542c61b5641b554983862dfff98efd364465a29f5ff1dc0bd98b9a9f507b3a27366922fc01d4e5828557abf1bbda698a9f9d0e43b2d913d042816ff44f18bc8472b0ee4eb96e5a2add7c78829d22fe807dfb9c18acef84a62ae13dd1326c98180fa4ee79ffce67ca35002a91607affe0f9065883a56612ae4f1b42a191a287f9da823eeecb858e1b31a9fd81328e6bf458f44987dd975ed43a45d59310346742ec49f3ea02df50067bf0f4c36167f2b84152aae88418a98518b51ea6d1424f3ce6f1292648035e8b937b82c1cb40d4eb2d3985c22f747584512325efcf84f211024a41e0e96bce1f6f3f60717a91b1a43db0976933e75f829952ca816f6e8cba251aa125d295cc21116f7639f27e97039252cff30b7da7ee0f1a28c0c9bd6d88d3087b980c3143089b5db46a3a2d55a9493fac","categories":[{"name":"Èöè‰æøÂÜôÂÜô","slug":"Èöè‰æøÂÜôÂÜô","permalink":"https://lzqblog.top/categories/%E9%9A%8F%E4%BE%BF%E5%86%99%E5%86%99/"}],"tags":[{"name":"Âä†ÂØÜ","slug":"Âä†ÂØÜ","permalink":"https://lzqblog.top/tags/%E5%8A%A0%E5%AF%86/"}]},{"title":"Algorithm Puzzles: Roman to Integer","slug":"Algorithm-Puzzles-Roman-to-Integer","date":"2020-01-29T13:16:35.000Z","updated":"2020-01-29T13:23:07.891Z","comments":true,"path":"2020-01-29/Algorithm-Puzzles-Roman-to-Integer/","link":"","permalink":"https://lzqblog.top/2020-01-29/Algorithm-Puzzles-Roman-to-Integer/","excerpt":"Algorithm Puzzles everyday every week sometimes: Roman to Integer","text":"Algorithm Puzzles everyday every week sometimes: Roman to Integer PuzzlePuzzle from leetcode:Roman numerals are represented by seven different symbols: I, V, X, L, C, D and M. 12345678Symbol ValueI 1V 5X 10L 50C 100D 500M 1000 For example, two is written as II in Roman numeral, just two one‚Äôs added together. Twelve is written as, XII, which is simply X + II. The number twenty seven is written as XXVII, which is XX + V + II. Roman numerals are usually written largest to smallest from left to right. However, the numeral for four is not IIII. Instead, the number four is written as IV. Because the one is before the five we subtract it making four. The same principle applies to the number nine, which is written as IX. There are six instances where subtraction is used: I can be placed before V (5) and X (10) to make 4 and 9.X can be placed before L (50) and C (100) to make 40 and 90.C can be placed before D (500) and M (1000) to make 400 and 900.Given a roman numeral, convert it to an integer. Input is guaranteed to be within the range from 1 to 3999. Solving1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162class Solution &#123; public: int romanToInt(const string&amp; s) &#123; int ret = 0; for (auto iter = s.begin(); iter != s.end(); ++iter) &#123; switch (*iter) &#123; case 'I': if (*(iter + 1) == 'V') &#123; ret += 4; ++iter; &#125; else if (*(iter + 1) == 'X') &#123; ret += 9; ++iter; &#125; else &#123; ret += 1; &#125; break; case 'V': ret += 5; break; case 'X': if (*(iter + 1) == 'L') &#123; ret += 40; ++iter; &#125; else if (*(iter + 1) == 'C') &#123; ret += 90; ++iter; &#125; else &#123; ret += 10; &#125; break; case 'L': ret += 50; break; case 'C': if (*(iter + 1) == 'D') &#123; ret += 400; ++iter; &#125; else if (*(iter + 1) == 'M') &#123; ret += 900; ++iter; &#125; else &#123; ret += 100; &#125; break; case 'D': ret += 500; break; case 'M': ret += 1000; break; &#125; &#125; return ret; &#125;&#125;; Result: Runtime beats 98.55% in all cpp submissions:","categories":[{"name":"ÁÆóÊ≥ïÈ¢òËß£","slug":"ÁÆóÊ≥ïÈ¢òËß£","permalink":"https://lzqblog.top/categories/%E7%AE%97%E6%B3%95%E9%A2%98%E8%A7%A3/"}],"tags":[{"name":"Algorithm","slug":"Algorithm","permalink":"https://lzqblog.top/tags/Algorithm/"},{"name":"C++","slug":"C","permalink":"https://lzqblog.top/tags/C/"}]},{"title":"Algorithm Puzzles: Integer to Roman","slug":"Algorithm-Puzzles-Integer-to-Roman","date":"2020-01-27T05:35:01.000Z","updated":"2020-01-27T06:06:26.692Z","comments":true,"path":"2020-01-27/Algorithm-Puzzles-Integer-to-Roman/","link":"","permalink":"https://lzqblog.top/2020-01-27/Algorithm-Puzzles-Integer-to-Roman/","excerpt":"Algorithm Puzzles everyday every week sometimes: Integer to Roman","text":"Algorithm Puzzles everyday every week sometimes: Integer to Roman PuzzlePuzzle from leetcode: Roman numerals are represented by seven different symbols: I, V, X, L, C, D and M. 12345678Symbol ValueI 1V 5X 10L 50C 100D 500M 1000 For example, two is written as II in Roman numeral, just two one‚Äôs added together. Twelve is written as, XII, which is simply X + II. The number twenty seven is written as XXVII, which is XX + V + II. Roman numerals are usually written largest to smallest from left to right. However, the numeral for four is not IIII. Instead, the number four is written as IV. Because the one is before the five we subtract it making four. The same principle applies to the number nine, which is written as IX. There are six instances where subtraction is used: I can be placed before V (5) and X (10) to make 4 and 9.X can be placed before L (50) and C (100) to make 40 and 90.C can be placed before D (500) and M (1000) to make 400 and 900.Given an integer, convert it to a roman numeral. Input is guaranteed to be within the range from 1 to 3999. SolvingSolution 112345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970class Solution &#123; public: string intToRoman(int num) &#123; string ret = \"\"; int bitRet = 0; if (num &gt;= 1000) &#123; bitRet = num / 1000; for (int i = 0; i &lt; bitRet; ++i) &#123; ret += \"M\"; &#125; num %= 1000; &#125; if (num &gt;= 100) &#123; bitRet = num / 100; if (bitRet == 9) &#123; ret += \"CM\"; &#125; else if (bitRet == 4) &#123; ret += \"CD\"; &#125; else &#123; if (bitRet &gt;= 5) &#123; ret += \"D\"; bitRet -= 5; &#125; for (int i = 0; i &lt; bitRet; ++i) &#123; ret += \"C\"; &#125; &#125; num %= 100; &#125; if (num &gt;= 10) &#123; bitRet = num / 10; if (bitRet == 9) &#123; ret += \"XC\"; &#125; else if (bitRet == 4) &#123; ret += \"XL\"; &#125; else &#123; if (bitRet &gt;= 5) &#123; ret += \"L\"; bitRet -= 5; &#125; for (int i = 0; i &lt; bitRet; ++i) &#123; ret += \"X\"; &#125; &#125; num %= 10; &#125; if (num &gt; 0) &#123; bitRet = num; if (bitRet == 9) &#123; ret += \"IX\"; &#125; else if (bitRet == 4) &#123; ret += \"IV\"; &#125; else &#123; if (bitRet &gt;= 5) &#123; ret += \"V\"; bitRet -= 5; &#125; for (int i = 0; i &lt; bitRet; ++i) &#123; ret += \"I\"; &#125; &#125; &#125; return ret; &#125;&#125;; Solution 21234567891011121314class Solution &#123; public: string intToRoman(int num) &#123; const string M[] = &#123;\"\", \"M\", \"MM\", \"MMM\"&#125;; const string C[] = &#123;\"\", \"C\", \"CC\", \"CCC\", \"CD\", \"D\", \"DC\", \"DCC\", \"DCCC\", \"CM\"&#125;; const string X[] = &#123;\"\", \"X\", \"XX\", \"XXX\", \"XL\", \"L\", \"LX\", \"LXX\", \"LXXX\", \"XC\"&#125;; const string I[] = &#123;\"\", \"I\", \"II\", \"III\", \"IV\", \"V\", \"VI\", \"VII\", \"VIII\", \"IX\"&#125;; return M[num / 1000] + C[(num % 1000) / 100] + X[(num % 100) / 10] + I[num % 10]; &#125;&#125;;","categories":[{"name":"ÁÆóÊ≥ïÈ¢òËß£","slug":"ÁÆóÊ≥ïÈ¢òËß£","permalink":"https://lzqblog.top/categories/%E7%AE%97%E6%B3%95%E9%A2%98%E8%A7%A3/"}],"tags":[{"name":"Algorithm","slug":"Algorithm","permalink":"https://lzqblog.top/tags/Algorithm/"},{"name":"C++","slug":"C","permalink":"https://lzqblog.top/tags/C/"}]},{"title":"Algorithm Puzzles: Container With Most Water","slug":"Algorithm-Puzzles-Container-With-Most-Water","date":"2020-01-26T05:53:52.000Z","updated":"2020-01-26T07:10:47.782Z","comments":true,"path":"2020-01-26/Algorithm-Puzzles-Container-With-Most-Water/","link":"","permalink":"https://lzqblog.top/2020-01-26/Algorithm-Puzzles-Container-With-Most-Water/","excerpt":"Algorithm Puzzles everyday every week sometimes: Container With Most Water","text":"Algorithm Puzzles everyday every week sometimes: Container With Most Water PuzzlePuzzle from leetcode: Given n non-negative integers a1, a2, ‚Ä¶, an , where each represents a point at coordinate (i, ai). n vertical lines are drawn such that the two endpoints of line i is at (i, ai) and (i, 0). Find two lines, which together with x-axis forms a container, such that the container contains the most water. Note: You may not slant the container and n is at least 2. SolvingThis puzzle can be easily solved by exhaustion method but time complexity is O(N^2). A better approach will be using ‚Äúcompress window‚ÄúÔºö 12345678910111213141516171819class Solution &#123; public: int maxArea(const vector&lt;int&gt;&amp; height) &#123; size_t length = height.size(); int currentMax = 0, windowLeft = 0, windowRight = length - 1; while (windowLeft &lt; windowRight) &#123; currentMax = std::max( currentMax, std::min(height[windowLeft], height[windowRight]) * (windowRight - windowLeft)); if (height[windowLeft] &lt; height[windowRight]) &#123; ++windowLeft; &#125; else &#123; --windowRight; &#125; &#125; return currentMax; &#125;&#125;; Here time complexity is O(N) Try to use iterator: 1234567891011121314151617181920class Solution &#123; public: int maxArea(const vector&lt;int&gt;&amp; height) &#123; int currentMax = 0; auto iterL = height.cbegin(); auto iterR = height.cend() - 1; while (iterL &lt; iterR) &#123; currentMax = std::max(currentMax, std::min(*iterL, *iterR) * (int)std::distance(iterL, iterR)); if (*iterL &lt; *iterR) &#123; ++iterL; &#125; else &#123; --iterR; &#125; &#125; return currentMax; &#125;&#125;; Bravo!","categories":[{"name":"ÁÆóÊ≥ïÈ¢òËß£","slug":"ÁÆóÊ≥ïÈ¢òËß£","permalink":"https://lzqblog.top/categories/%E7%AE%97%E6%B3%95%E9%A2%98%E8%A7%A3/"}],"tags":[{"name":"Algorithm","slug":"Algorithm","permalink":"https://lzqblog.top/tags/Algorithm/"},{"name":"C++","slug":"C","permalink":"https://lzqblog.top/tags/C/"}]},{"title":"Algorithm Puzzles: Regular Expression Matching","slug":"Algorithm-Puzzles-Regular-Expression-Matching","date":"2020-01-05T03:07:45.000Z","updated":"2020-01-31T07:15:15.547Z","comments":true,"path":"2020-01-05/Algorithm-Puzzles-Regular-Expression-Matching/","link":"","permalink":"https://lzqblog.top/2020-01-05/Algorithm-Puzzles-Regular-Expression-Matching/","excerpt":"ÊØèÂ§© ÊØèÂë® ÂÅ∂Â∞î‰∏ÄÈÅìÁÆóÊ≥ïÈ¢òÔºö Ê≠£ÂàôË°®ËææÂºèÂåπÈÖç","text":"ÊØèÂ§© ÊØèÂë® ÂÅ∂Â∞î‰∏ÄÈÅìÁÆóÊ≥ïÈ¢òÔºö Ê≠£ÂàôË°®ËææÂºèÂåπÈÖç PuzzlePuzzle from leetcode: Given an input string (s) and a pattern (p), implement regular expression matching with support for ‚Äò.‚Äô and ‚Äò*‚Äô. ‚Äò.‚Äô Matches any single character.‚Äò*‚Äô Matches zero or more of the preceding element.The matching should cover the entire input string (not partial). Note: s could be empty and contains only lowercase letters a-z.p could be empty and contains only lowercase letters a-z, and characters like . or *. SolvingÂÖ∂ÂÆû‰∏ÄÂºÄÂßãÊàëÊòØÊâìÁÆóÁî®c++Ëá™Â∏¶ÁöÑÊ≠£ÂàôË°®ËææÂºèÂ∫ìÁöÑÔºåÊï≤ÂÆå#include &lt;regex&gt;ÂêéËßâÂæóËøôÊ†∑‰∏çÂ§™Â•ΩÔºåÊØïÁ´üÊòØÂú®ÂÅöÁÆóÊ≥ïÈ¢ò ÈÇ£Â∞±Êö¥ÂäõÊµÅÊù•‰∏ÄÊ≥¢ÔºÅÈ¶ñÂÖàËÄÉËôëÊ≤°ÊúâÈÄöÈÖçÁ¨¶ÁöÑÊÉÖÂÜµ‰∏ã, ÊØîËæÉÂÆå‰∏Ä‰ΩçÂÜçÊØîËæÉ‰∏ã‰∏Ä‰ΩçÔºåÂæàËá™ÁÑ∂Âú∞ÊÉ≥Âà∞ÈÄíÂΩíÔºö 123456789class Solution &#123; public: bool isMatch(const string&amp; s, const string&amp; p) &#123; if (p.empty()) &#123; return s.empty(); &#125; return (s[0] == p[0]) &amp;&amp; isMatch(s.substr(1), p.substr(1)); &#125;&#125;; Âä†‰∏äÈÄöÈÖçÁ¨¶‚Äú.‚ÄùÁöÑÊÉÖÂÜµ‰πüÊØîËæÉÂÆπÊòìÔºåÂè™ÈúÄË¶ÅÊ£ÄÊü•‰∏Ä‰∏ãÂ≠óÁ¨¶‰∏≤Âú®ËØ•‰ΩçÊúâÂ≠óÁ¨¶Âç≥ÂèØÔºö 12345678910class Solution &#123; public: bool isMatch(const string&amp; s, const string&amp; p) &#123; if (p.empty()) &#123; return s.empty(); &#125; bool currentMatch = (s[0] == p[0]) || (p[0] == '.' &amp;&amp; !s.empty()); return currentMatch &amp;&amp; isMatch(s.substr(1), p.substr(1)); &#125;&#125;; ÁÑ∂ÂêéÊòØÈÄöÈÖçÁ¨¶‚Äú*‚Äú,Ëøô‰∏™ÊúâÁÇπÈ∫ªÁÉ¶ÈúÄË¶ÅÂéªÊêúÂ≠óÁ¨¶‰∏≤ÂêéÈù¢Âá†‰ΩçÔºåÂåπÈÖç0Ê¨°ÁöÑÊÉÖÂÜµÂç≥return isMatch(s, p.substr(2))ÔºåÁõ¥Êé•Ë∑≥ËøáÂΩìÂâçÂ≠óÁ¨¶ÂêéÂêéÈù¢ÁöÑ‚Äù*‚Äù, ÂåπÈÖç1Ê¨°ÁöÑÊÉÖÂÜµÂç≥return (currentMatch &amp;&amp; isMatch(s.substr(1), p)), ÊääÂæÖÂåπÈÖçÂ≠óÁ¨¶‰∏≤ÂêéÁßª‰∏Ä‰ΩçÔºåÁÑ∂ÂêéÁªßÁª≠ÈÄíÂΩíÔºö 1234567891011121314class Solution &#123; public: bool isMatch(const string&amp; s, const string&amp; p) &#123; if (p.empty()) &#123; return s.empty(); &#125; bool currentMatch = (s[0] == p[0]) || (p[0] == '.' &amp;&amp; !s.empty()); if (p[1] == '*' &amp;&amp; p.length() &gt;= 2) &#123; return isMatch(s, p.substr(2)) || (currentMatch &amp;&amp; isMatch(s.substr(1), p)); &#125; return currentMatch &amp;&amp; isMatch(s.substr(1), p.substr(1)); &#125;&#125;; ËØï‰∫ÜÂá†‰∏™ÊµãËØï‰æãÔºåÊÑüËßâËøòË°åÂìà~~ ÁÑ∂ÂêéÊèê‰∫§ÂÆåÁªìÊûúÂá∫Êù•‰∫ÜÔºö ÁúãÊù•ÊàëËøòÊòØtoo naive‚Ä¶ Áúã‰∫Ü‰∏ãÊèêÁ§∫ÔºåÂ§ßÊÑèÊòØÁî®Âä®ÊÄÅËßÑÂàíÔºåÂÖàÂÜôÁä∂ÊÄÅËΩ¨ÁßªÊñπÁ®ã:ÂÆö‰πâdp[i][j] Âú® s[0,i-1]Âíåp[0,j-1]ÂåπÈÖçÊó∂‰∏∫Ê≠£ÔºåÂèç‰πã‰∏∫ÂÅá ÂΩìÊ≤°ÊúâÈÄöÈÖçÁ¨¶*Êó∂Ôºödp[i][j] = dp[i-1][j-1] &amp;&amp; (s[i-1] == p[j-1]) ÂΩìÊúâÈÄöÈÖçÁ¨¶*Êó∂: ÈáçÂ§ç0Ê¨°Ôºödp[i][j] = dp[i][j-2] ÈáçÂ§ç1Ê¨°Ôºödp[i][j] = dp[i-1][j] &amp;&amp; (s[i-1] == p[j-2]) Ë¥¥‰∏Ä‰∏ã‰ª£Á†Å(ËøôÈáå‰ºòÂåñ‰∫Ü‰∏Ä‰∏ãÔºåÁÖßÁùÄ‰∏äÈù¢ÁöÑÂÜôÁ©∫Èó¥Â§çÊùÇÂ∫¶‰ºöÂà∞O(i*j), ‰∏ãÈù¢ÁöÑ‰∏∫O(N)) 123456789101112131415161718192021class Solution &#123; public: bool isMatch(const string&amp; s, const string&amp; p) &#123; int m = s.length(), n = p.length(); vector&lt;bool&gt; dp(n + 1, false); for (int i = 0; i &lt;= m; i++) &#123; bool pre = dp[0]; dp[0] = !i; for (int j = 1; j &lt;= n; j++) &#123; bool temp = dp[j]; if (p[j - 1] == '*') &#123; dp[j] = dp[j - 2] || (i &amp;&amp; dp[j] &amp;&amp; (s[i - 1] == p[j - 2] || p[j - 2] == '.')); &#125; else &#123; dp[j] = i &amp;&amp; pre &amp;&amp; (s[i - 1] == p[j - 1] || p[j - 1] == '.'); &#125; pre = temp; &#125; &#125; return dp[n]; &#125;&#125;;","categories":[{"name":"ÁÆóÊ≥ïÈ¢òËß£","slug":"ÁÆóÊ≥ïÈ¢òËß£","permalink":"https://lzqblog.top/categories/%E7%AE%97%E6%B3%95%E9%A2%98%E8%A7%A3/"}],"tags":[{"name":"Algorithm","slug":"Algorithm","permalink":"https://lzqblog.top/tags/Algorithm/"},{"name":"C++","slug":"C","permalink":"https://lzqblog.top/tags/C/"}]},{"title":"Yocto rtl8811 wifi adapter bring up","slug":"Yocto-rtl8811-wifi-adapter-bring-up","date":"2019-12-21T06:36:59.000Z","updated":"2019-12-21T08:03:03.947Z","comments":true,"path":"2019-12-21/Yocto-rtl8811-wifi-adapter-bring-up/","link":"","permalink":"https://lzqblog.top/2019-12-21/Yocto-rtl8811-wifi-adapter-bring-up/","excerpt":"Brief notes about bring up rtl8811 and wlan0 on STM32MP1","text":"Brief notes about bring up rtl8811 and wlan0 on STM32MP1 rtl8811 driverThere is an open source driver on Github and I have verified 4235b0ec7d7220a6364586d8e25b1e8cb99c36f1 works well on my ubuntu PC. But to make it work in yocto, we need a patch to its makefile since it‚Äôs not designed as a yocto kernel module: 0001-modify-makefile-to-support-yocto.patch 12345678910111213141516171819202122232425262728293031323334353637383940From 0bc225d55b3e4e2269519b699f972401c227bc0c Mon Sep 17 00:00:00 2001From: &quot;Alex.Don.Scofield&quot; &lt;lizhiqin46783937@live.com&gt;Date: Sun, 15 Dec 2019 22:08:04 +0800Subject: [PATCH] modify makefile to support yocto--- Makefile | 9 +++++++-- 1 file changed, 7 insertions(+), 2 deletions(-)diff --git a&#x2F;Makefile b&#x2F;Makefileindex dc027f3..8de8dfd 100644--- a&#x2F;Makefile+++ b&#x2F;Makefile@@ -893,10 +893,12 @@ ifndef KVER KVER ?&#x3D; $(shell uname -r) endif ifndef KSRC-KSRC :&#x3D; &#x2F;lib&#x2F;modules&#x2F;$(KVER)&#x2F;build+# KSRC :&#x3D; &#x2F;lib&#x2F;modules&#x2F;$(KVER)&#x2F;build+KSRC :&#x3D; $(KERNEL_SRC) endif ifndef MODDESTDIR-MODDESTDIR :&#x3D; &#x2F;lib&#x2F;modules&#x2F;$(KVER)&#x2F;kernel&#x2F;drivers&#x2F;net&#x2F;wireless&#x2F;+# MODDESTDIR :&#x3D; &#x2F;lib&#x2F;modules&#x2F;$(KVER)&#x2F;kernel&#x2F;drivers&#x2F;net&#x2F;wireless&#x2F;+MODDESTDIR :&#x3D; $(O) endif INSTALL_PREFIX :&#x3D; endif@@ -1621,6 +1623,9 @@ all: modules modules: $(MAKE) ARCH&#x3D;$(ARCH) CROSS_COMPILE&#x3D;$(CROSS_COMPILE) -C $(KSRC) M&#x3D;$(shell pwd) modules +modules_install:+ $(MAKE) ARCH&#x3D;$(ARCH) CROSS_COMPILE&#x3D;$(CROSS_COMPILE) -C $(KSRC) M&#x3D;$(shell pwd) modules_install+ strip: $(CROSS_COMPILE)strip $(MODULE_NAME).ko --strip-unneeded -- 2.17.1 Then we create recipes for it(kernel-module-rtl8812au_0.1.bb): 123456789101112131415161718SUMMARY &#x3D; &quot;Driver for rtl8811au&#x2F;8812au&#x2F;8821au&quot;LICENSE &#x3D; &quot;GPL-2.0&quot;PV &#x3D; &quot;0.1&quot;LIC_FILES_CHKSUM &#x3D; &quot;file:&#x2F;&#x2F;$&#123;COMMON_LICENSE_DIR&#125;&#x2F;GPL-2.0;md5&#x3D;801f80980d171dd6425610833a22dbe6&quot;inherit module$&#123;PN&#125;_REPO &#x3D; &quot;github.com&#x2F;abperiasamy&#x2F;rtl8812AU_8821AU_linux.git&quot;SRCREV_$&#123;PN&#125; &#x3D; &quot;4235b0ec7d7220a6364586d8e25b1e8cb99c36f1&quot;SRC_URI &#x3D; &quot; \\ git:&#x2F;&#x2F;$&#123;$&#123;PN&#125;_REPO&#125;;name&#x3D;$&#123;PN&#125;;protocol&#x3D;https;nobranch&#x3D;1;destsuffix&#x3D;git&#x2F;$&#123;PN&#125; \\ file:&#x2F;&#x2F;0001-modify-makefile-to-support-yocto.patch \\ &quot;S &#x3D; &quot;$&#123;WORKDIR&#125;&#x2F;git&#x2F;$&#123;PN&#125;&quot;RPROVIDES_$&#123;PN&#125; +&#x3D; &quot;kernel-module-rtl8812au&quot; Add it to image recipe and flash built image into target, kernel module will be installed at /lib/modules/${KERNEL_VERSION}/extra/rtl8812au.ko. If it has been proper init, you can see those logs in dmesg: 123456[ 8.321575] RTL871X: module init start[ 8.354748] RTL871X: rtl8812au v4.3.14_13455.20150212_BTCOEX20150128-51[ 8.359924] RTL871X: rtl8812au BT-Coex version &#x3D; BTCOEX20150128-51[ 8.586779] RTL871X: rtw_ndev_init(wlan0)[ 8.607811] usbcore: registered new interface driver rtl8812au[ 8.612202] RTL871X: module init ret&#x3D;0 wpa-supplicantIf we use wpa-supplicant to manage and config wifi, we need to have a *.network file under /lib/systemd/network/: 12345[Match]Name&#x3D;wlan0[Network]DHCP&#x3D;ipv4 and a we also need a config file for wpa-supplicant: /etc/wpa_supplicant/wpa_supplicant-wlan0.conf 12345678910ctrl_interface&#x3D;&#x2F;var&#x2F;run&#x2F;wpa_supplicanteapol_version&#x3D;1ap_scan&#x3D;1fast_reauth&#x3D;1network&#x3D;&#123; ssid&#x3D;&quot;WIFI SSID&quot; psk&#x3D;&quot;WIFI PASSWD&quot; priority&#x3D;5&#125; If we want wlan be ready after system booting, we need to append wpa-supplicant. Create wpa-supplicant_%.bbappend: 123456789101112131415161718192021222324252627FILESEXTRAPATHS_prepend :&#x3D; &quot;$&#123;THISDIR&#125;&#x2F;$&#123;PN&#125;:&quot;SRC_URI +&#x3D; &quot; \\ file:&#x2F;&#x2F;51-wlan.network \\ file:&#x2F;&#x2F;wpa_supplicant-wlan0.conf \\ &quot;FILES_$&#123;PN&#125; +&#x3D; &quot; \\ $&#123;systemd_unitdir&#125;&#x2F;network&#x2F;51-wlan.network \\ $&#123;sysconfdir&#125;&#x2F;wpa_supplicant&#x2F;wpa_supplicant-wlan0.conf \\&quot;SYSTEMD_AUTO_ENABLE &#x3D; &quot;enable&quot;SYSTEMD_SERVICE_$&#123;PN&#125;_append &#x3D; &quot; wpa_supplicant@wlan0.service&quot;do_install_append() &#123; install -d $&#123;D&#125;$&#123;sysconfdir&#125;&#x2F;wpa_supplicant&#x2F; install -m 0600 $&#123;WORKDIR&#125;&#x2F;wpa_supplicant-wlan0.conf $&#123;D&#125;$&#123;sysconfdir&#125;&#x2F;wpa_supplicant&#x2F; if $&#123;@bb.utils.contains(&#39;DISTRO_FEATURES&#39;,&#39;systemd&#39;,&#39;true&#39;,&#39;false&#39;,d)&#125;; then install -d $&#123;D&#125;$&#123;systemd_unitdir&#125;&#x2F;network&#x2F; install -m 0644 $&#123;WORKDIR&#125;&#x2F;51-wlan.network $&#123;D&#125;$&#123;systemd_unitdir&#125;&#x2F;network&#x2F; install -d $&#123;D&#125;$&#123;sysconfdir&#125;&#x2F;systemd&#x2F;system&#x2F;multi-user.target.wants&#x2F; ln -s $&#123;systemd_unitdir&#125;&#x2F;system&#x2F;wpa_supplicant@.service \\ $&#123;D&#125;$&#123;sysconfdir&#125;&#x2F;systemd&#x2F;system&#x2F;multi-user.target.wants&#x2F;wpa_supplicant@wlan0.service fi&#125;","categories":[{"name":"ÁºñÁ®ãÁõ∏ÂÖ≥","slug":"ÁºñÁ®ãÁõ∏ÂÖ≥","permalink":"https://lzqblog.top/categories/%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/"}],"tags":[{"name":"Linux","slug":"Linux","permalink":"https://lzqblog.top/tags/Linux/"},{"name":"Yocto","slug":"Yocto","permalink":"https://lzqblog.top/tags/Yocto/"}]},{"title":"Under Maintenance","slug":"Under-Maintenance","date":"2019-12-13T13:35:11.000Z","updated":"2019-12-21T08:04:47.178Z","comments":true,"path":"2019-12-13/Under-Maintenance/","link":"","permalink":"https://lzqblog.top/2019-12-13/Under-Maintenance/","excerpt":"","text":"Website is currently under maintenance since some new features I have enabled recently might cause some performance issues(i.e. loading too slow)‚Ä¶","categories":[{"name":"Èöè‰æøÂÜôÂÜô","slug":"Èöè‰æøÂÜôÂÜô","permalink":"https://lzqblog.top/categories/%E9%9A%8F%E4%BE%BF%E5%86%99%E5%86%99/"}],"tags":[{"name":"Êó•Âøó","slug":"Êó•Âøó","permalink":"https://lzqblog.top/tags/%E6%97%A5%E5%BF%97/"}]},{"title":"Linux USB gadget configfs","slug":"Linux-USB-gadget-configfs","date":"2019-12-07T03:56:39.000Z","updated":"2019-12-13T13:32:38.416Z","comments":true,"path":"2019-12-07/Linux-USB-gadget-configfs/","link":"","permalink":"https://lzqblog.top/2019-12-07/Linux-USB-gadget-configfs/","excerpt":"Using configs we can easily set up usb gadget in user space. You even can make your board as a compound USB device, just by few commands.","text":"Using configs we can easily set up usb gadget in user space. You even can make your board as a compound USB device, just by few commands. Enable and mount configfs12modprobe libcompositemount -t configfs configfs /sys/kernel/config Create gadget(s)1mkdir /sys/kernel/config/usb_gadget/g1 Create English strings and write to common attributes1234mkdir -p /sys/kernel/config/usb_gadget/g1/strings/0x409echo $&#123;SERIALNUMBER&#125; &gt; /sys/kernel/config/usb_gadget/g1/strings/0x409/serialnumberecho $&#123;MANUFACTURER&#125; &gt; /sys/kernel/config/usb_gadget/g1/strings/0x409/manufacturerecho $&#123;PRODUCT_NAME&#125; &gt; /sys/kernel/config/usb_gadget/g1/strings/0x409/product Create gadget configuration(s)1234mkdir -p /sys/kernel/config/usb_gadget/g1/configs/c1mkdir -p /sys/kernel/config/usb_gadget/g1/configs/c1/strings/0x409echo \"Config 1: ADB\" &gt; /sys/kernel/config/usb_gadget/g1/configs/c1/strings/0x409/configurationecho 250 &gt; /sys/kernel/config/usb_gadget/g1/configs/c1/MaxPower Create gadget function(s)12# Here we use ffs adb as an examplemkdir -p /sys/kernel/config/usb_gadget/g1/functions/ffs.adb Associate gadget functions with configuration(s)1ln -s /sys/kernel/config/usb_gadget/g1/functions/ffs.adb /sys/kernel/config/usb_gadget/g1/configs/c1 Extra setup for gadget functionsSometime there is some steps need to be done before enabling gadget(i.e. ffs need to be mounted before active) 1234# Create mount point for ffs and start adbdmkdir -p \"$&#123;mount_point&#125;\"mount -t functionfs adb \"$&#123;mount_point&#125;\" -o uid=0,gid=0adbd &amp; If no extra step is needed, we can directly enable gadget Enable the gadget1234567# Find the available udcudc=$(ls -1 /sys/class/udc/)if [ -z $udc ]; then echo \"No UDC driver registered\" exit 1fiecho \"$&#123;udc&#125;\" &gt; /sys/kernel/config/usb_gadget/g1/UDC Compound USB DeviceTo setup a compound USB device, we just need to create several gadget functions and binding them with configuration(s) before enabling the gadget","categories":[{"name":"ÁºñÁ®ãÁõ∏ÂÖ≥","slug":"ÁºñÁ®ãÁõ∏ÂÖ≥","permalink":"https://lzqblog.top/categories/%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/"}],"tags":[{"name":"Linux","slug":"Linux","permalink":"https://lzqblog.top/tags/Linux/"}]},{"title":"Yocto devtool","slug":"Yocto-devtool","date":"2019-11-30T14:11:19.000Z","updated":"2019-11-30T14:44:46.348Z","comments":true,"path":"2019-11-30/Yocto-devtool/","link":"","permalink":"https://lzqblog.top/2019-11-30/Yocto-devtool/","excerpt":"I have got used to create patch and bbappend files manually, now I‚Äôm switching to use devtool - To be honest it‚Äôs quite easy to use.","text":"I have got used to create patch and bbappend files manually, now I‚Äôm switching to use devtool - To be honest it‚Äôs quite easy to use. Export source code to external patch1devtool modify &lt;recipe_name&gt; &lt;dst_path_to_export&gt; Then we can do changes based on exported source code. Upgrade changes to bbappendWhen changes are verified and we need to add changes into bbapned file as a patch, just use git to commit changes, then: 1devtool update-recipe &lt;recipe_name&gt; -m patch -a &lt;dst_layer_path_to_generate_bbapned&gt; Exit dev mode1devtool reset &lt;recipe_name&gt; Note: devtool will not delete exported source code.","categories":[{"name":"Èöè‰æøÂÜôÂÜô","slug":"Èöè‰æøÂÜôÂÜô","permalink":"https://lzqblog.top/categories/%E9%9A%8F%E4%BE%BF%E5%86%99%E5%86%99/"}],"tags":[{"name":"Yocto","slug":"Yocto","permalink":"https://lzqblog.top/tags/Yocto/"}]},{"title":"STM32MP1 getting started: create machine","slug":"STM32MP1-getting-started-create-machine","date":"2019-11-30T07:11:37.000Z","updated":"2019-11-30T08:25:31.272Z","comments":true,"path":"2019-11-30/STM32MP1-getting-started-create-machine/","link":"","permalink":"https://lzqblog.top/2019-11-30/STM32MP1-getting-started-create-machine/","excerpt":"Brief notes about how to create a customized machine based on STM32MP1.","text":"Brief notes about how to create a customized machine based on STM32MP1. Device treedts files should be created at the very beginning. There are 3 dts files need to implement: TF-A device tree U-BOOT device tree Kernel device tree Machine layerA custom layer can be created outside of meta-st: 1234567891011121314151617181920212223242526.‚îú‚îÄ‚îÄ conf‚îÇ ‚îú‚îÄ‚îÄ eula‚îÇ ‚îÇ ‚îî‚îÄ‚îÄ stm32mp1-cp‚îÇ ‚îú‚îÄ‚îÄ layer.conf‚îÇ ‚îî‚îÄ‚îÄ machine‚îÇ ‚îî‚îÄ‚îÄ stm32mp1-cp.conf‚îú‚îÄ‚îÄ COPYING.MIT‚îú‚îÄ‚îÄ README‚îú‚îÄ‚îÄ recipes-bsp‚îÇ ‚îú‚îÄ‚îÄ trusted-firmware-a‚îÇ ‚îÇ ‚îú‚îÄ‚îÄ tf-a-stm32mp‚îÇ ‚îÇ ‚îÇ ‚îî‚îÄ‚îÄ 0001-tf-a-alex.patch‚îÇ ‚îÇ ‚îî‚îÄ‚îÄ tf-a-stm32mp_2.0.bbappend‚îÇ ‚îî‚îÄ‚îÄ u-boot‚îÇ ‚îú‚îÄ‚îÄ u-boot-stm32mp‚îÇ ‚îÇ ‚îî‚îÄ‚îÄ 0001-u-boot-alex.patch‚îÇ ‚îú‚îÄ‚îÄ u-boot-stm32mp_2018.11.bbappend‚îÇ ‚îú‚îÄ‚îÄ u-boot-stm32mp-extlinux‚îÇ ‚îÇ ‚îî‚îÄ‚îÄ boot.scr.cmd‚îÇ ‚îî‚îÄ‚îÄ u-boot-stm32mp-extlinux.bb‚îî‚îÄ‚îÄ recipes-kernel ‚îî‚îÄ‚îÄ linux ‚îú‚îÄ‚îÄ linux-stm32mp ‚îÇ ‚îî‚îÄ‚îÄ stm32mp157a-cp.dts ‚îî‚îÄ‚îÄ linux-stm32mp_%.bbappend Here I use patchs and bbappend to add dts files. Machine confMachine conf can be created based on stm32mp1-disco.conf. There are some variables are pre-defined in st-machine-common-stm32mp.inc which need to be override in your machine conf. U-Boot extlinuxThere are some u-boot related env variables are set by UBOOT_EXTLINUX_ started configs in machine conf. In ST U-Boot, there path of extlinux.conf are related to UBOOT_EXTLINUX_BOOTPREFIXES.","categories":[{"name":"ÁºñÁ®ãÁõ∏ÂÖ≥","slug":"ÁºñÁ®ãÁõ∏ÂÖ≥","permalink":"https://lzqblog.top/categories/%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/"}],"tags":[{"name":"Linux","slug":"Linux","permalink":"https://lzqblog.top/tags/Linux/"},{"name":"Yocto","slug":"Yocto","permalink":"https://lzqblog.top/tags/Yocto/"}]},{"title":"Install JDK/JRE for Ubuntu","slug":"Install-JDK-JRE-for-Ubuntu","date":"2019-11-16T08:03:56.000Z","updated":"2019-11-16T11:21:42.925Z","comments":true,"path":"2019-11-16/Install-JDK-JRE-for-Ubuntu/","link":"","permalink":"https://lzqblog.top/2019-11-16/Install-JDK-JRE-for-Ubuntu/","excerpt":"‚Ä¶","text":"‚Ä¶ There are two versions of JDK/JRE can be installed on Ubuntu: Open JDK/JRE Oracle JDK/JRE Install Open JDK/JREOpen JDK/JRE can be easily installed by 12sudo apt install default-jresudo apt install default-jdk Install Oracle standalone JRE First of all download Oracle JRE from Oracle Unpack downloaded package and install it into the path you like(i.e /usr/lib/java) 12cd /usr/lib/javasudo tar -zxvf ~/Downloads/jre-8u231-linux-x64.tar.gz Add JRE installation path into $PATH 1sudo nano /etc/environment Add :/usr/lib/java/jre1.8.0_231 into PATH Add installed java as alternative 1sudo update-alternatives --install /usr/bin/java java /usr/lib/java/jre1.8.0_231/bin/java 1 To switch to other alternative java. use: 1sudo update-alternatives --config java Check installation 1234java -versionjava version \"1.8.0_231\"Java(TM) SE Runtime Environment (build 1.8.0_231-b11)Java HotSpot(TM) 64-Bit Server VM (build 25.231-b11, mixed mode)","categories":[{"name":"Èöè‰æøÂÜôÂÜô","slug":"Èöè‰æøÂÜôÂÜô","permalink":"https://lzqblog.top/categories/%E9%9A%8F%E4%BE%BF%E5%86%99%E5%86%99/"}],"tags":[{"name":"Êó•Âøó","slug":"Êó•Âøó","permalink":"https://lzqblog.top/tags/%E6%97%A5%E5%BF%97/"},{"name":"java","slug":"java","permalink":"https://lzqblog.top/tags/java/"}]},{"title":"STM32MP1 getting started: setup environments","slug":"STM32MP1-getting-started-setup-environments","date":"2019-11-16T01:14:45.000Z","updated":"2019-11-30T08:23:41.282Z","comments":true,"path":"2019-11-16/STM32MP1-getting-started-setup-environments/","link":"","permalink":"https://lzqblog.top/2019-11-16/STM32MP1-getting-started-setup-environments/","excerpt":"I‚Äôm planing to do some research on ST newest MPU series: STM32MP1. It‚Äôs a Cortex A7(solo or dual core) + M4 solution, not very powerful but the price might be very competitive. In this post we will setup the development environments.","text":"I‚Äôm planing to do some research on ST newest MPU series: STM32MP1. It‚Äôs a Cortex A7(solo or dual core) + M4 solution, not very powerful but the price might be very competitive. In this post we will setup the development environments. Choose the suitable base software packageThere are 3 basic software packages provided by ST: Starter Package(For evaluation) Developer Package(For limited modification and application development) Distribution Package(For creating custom distribution) Similar with Qualcomm solutions, there are two packages are available for development purpose. In my scenario I will use Distribution Package for sure, so the following parts of this post is about how to setup environments for Developer Package based development. BTW the experiences I got during Qualcomm apq8009 based SoC really sucks‚Ä¶ Their packages just like a huge shit mountain. Initialize repoIf you are new to Yocto, you need to install some packages before start(i.e. repo) 123mkdir openstlinux-4.19-thud-mp1-19-10-09 &amp;&amp; cd openstlinux-4.19-thud-mp1-19-10-09repo init -u https://github.com/STMicroelectronics/oe-manifest.git -b refs/tags/openstlinux-4.19-thud-mp1-19-10-09repo sync Package structureFrom ST WIKI: 123456789101112131415161718192021222324252627282930313233openstlinux-4.19-thud-mp1-19-10-09 OpenSTLinux distribution‚îú‚îÄ‚îÄ layers ‚îÇ ‚îú‚îÄ‚îÄ meta-openembedded Collection of layers for the OpenEmbedded-Core universe (OpenEmbedded standard)‚îÇ ‚îú‚îÄ‚îÄ meta-qt5 QT5 layer for OpenEmbedded (standard)‚îÇ ‚îú‚îÄ‚îÄ meta-st‚îÇ ‚îÇ ‚îú‚îÄ‚îÄ meta-st-openstlinux STMicroelectronics layer that contains the frameworks and images settings for the OpenSTLinux distribution‚îÇ ‚îÇ ‚îú‚îÄ‚îÄ meta-st-stm32mp STMicroelectronics layer that contains the description of the BSP for the STM32 MPU devices‚îÇ ‚îÇ ‚îÇ ‚îú‚îÄ‚îÄ recipes-bsp‚îÇ ‚îÇ ‚îÇ ‚îÇ ‚îú‚îÄ‚îÄ alsa Recipes for ALSA control configuration‚îÇ ‚îÇ ‚îÇ ‚îÇ ‚îú‚îÄ‚îÄ drivers Recipes for Vivante GCNANO GPU kernel drivers‚îÇ ‚îÇ ‚îÇ ‚îÇ ‚îú‚îÄ‚îÄ trusted-firmware-a Recipes for TF-A‚îÇ ‚îÇ ‚îÇ ‚îÇ ‚îî‚îÄ‚îÄ u-boot Recipes for U-Boot‚îÇ ‚îÇ ‚îÇ ‚îú‚îÄ‚îÄ recipes-extended‚îÇ ‚îÇ ‚îÇ ‚îÇ ‚îú‚îÄ‚îÄ linux-examples Recipes for Linux examples for STM32 MPU devices‚îÇ ‚îÇ ‚îÇ ‚îÇ ‚îú‚îÄ‚îÄ m4coredump Recipes for script to manage coredump of cortexM4‚îÇ ‚îÇ ‚îÇ ‚îÇ ‚îî‚îÄ‚îÄ m4projects Recipes for firmware examples for Cortex M4‚îÇ ‚îÇ ‚îÇ ‚îú‚îÄ‚îÄ recipes-graphics‚îÇ ‚îÇ ‚îÇ ‚îÇ ‚îú‚îÄ‚îÄ gcnano-userland Recipes for Vivante libraries OpenGL ES, OpenVG and EGL (multi backend)‚îÇ ‚îÇ ‚îÇ ‚îÇ ‚îî‚îÄ‚îÄ [...]‚îÇ ‚îÇ ‚îÇ ‚îú‚îÄ‚îÄ recipes-kernel‚îÇ ‚îÇ ‚îÇ ‚îÇ ‚îú‚îÄ‚îÄ linux Recipes for Linux kernel‚îÇ ‚îÇ ‚îÇ ‚îÇ ‚îî‚îÄ‚îÄ linux-firmware Recipes for Linux firmwares (example, Bluetooth firmware)‚îÇ ‚îÇ ‚îÇ ‚îú‚îÄ‚îÄ recipes-security‚îÇ ‚îÇ ‚îÇ ‚îÇ ‚îî‚îÄ‚îÄ optee Recipes for OPTEE‚îÇ ‚îÇ ‚îÇ ‚îú‚îÄ‚îÄ recipes-st‚îÇ ‚îÇ ‚îÇ ‚îÇ ‚îî‚îÄ‚îÄ images Recipes for the bootfs and userfs partitions binaries‚îÇ ‚îÇ ‚îÇ ‚îî‚îÄ‚îÄ [...]‚îÇ ‚îÇ ‚îú‚îÄ‚îÄ meta-st-stm32mp-addons STMicroelectronics layer that helps managing the STM32CubeMX integration‚îÇ ‚îÇ ‚îî‚îÄ‚îÄ scripts‚îÇ ‚îÇ ‚îú‚îÄ‚îÄ envsetup.sh Environment setup script for Distribution Package‚îÇ ‚îÇ ‚îî‚îÄ‚îÄ [...]‚îÇ ‚îú‚îÄ‚îÄ meta-timesys Timesys layer for OpenEmbedded (standard)‚îÇ ‚îî‚îÄ‚îÄ openembedded-core Core metadata for current versions of OpenEmbedded (standard) Test building imageEnvironment setup1DISTRO=openstlinux-weston MACHINE=stm32mp1 source layers/meta-st/scripts/envsetup.sh If you want to test without wayland or x11 support, using DISTRO=openstlinux-eglfs MACHINE=st-image-core instead. If build folder has been created, using blow command to re-use it: 1source layers/meta-st/scripts/envsetup.sh build-openstlinuxweston-stm32mp1/ Trigger building1bitbake st-image-weston st-image-core is also available if you want to create a console only image. USB FlashUSB flash need to use STM32CubeProgrammer. Device need to switched as usb flash mode as well. After installation, using STM32_Programmer_CLI to check if device can be detected: 12345678910111213141516$ sudo STM32_Programmer_CLI -l usb ------------------------------------------------------------------- STM32CubeProgrammer v2.2.1 -------------------------------------------------------------------===== DFU Interface =====Total number of available STM32 device in DFU mode: 1 Device Index : USB1 USB Bus Number : 001 USB Address Number : 004 Product ID : DFU in HS Mode @Device ID /0x500, @Revision ID /0x0000 Serial number : 004800293338511139303435 Firmware version : 0x0110 Device ID : 0x0500 Notice: You may need to create a soft link from $HOME/STMicroelectronics/STM32Cube/STM32CubeProgrammer/bin/STM32_Programmer_CLI You also can add an udev rule to allow connection without su: 12sudo cp $HOME/STMicroelectronics/STM32Cube/STM32CubeProgrammer/Drivers/rules/50-usb-conf.rules /etc/udev/rules.d/sudo service udev restart If device can be found in DFU mode, using blow cmd to trigger usb flash: 1STM32_Programmer_CLI -c port=usb1 -w flashlayout_st-image-weston/FlashLayout_xxxxxx.tsv STM32CubeProgrammer using a .tsv file to specify flash layout and the binaries are going to use.","categories":[{"name":"ÁºñÁ®ãÁõ∏ÂÖ≥","slug":"ÁºñÁ®ãÁõ∏ÂÖ≥","permalink":"https://lzqblog.top/categories/%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/"}],"tags":[{"name":"Linux","slug":"Linux","permalink":"https://lzqblog.top/tags/Linux/"},{"name":"Yocto","slug":"Yocto","permalink":"https://lzqblog.top/tags/Yocto/"}]},{"title":"Chrome: ERR_NETWORK_CHANGED on Ubuntu","slug":"Chrome-ERR-NETWORK-CHANGED-on-Ubuntu","date":"2019-11-14T12:26:21.000Z","updated":"2019-11-14T12:32:40.936Z","comments":true,"path":"2019-11-14/Chrome-ERR-NETWORK-CHANGED-on-Ubuntu/","link":"","permalink":"https://lzqblog.top/2019-11-14/Chrome-ERR-NETWORK-CHANGED-on-Ubuntu/","excerpt":"","text":"In my scenario it was caused by some docker containers - All of them have booting issues but they have been set as ‚Äìrestart=always, which caused they start to create js requests periodicity. Everything is ok after removing those docker containers.","categories":[{"name":"ÈóÆÈ¢òËÆ∞ÂΩï","slug":"ÈóÆÈ¢òËÆ∞ÂΩï","permalink":"https://lzqblog.top/categories/%E9%97%AE%E9%A2%98%E8%AE%B0%E5%BD%95/"}],"tags":[{"name":"Êó•Âøó","slug":"Êó•Âøó","permalink":"https://lzqblog.top/tags/%E6%97%A5%E5%BF%97/"}]},{"title":"vscode settings for zephyr","slug":"vscode-settings-for-zephyr","date":"2019-11-10T11:06:59.000Z","updated":"2019-11-14T12:32:40.944Z","comments":true,"path":"2019-11-10/vscode-settings-for-zephyr/","link":"","permalink":"https://lzqblog.top/2019-11-10/vscode-settings-for-zephyr/","excerpt":"This is an example vscode settings to provide supports for zephyr based projects build/debug: vscode-zepjyr I‚Äôm not planing to discuss details about those json files here since I know you lazy guys just want to know how to use it(Or maybe I‚Äôm too lazy to write those details down, who knows).","text":"This is an example vscode settings to provide supports for zephyr based projects build/debug: vscode-zepjyr I‚Äôm not planing to discuss details about those json files here since I know you lazy guys just want to know how to use it(Or maybe I‚Äôm too lazy to write those details down, who knows). Quick start Copy this .vscode folder into your project root folder. Modify the environment variables at the end of task.json and launch.json base on your own settings:12345678910//task.json\"options\": &#123; \"env\": &#123; \"ZEPHYR_TOOLCHAIN_VARIANT\": \"zephyr\", \"ZEPHYR_SDK_INSTALL_DIR\": \"/home/alex/zephyr-sdk-0.10.3\", \"ZEPHYR_BASE\": \"$&#123;workspaceFolder&#125;/zephyrproject/zephyr\", \"VS_CODE_BOARD_TO_BUILD\": \"reel_board\", \"VS_CODE_ZEPHYR_BIN_NAME\": \"zephyr.elf\", &#125;&#125; 12345 //launch.json \"miDebuggerPath\": \"/home/alex/zephyr-sdk-0.10.3/arm-zephyr-eabi/bin/arm-zephyr-eabi-gdb\" &#125; ]&#125; Press Ctrl+Shit+B to trigger build task(You also can run task ‚Äúzephyr build ninja‚Äú alternatively if you want to use ninja to build). Press the holy F5 button(which is on the right side of the F4 button) to start debugging. An selecting list will jump out when terminated debug process, don‚Äôt forget to select it. Known issues An exception will occur when stop at main(). Not sure where the root cause is, but debug process still can proceed, just ignore it. Breakpoints can‚Äôt be added into some lines but you can run code step by step to those lines. Disable zephyr build optimization doesn‚Äôt help on this, it might related to zephyr toolchain.","categories":[{"name":"Èöè‰æøÂÜôÂÜô","slug":"Èöè‰æøÂÜôÂÜô","permalink":"https://lzqblog.top/categories/%E9%9A%8F%E4%BE%BF%E5%86%99%E5%86%99/"}],"tags":[{"name":"Êó•Âøó","slug":"Êó•Âøó","permalink":"https://lzqblog.top/tags/%E6%97%A5%E5%BF%97/"}]},{"title":"Algorithm Puzzles: Palindrome Number","slug":"Algorithm-Puzzles-Palindrome-Number","date":"2019-10-26T03:11:46.000Z","updated":"2019-10-26T04:49:30.371Z","comments":true,"path":"2019-10-26/Algorithm-Puzzles-Palindrome-Number/","link":"","permalink":"https://lzqblog.top/2019-10-26/Algorithm-Puzzles-Palindrome-Number/","excerpt":"Algorithm Puzzles everyday every week sometimes: Palindrome Number","text":"Algorithm Puzzles everyday every week sometimes: Palindrome Number PuzzlePuzzle from leetcode: Determine whether an integer is a palindrome. An integer is a palindrome when it reads the same backward as forward. Example 1: Input: 121Output: trueExample 2: Input: -121Output: falseExplanation: From left to right, it reads -121. From right to left, it becomes 121-. Therefore it is not a palindrome.Example 3: Input: 10Output: falseExplanation: Reads 01 from right to left. Therefore it is not a palindrome. SolvingFirst came out solutionMy first came out solution is using string: 123456789101112131415161718192021222324class Solution &#123; public: bool isPalindrome(int x) &#123; if (x &lt; 0) &#123; return false; &#125; std::stringstream stream; std::string str; stream &lt;&lt; x; stream &gt;&gt; str; size_t length = str.length(); auto iterHead = str.cbegin(); auto iterTail = str.cend() - 1; for(size_t i = 0; i &lt; length; i+=2)&#123; if(*iterHead == *iterTail)&#123; ++iterHead; --iterTail; &#125;else&#123; return false; &#125; &#125; return true; &#125;&#125;; I know it‚Äôs not the best solution at very beginning, but it still surprised me when submitted: Another approachSince the performance of transferring to string is so bad, I‚Äôd like to try to handle it in integer only. 1234567891011121314151617class Solution &#123; public: bool isPalindrome(int x) &#123; int reverted = 0; if (x % 10 == 0 &amp;&amp; x != 0) &#123; return false; &#125; while (x &gt; reverted) &#123; reverted = reverted * 10 + x % 10; x /= 10; &#125; return (x == reverted) || (x == reverted / 10); &#125;&#125;;","categories":[{"name":"ÁÆóÊ≥ïÈ¢òËß£","slug":"ÁÆóÊ≥ïÈ¢òËß£","permalink":"https://lzqblog.top/categories/%E7%AE%97%E6%B3%95%E9%A2%98%E8%A7%A3/"}],"tags":[{"name":"Algorithm","slug":"Algorithm","permalink":"https://lzqblog.top/tags/Algorithm/"},{"name":"C++","slug":"C","permalink":"https://lzqblog.top/tags/C/"}]},{"title":"Setting up Gitlab CI (II): pipeline and .gitlab-ci.yml","slug":"Setting-up-Gitlab-CI-II-pipeline-and-gitlab-ci-yml","date":"2019-10-19T11:00:31.000Z","updated":"2019-10-19T13:22:13.632Z","comments":true,"path":"2019-10-19/Setting-up-Gitlab-CI-II-pipeline-and-gitlab-ci-yml/","link":"","permalink":"https://lzqblog.top/2019-10-19/Setting-up-Gitlab-CI-II-pipeline-and-gitlab-ci-yml/","excerpt":"A brief introduction about how to setup Gitlab CI (part II).","text":"A brief introduction about how to setup Gitlab CI (part II). In Setting up Gitlab CI (I): docker+gitlab-runner we already created a docker image for gitlab-runner, which will be our CI environment. Next step is define the behaviors of your CI processes. PipelineCreating and using CI/CD pipelines: Pipelines are the top-level component of continuous integration, delivery, and deployment. If .gitlab-ci.yml has been set up correctly, you could see pipeline flow under CI/CD-&gt;Pipelines. .gitlab-ci.ymlIf CI was enabled in your gitlab projects, gitlab-runner will try to find a file named .gitlab-ci.yml in your repository root. This file will tell gitlab-runner what should be done during CI process. image, variablesYou need to specify the docker image and environment variables gitlab-runner are going to use at very beginning: 123image: localhost:5000/$&#123;name_of_your_image&#125;variables: SDK_VERSION: 1.2.3 In our case we use the image from local docker hub. stages, jobs and scriptIn normal cases, our pipeline should have 3 stages roughly: build test deploy Stages can be split into several jobs like: code/commit style check downloading build dependencies build code run unit test run integration testing deploy In .gitlab-ci.yml, job can be defined as: 12345job_name: stage: test script: - uname -a - echo \"hello\" script defines shell scripts which will be executed by gitlab-runner. Each job must have a unique name, but there are some reserved keywords can‚Äôt be used as job name: image services stages types before_script after_script variables cache Job name also can start with a dot(.) like .job. If a job name started with a dot, it will be ignored by gitlab CI(gitlab-runner will skip it). MoreThere are a lot of features can be defined in .gitlab-ci.yml. Go to GitLab CI/CD Pipeline Configuration Reference for more details.","categories":[],"tags":[]},{"title":"Algorithm Puzzles: String to Integer (atoi)","slug":"Algorithm-Puzzles-String-to-Integer-atoi","date":"2019-10-13T14:10:46.000Z","updated":"2019-10-14T12:23:29.821Z","comments":true,"path":"2019-10-13/Algorithm-Puzzles-String-to-Integer-atoi/","link":"","permalink":"https://lzqblog.top/2019-10-13/Algorithm-Puzzles-String-to-Integer-atoi/","excerpt":"Algorithm Puzzles everyday every week sometimes: String to Integer (atoi)","text":"Algorithm Puzzles everyday every week sometimes: String to Integer (atoi) PuzzlePuzzle from leetcode: Implement atoi which converts a string to an integer. The function first discards as many whitespace characters as necessary until the first non-whitespace character is found. Then, starting from this character, takes an optional initial plus or minus sign followed by as many numerical digits as possible, and interprets them as a numerical value. The string can contain additional characters after those that form the integral number, which are ignored and have no effect on the behavior of this function. If the first sequence of non-whitespace characters in str is not a valid integral number, or if no such sequence exists because either str is empty or it contains only whitespace characters, no conversion is performed. If no valid conversion could be performed, a zero value is returned. Note: Only the space character ‚Äò ‚Äò is considered as whitespace character.Assume we are dealing with an environment which could only store integers within the 32-bit signed integer range: [‚àí231, 231 ‚àí 1]. If the numerical value is out of the range of representable values, INT_MAX (231 ‚àí 1) or INT_MIN (‚àí231) is returned.Example 1: 12Input: &quot;42&quot;Output: 42 Example 2: 1234Input: &quot; -42&quot;Output: -42Explanation: The first non-whitespace character is &#39;-&#39;, which is the minus sign. Then take as many numerical digits as possible, which gets 42. Example 3: 123Input: &quot;4193 with words&quot;Output: 4193Explanation: Conversion stops at digit &#39;3&#39; as the next character is not a numerical digit. Example 4: 1234Input: &quot;words and 987&quot;Output: 0Explanation: The first non-whitespace character is &#39;w&#39;, which is not a numerical digit or a +&#x2F;- sign. Therefore no valid conversion could be performed. Example 5: 1234Input: &quot;-91283472332&quot;Output: -2147483648Explanation: The number &quot;-91283472332&quot; is out of the range of a 32-bit signed integer. Thefore INT_MIN (‚àí231) is returned. SolvingMy first solution is using regex to filtrate incorrect inputs and find out the numerical: 12345678910111213141516171819202122232425262728293031class Solution &#123; public: int myAtoi(const std::string&amp; str) &#123; const int intMin = -2147483648; const int intMax = 2147483647; if (std::regex_match(str, std::regex(\"[ ]*[-+]?\\\\d&#123;1,&#125;[\\\\s\\\\S]*\"))) &#123; std::smatch numMatch; std::regex_search(str, numMatch, std::regex(\"[-+]?\\\\d&#123;1,&#125;\")); int index = 0, res = 0; int negative = 1; if (numMatch[0].str()[0] == '-') &#123; negative = -1; index = 1; &#125; else if (numMatch[0].str()[0] == '+') &#123; index = 1; &#125; for (; index &lt; numMatch[0].str().length(); ++index) &#123; if (res &gt; 214748364 || (res == 214748364 &amp;&amp; numMatch[0].str()[index] - '0' &gt; 7)) &#123; return negative == -1 ? intMin : intMax; &#125; res = res * 10 + (numMatch[0].str()[index] - '0'); &#125; return res * negative; &#125; return 0; &#125;&#125;; Then : I realized that maybe using regex is not a good idea since there is no need to traversal string more than once‚Ä¶ After some modification, here is my solution 2: 1234567891011121314151617181920212223242526272829303132333435363738394041class Solution &#123; public: int myAtoi(const string&amp; str) &#123; const int intMin = -2147483648; const int intMax = 2147483647; size_t index = 0; size_t length = str.length(); int res = 0; bool negative = false; index = str.find_first_not_of(' '); if (index == std::string::npos) &#123; return 0; &#125; if (str[index] &lt; '0' || str[index] &gt; '9') &#123; if (str[index] == '-') &#123; negative = true; ++index; &#125; else if (str[index] == '+') &#123; ++index; &#125; else &#123; return 0; &#125; &#125; for (; index &lt; length; ++index) &#123; if (str[index] &lt; '0' || str[index] &gt; '9') &#123; break; &#125; if (res &gt; 214748364 || (res == 214748364 &amp;&amp; (str[index] - '0' &gt; 7))) &#123; return negative ? intMin : intMax; &#125; res = res * 10 + (str[index] - '0'); &#125; return negative ? -res : res; &#125;&#125;; Result I got: 0 ms and better than 100%‚Ä¶","categories":[{"name":"ÁÆóÊ≥ïÈ¢òËß£","slug":"ÁÆóÊ≥ïÈ¢òËß£","permalink":"https://lzqblog.top/categories/%E7%AE%97%E6%B3%95%E9%A2%98%E8%A7%A3/"}],"tags":[{"name":"Algorithm","slug":"Algorithm","permalink":"https://lzqblog.top/tags/Algorithm/"},{"name":"C++","slug":"C","permalink":"https://lzqblog.top/tags/C/"}]},{"title":"Algorithm Puzzles: Reverse Integer","slug":"Algorithm-Puzzles-Reverse-Integer","date":"2019-10-05T03:10:16.000Z","updated":"2019-10-05T03:23:46.831Z","comments":true,"path":"2019-10-05/Algorithm-Puzzles-Reverse-Integer/","link":"","permalink":"https://lzqblog.top/2019-10-05/Algorithm-Puzzles-Reverse-Integer/","excerpt":"Algorithm Puzzles everyday every week sometimes: Reverse Integer","text":"Algorithm Puzzles everyday every week sometimes: Reverse Integer PuzzlePuzzle from leetcode: Given a 32-bit signed integer, reverse digits of an integer. Example 1: Input: 123Output: 321Example 2: Input: -123Output: -321Example 3: Input: 120Output: 21 Note:Assume we are dealing with an environment which could only store integers within the 32-bit signed integer range: [‚àí231, 231 ‚àí 1]. For the purpose of this problem, assume that your function returns 0 when the reversed integer overflows. SolvingThis puzzle is ez to solve if you considered possible overflow at the very beginning. I‚Äôd like to using string to do reverse process, which should be no overflow during reverse, after reversing then do overflow check. Considering that the range of int32_t is [-2147483648, 2147483647], we need to check the value after reversing is in this range or not. 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647class Solution&#123;public: int32_t reverse(int32_t x) &#123; string ori = std::to_string(x); if (ori[0] == '-') &#123; std::reverse(++std::begin(ori), std::end(ori)); &#125; else &#123; std::reverse(std::begin(ori), std::end(ori)); &#125; if (ori.length() == 10) &#123; if (ori[0] &gt; '2') &#123; return 0; &#125; else if (ori[0] == '2') &#123; if (atoi(ori.substr(1, 9).c_str()) &gt; 147483647) &#123; return 0; &#125; &#125; &#125; if (ori.length() == 11) &#123; if (ori[1] &gt; '2') &#123; return 0; &#125; else if (ori[1] == '2') &#123; if (atoi(ori.substr(2, 9).c_str()) &gt; 147483648) &#123; return 0; &#125; &#125; &#125; return atoi(ori.c_str()); &#125;&#125;; Result I got: One shot pass~~","categories":[{"name":"ÁÆóÊ≥ïÈ¢òËß£","slug":"ÁÆóÊ≥ïÈ¢òËß£","permalink":"https://lzqblog.top/categories/%E7%AE%97%E6%B3%95%E9%A2%98%E8%A7%A3/"}],"tags":[{"name":"Algorithm","slug":"Algorithm","permalink":"https://lzqblog.top/tags/Algorithm/"},{"name":"C++","slug":"C","permalink":"https://lzqblog.top/tags/C/"}]},{"title":"Setting up Gitlab CI (I): docker+gitlab-runner","slug":"Setting-up-Gitlab-CI-I-docker-gitlab-runner","date":"2019-09-28T00:14:36.000Z","updated":"2019-09-28T01:21:19.068Z","comments":true,"path":"2019-09-28/Setting-up-Gitlab-CI-I-docker-gitlab-runner/","link":"","permalink":"https://lzqblog.top/2019-09-28/Setting-up-Gitlab-CI-I-docker-gitlab-runner/","excerpt":"A brief introduction about how to setup Gitlab CI (part I).","text":"A brief introduction about how to setup Gitlab CI (part I). If you are new to docker, this post might help: Click this Install and setup gitlab runner1234567# Install gitlab runner docker imagedocker run -d --name gitlab-runner --restart always \\ -v /srv/gitlab-runner/config:/etc/gitlab-runner \\ -v /var/run/docker.sock:/var/run/docker.sock \\ gitlab/gitlab-runner:latest# Config and register runnerdocker exec -it $&#123;container_id_of_gitlab-runner&#125; gitlab-runner register If you have installed gitlab-runner binary, you also can do register by one single command: 1234567891011sudo gitlab-runner register \\ --non-interactive \\ --url \"https://gitlab.com/\" \\ --registration-token \"PROJECT_REGISTRATION_TOKEN\" \\ --executor \"docker\" \\ --docker-image alpine:latest \\ --description \"description_of_runner\" \\ --tag-list \"docker,aws\" \\ --run-untagged=\"true\" \\ --locked=\"false\" \\ --access-level=\"not_protected\" Prepare your docker image as CI environmentDocker images can be built from a local Dockerfile: 1docker build -t $&#123;image_name&#125;:$&#123;version_number&#125; . There is a ‚Äú.‚Äù at the end, don‚Äôt forget it. Create local docker hubNormally you can deploy your image to dockerhub.com. But if you don‚Äôt want to open your images to public, you also can create a local docker hub instead: 123docker run -d -p 5000:5000 --restart=always --name registry registry:2docker tag $&#123;image_name&#125;:$&#123;image_tag&#125; localhost:5000/$&#123;image_name&#125;docker push localhost:5000/$&#123;image_name&#125; After that gitlab-runner can ‚Äúdownload‚Äù your images from localhost:5000/${image_name}. You also can do a quick check if your image repo exist or not by accessing catalog: 1curl http://localhost:5000/v2/_catalog To be continued‚Ä¶","categories":[{"name":"CI","slug":"CI","permalink":"https://lzqblog.top/categories/CI/"}],"tags":[{"name":"Continuous integration","slug":"Continuous-integration","permalink":"https://lzqblog.top/tags/Continuous-integration/"}]},{"title":"Algorithm Puzzles: ZigZag Conversion","slug":"Algorithm-Puzzles-ZigZag-Conversion","date":"2019-09-27T23:58:32.000Z","updated":"2019-10-05T03:12:30.992Z","comments":true,"path":"2019-09-28/Algorithm-Puzzles-ZigZag-Conversion/","link":"","permalink":"https://lzqblog.top/2019-09-28/Algorithm-Puzzles-ZigZag-Conversion/","excerpt":"Algorithm Puzzles everyday every week sometimes: ZigZag Conversion","text":"Algorithm Puzzles everyday every week sometimes: ZigZag Conversion PuzzlePuzzle from leetcode: The string ‚ÄúPAYPALISHIRING‚Äù is written in a zigzag pattern on a given number of rows like this: (you may want to display this pattern in a fixed font for better legibility) 123P A H NA P L S I I GY I R And then read line by line: ‚ÄúPAHNAPLSIIGYIR‚Äù Write the code that will take a string and make this conversion given a number of rows: string convert(string s, int numRows);Example 1: Input: s = ‚ÄúPAYPALISHIRING‚Äù, numRows = 3Output: ‚ÄúPAHNAPLSIIGYIR‚ÄùExample 2: Input: s = ‚ÄúPAYPALISHIRING‚Äù, numRows = 4Output: ‚ÄúPINALSIGYAHRPI‚ÄùExplanation: 1234P I NA L S I GY A H RP I SolvingFirst came out solution 0 6 12 1 5 7 11 13 2 4 8 10 14 3 9 15 It‚Äôs obvious that the output is periodic for first row: 1230 &#x3D; 2 * (numRows - 1) * 06 &#x3D; 2 * (numRows - 1) * 112 &#x3D; 2 * (numRows - 1) * 2 Let T = 2 * (numRows - 1), for next row(row[1]): 123451 &#x3D; T * 0 + 1 5 &#x3D; T * 1 - 17 &#x3D; T * 1 + 111 &#x3D; T * 2 - 113 &#x3D; T * 2 + 1 For row[2]: 12342 &#x3D; T * 0 + 24 &#x3D; T * 1 - 28 &#x3D; T * 1 + 2... Change 1,2 to rowIndex which start from 0 to numRows - 1 : 1230 &#x3D; T * 0 + rowIndex (rowIndex &#x3D; 0)1 &#x3D; T * 0 + rowIndex (rowIndex &#x3D; 1)2 &#x3D; T * 0 + rowIndex (rowIndex &#x3D; 2) Cool, can start coding now 1234567891011121314151617181920212223242526class Solution &#123; public: std::string convert(std::string s, int numRows) &#123; if (numRows == 1) &#123; return s; &#125; std::string res; size_t maxLength = s.size(); size_t T = 2 * (numRows - 1); for (size_t rowIndex = 0; rowIndex &lt; numRows; ++rowIndex) &#123; size_t oriIndex = rowIndex; while (oriIndex &lt; maxLength) &#123; res.push_back(s[oriIndex]); size_t insertOne = oriIndex + T - rowIndex - rowIndex; if (insertOne &gt; oriIndex &amp;&amp; insertOne &lt; oriIndex + T &amp;&amp; insertOne &lt; maxLength) &#123; res.push_back(s[insertOne]); &#125; oriIndex += T; &#125; &#125; return res; &#125;&#125;; Result: Let‚Äôs do some optimization: 1234567891011121314151617181920212223242526class Solution &#123; public: const std::string convert(const std::string&amp; s, int numRows) &#123; if (numRows == 1) &#123; return s; &#125; std::string res; size_t maxLength = s.size(); size_t T = 2 * (numRows - 1); for (size_t rowIndex = 0; rowIndex &lt; numRows; ++rowIndex) &#123; size_t oriIndex = rowIndex; while (oriIndex &lt; maxLength) &#123; res.push_back(s[oriIndex]); size_t insertOne = oriIndex + T - rowIndex - rowIndex; if (insertOne &gt; oriIndex &amp;&amp; insertOne &lt; oriIndex + T &amp;&amp; insertOne &lt; maxLength) &#123; res.push_back(s[insertOne]); &#125; oriIndex += T; &#125; &#125; return std::move(res); &#125;&#125;; Result: Looks like we also can change size_t T = 2 * (numRows - 1) to size_t T = numRows + numRows -2 to use add instead of multiply 1234567891011121314151617181920212223242526class Solution &#123; public: const std::string convert(const std::string&amp; s, int numRows) &#123; if (numRows == 1) &#123; return s; &#125; std::string res; size_t maxLength = s.size(); size_t T = (numRows + numRows - 2); for (size_t rowIndex = 0; rowIndex &lt; numRows; ++rowIndex) &#123; size_t oriIndex = rowIndex; while (oriIndex &lt; maxLength) &#123; res.push_back(s[oriIndex]); size_t insertOne = oriIndex + T - rowIndex - rowIndex; if (insertOne &gt; oriIndex &amp;&amp; insertOne &lt; oriIndex + T &amp;&amp; insertOne &lt; maxLength) &#123; res.push_back(s[insertOne]); &#125; oriIndex += T; &#125; &#125; return std::move(res); &#125;&#125;; Result: Super, better than 99.34% now!","categories":[{"name":"ÁÆóÊ≥ïÈ¢òËß£","slug":"ÁÆóÊ≥ïÈ¢òËß£","permalink":"https://lzqblog.top/categories/%E7%AE%97%E6%B3%95%E9%A2%98%E8%A7%A3/"}],"tags":[{"name":"Algorithm","slug":"Algorithm","permalink":"https://lzqblog.top/tags/Algorithm/"},{"name":"C++","slug":"C","permalink":"https://lzqblog.top/tags/C/"}]},{"title":"ALSA: Naming rule of codec_name inside snd_soc_dai_link","slug":"ALSA-Naming-rule-of-codec-name-inside-snd-soc-dai-link","date":"2019-09-01T01:50:26.000Z","updated":"2019-10-05T03:12:45.004Z","comments":true,"path":"2019-09-01/ALSA-Naming-rule-of-codec-name-inside-snd-soc-dai-link/","link":"","permalink":"https://lzqblog.top/2019-09-01/ALSA-Naming-rule-of-codec-name-inside-snd-soc-dai-link/","excerpt":"‚Ä¶","text":"‚Ä¶ When we define a dai link in machine driver, a structure names ‚Äúsnd_soc_dai_link‚Äù will be created. There are two members inside this structure to find the adaptive codec drivers: codec_name and codec_dai_name. Normally codec driver will define codec_dai_name. You can find it easily inside codec driver source code. To make sure the dai link created properly, the codec_dai_name in machine driver and codec driver should be exactly same. As for codec_name, the naming rule should be like this: 1codec_name.bus_number-codec_address Taking pcm512x as an example, if we connect it to i2c bus 4 and the i2c address of pcm512x we are using is 0x4e in device tree, we should define snd_soc_dai_link like this: 12.codec_name &#x3D; &quot;pcm512x.4-004e&quot;,.codec_dai_name &#x3D; &quot;pcm512x-hifi&quot;,","categories":[{"name":"Èöè‰æøÂÜôÂÜô","slug":"Èöè‰æøÂÜôÂÜô","permalink":"https://lzqblog.top/categories/%E9%9A%8F%E4%BE%BF%E5%86%99%E5%86%99/"}],"tags":[{"name":"Linux","slug":"Linux","permalink":"https://lzqblog.top/tags/Linux/"}]},{"title":"Yocto: Configure kernel with config fragments","slug":"Yocto-Configure-kernel-with-config-fragments","date":"2019-08-24T10:09:44.000Z","updated":"2019-08-24T10:11:34.888Z","comments":true,"path":"2019-08-24/Yocto-Configure-kernel-with-config-fragments/","link":"","permalink":"https://lzqblog.top/2019-08-24/Yocto-Configure-kernel-with-config-fragments/","excerpt":"From my point of view it will be better to use config fragments to configure kernel instead of directly modifying .config file, the former way will be much easier to disable changes when you want to roll back.","text":"From my point of view it will be better to use config fragments to configure kernel instead of directly modifying .config file, the former way will be much easier to disable changes when you want to roll back. Using menuconfig to get the new .config file you wantTaking raspberrypi as an example. Replace linux-raspberrypi to your kernel recipe name. i.e. change it to linux-imx if you are using NXP i.MX SoC. Same modification need to be applied for following steps. 1bitbake linux-raspberrypi -c menuconfig Get differences1bitbake linux-raspberrypi -c diffconfig Save the generated .cfg fragments file. We gonna use it in next step. If you can make sure about which CONFIG_XXXX need to be changed, you can write fragments file by yourself as well. Using bbappend to apply fragmentsYocto provides bbappend for developers to modify constructing steps without modifying the original recipes, and that‚Äôs how we apply fragments. Assuming that you already have a yocto layer works properly, then create recipes with this structure: 12345recipes-kernel/‚îî‚îÄ‚îÄ linux ‚îú‚îÄ‚îÄ linux-raspberrypi ‚îÇ ‚îî‚îÄ‚îÄ enable_adb-cp.cfg ‚îî‚îÄ‚îÄ linux-raspberrypi_%.bbappend Name of bbappend file should be same as your kernel recipe, here we use wildcard % to make sure bbappend can be applied to any version of linux-raspberrypi recipes. 123456789FILESEXTRAPATHS_prepend:&#x3D;&quot;$&#123;THISDIR&#125;&#x2F;$&#123;PN&#125;:&quot;# Enable adbSRC_URI_append +&#x3D; &quot;file:&#x2F;&#x2F;enable_adb-cp.cfg&quot;do_configure_append() &#123; $&#123;S&#125;&#x2F;scripts&#x2F;kconfig&#x2F;merge_config.sh -m -O $&#123;B&#125; $&#123;B&#125;&#x2F;.config $&#123;WORKDIR&#125;&#x2F;*-cp.cfg&#125; As you can see the path we put *.cfg files will not be include by default, so using FILESEXTRAPATHS_prepend to specify searching path is required. Then we will add step when do_configure, which will call merge_config.sh tool provided by kernel source to automatically merge fragments into kernel config file. The funny part is I found that I made a mistake when I trying to enable usb adbd on raspberry pi 3: raspberry pi 3 can‚Äôt be used as gadget mode because of hardware limitations. But at least I verified the way to apply fragments works.-_-.","categories":[{"name":"Èöè‰æøÂÜôÂÜô","slug":"Èöè‰æøÂÜôÂÜô","permalink":"https://lzqblog.top/categories/%E9%9A%8F%E4%BE%BF%E5%86%99%E5%86%99/"}],"tags":[{"name":"Linux","slug":"Linux","permalink":"https://lzqblog.top/tags/Linux/"},{"name":"Yocto","slug":"Yocto","permalink":"https://lzqblog.top/tags/Yocto/"}]},{"title":"Yocto: Replace sysvinit with systemd","slug":"Yocto-Replace-sysvinit-with-systemd","date":"2019-08-17T11:02:16.000Z","updated":"2019-08-17T11:50:16.195Z","comments":true,"path":"2019-08-17/Yocto-Replace-sysvinit-with-systemd/","link":"","permalink":"https://lzqblog.top/2019-08-17/Yocto-Replace-sysvinit-with-systemd/","excerpt":"There are some Yocto distributions still using sysvinit as their default init manager. To replace it with systemd, some modifications need to be done in local.conf:","text":"There are some Yocto distributions still using sysvinit as their default init manager. To replace it with systemd, some modifications need to be done in local.conf: 12345# build&#x2F;conf&#x2F;local.confDISTRO_FEATURES_append +&#x3D; &quot;systemd&quot;VIRTUAL-RUNTIME_init_manager &#x3D; &quot;systemd&quot;DISTRO_FEATURES_BACKFILL_CONSIDERED +&#x3D; &quot;sysvinit&quot;VIRTUAL-RUNTIME_initscripts &#x3D; &quot;&quot;","categories":[{"name":"Èöè‰æøÂÜôÂÜô","slug":"Èöè‰æøÂÜôÂÜô","permalink":"https://lzqblog.top/categories/%E9%9A%8F%E4%BE%BF%E5%86%99%E5%86%99/"}],"tags":[{"name":"Linux","slug":"Linux","permalink":"https://lzqblog.top/tags/Linux/"},{"name":"Yocto","slug":"Yocto","permalink":"https://lzqblog.top/tags/Yocto/"}]},{"title":"Algorithm Puzzles: Longest Palindromic Substring","slug":"Algorithm-Puzzles-Longest-Palindromic-Substring","date":"2019-08-04T07:50:03.000Z","updated":"2019-10-05T03:12:10.852Z","comments":true,"path":"2019-08-04/Algorithm-Puzzles-Longest-Palindromic-Substring/","link":"","permalink":"https://lzqblog.top/2019-08-04/Algorithm-Puzzles-Longest-Palindromic-Substring/","excerpt":"Algorithm Puzzles everyday every week sometimes: Longest Palindromic Substring","text":"Algorithm Puzzles everyday every week sometimes: Longest Palindromic Substring PuzzlePuzzle from leetcode: Given a string s, find the longest palindromic substring in s. You may assume that the maximum length of s is 1000. Example 1: Input: ‚Äúbabad‚ÄùOutput: ‚Äúbab‚ÄùNote: ‚Äúaba‚Äù is also a valid answer.Example 2: Input: ‚Äúcbbd‚ÄùOutput: ‚Äúbb‚Äù SolvingFirst Came out solution:123456789101112131415161718192021222324252627282930313233343536class Solution &#123;public: string longestPalindrome(const string&amp; s) &#123; int head = 0,tail = 0; int length = s.length(); int longestH = 0, longestT = 0; while(head != length)&#123; if(s[head] == s[tail])&#123; if(isPalindromic(s.substr(head, tail - head + 1)))&#123; longestH = head; longestT = tail; &#125; &#125; ++tail; if(tail &gt;= length)&#123; ++head; tail = head + longestT - longestH + 1; if(tail &gt;= length)&#123; break; &#125; &#125; &#125; return s.substr(longestH, longestT - longestH + 1); &#125;private: bool isPalindromic(const string&amp; s)&#123; double dMid = s.length()/2.0; int mid = s.length()/2; string sub = s.substr((dMid - mid) &gt; 0 ? mid + 1 : mid); std::reverse(sub.begin(), sub.end()); if(sub == s.substr(0, mid))&#123; return true; &#125; return false; &#125;&#125;; Result: ![](Algorithm-Puzzles-Longest-Palindromic-Substring/f1.jpeg) Well, that‚Äôs the worst result I have ever seen. Extend from the centerChecked the solution provided by leetcode, there is one way only have time complexity O(n¬≤), I implemented in it C++ with a little optimization: 12345678910111213141516171819202122232425262728class Solution &#123;public: const string longestPalindrome(const string&amp; s) &#123; int start = 0, maxLength = 0, halfLength = 0; for(int i = 0; i &lt; s.length(); i++)&#123; if(s.length() - i + 1 &lt; halfLength || i + 1 &lt; halfLength)&#123; continue; &#125; int len1 = extendFromCenter(s, i, i); int len2 = extendFromCenter(s, i, i+1); int len = len1 &gt; len2 ? len1 : len2; if(len &gt; maxLength)&#123; start = i - (len - 1) / 2; maxLength = len; halfLength = maxLength / 2; &#125; &#125; return s.substr(start, maxLength); &#125;private: int extendFromCenter(const string&amp; s, int left, int right)&#123; while(left &gt;= 0 &amp;&amp; right &lt; s.length() &amp;&amp; s[left] == s[right])&#123; --left; ++right; &#125; return right - left - 1; &#125;&#125;; Result with this:","categories":[{"name":"ÁÆóÊ≥ïÈ¢òËß£","slug":"ÁÆóÊ≥ïÈ¢òËß£","permalink":"https://lzqblog.top/categories/%E7%AE%97%E6%B3%95%E9%A2%98%E8%A7%A3/"}],"tags":[{"name":"Algorithm","slug":"Algorithm","permalink":"https://lzqblog.top/tags/Algorithm/"},{"name":"C++","slug":"C","permalink":"https://lzqblog.top/tags/C/"}]},{"title":"Algorithm Puzzles: Median of Two Sorted Arrays","slug":"Algorithm-Puzzles-Median-of-Two-Sorted-Arrays","date":"2019-07-26T18:51:16.000Z","updated":"2019-10-05T03:12:21.024Z","comments":true,"path":"2019-07-27/Algorithm-Puzzles-Median-of-Two-Sorted-Arrays/","link":"","permalink":"https://lzqblog.top/2019-07-27/Algorithm-Puzzles-Median-of-Two-Sorted-Arrays/","excerpt":"Algorithm Puzzles everyday every week sometimes: Median of Two Sorted Arrays","text":"Algorithm Puzzles everyday every week sometimes: Median of Two Sorted Arrays PuzzlePuzzle from leetcode: There are two sorted arrays nums1 and nums2 of size m and n respectively. Find the median of the two sorted arrays. The overall run time complexity should be O(log (m+n)). You may assume nums1 and nums2 cannot be both empty. Example 1: nums1 = [1, 3]nums2 = [2] The median is 2.0Example 2: nums1 = [1, 2]nums2 = [3, 4] The median is (2 + 3)/2 = 2.5 SolvingThe first came out solution is using merge sort since the sub-vectors are already sorted. The funny part is the puzzle requests time complexity should be O(log (m+n)), which is same as merge sort. 123456789101112131415161718192021222324252627282930313233343536class Solution &#123;public: double findMedianSortedArrays(const vector&lt;int&gt;&amp; nums1,const vector&lt;int&gt;&amp; nums2) &#123; vector&lt;int&gt; nums3; nums3.resize(nums1.size()+nums2.size()); auto iter1 = nums1.begin(); auto iter2 = nums2.begin(); auto iter3 = nums3.begin(); for(;; ++iter3)&#123; if(iter1 == nums1.end())&#123; std::copy(iter2,nums2.end(),iter3); break; &#125; if(iter2 == nums2.end())&#123; std::copy(iter1,nums1.end(),iter3); break; &#125; if(*iter1&lt;=*iter2)&#123; *iter3 = *iter1; ++iter1; &#125;else&#123; *iter3 = *iter2; ++iter2; &#125; &#125; if(nums3.size()%2 == 1)&#123; return nums3[(nums3.size()-1)/2]; &#125;else&#123; return (nums3[nums3.size()/2] + nums3[nums3.size()/2 - 1])/2.0; &#125; &#125;&#125;; Time complexity: O(log(m+n)) Result I got: Better than 98.75%. BTW it seems I can get different result with the exactly same code‚Ä¶","categories":[{"name":"ÁÆóÊ≥ïÈ¢òËß£","slug":"ÁÆóÊ≥ïÈ¢òËß£","permalink":"https://lzqblog.top/categories/%E7%AE%97%E6%B3%95%E9%A2%98%E8%A7%A3/"}],"tags":[{"name":"Algorithm","slug":"Algorithm","permalink":"https://lzqblog.top/tags/Algorithm/"},{"name":"C++","slug":"C","permalink":"https://lzqblog.top/tags/C/"}]},{"title":"i.MX8 adb bring up","slug":"i-MX8-adb-bring-up","date":"2019-07-26T18:49:35.000Z","updated":"2019-07-26T10:55:36.226Z","comments":true,"path":"2019-07-27/i-MX8-adb-bring-up/","link":"","permalink":"https://lzqblog.top/2019-07-27/i-MX8-adb-bring-up/","excerpt":"The default BSP provided by NXP doesn‚Äôt support adb, we have to port it by ourselves. Our goal is making adbd running on SoC meanwhile we can use adb through USB port.Let‚Äôs have a quick summary before I forget it(I already done this 3 months ago‚Ä¶)","text":"The default BSP provided by NXP doesn‚Äôt support adb, we have to port it by ourselves. Our goal is making adbd running on SoC meanwhile we can use adb through USB port.Let‚Äôs have a quick summary before I forget it(I already done this 3 months ago‚Ä¶) Source code of adb &amp; adbdYou can find adb &amp; adbd source codes easily, but I found that there is a recipe in openembedded already provided adb &amp; adbd:meta-openembedded/meta-oe/recipes-devtools/android-toolsBut the default recipes can‚Äôt work on imx8mm through USB. We need do some modifications later. Adding support for login adb as rootThere is a function called should_drop_privileges in adbd source code, modify this function that makes it always return 0 to disallow drop privileges. It has been added into newer openembedded but not the i.mx BSP. 123456789101112131415161718192021From 3a788e9168c9b9eac66c4fa479413f4a95c61be4 Mon Sep 17 00:00:00 2001From: Florent Revest &lt;revestflo@gmail.com&gt;Date: Mon, 30 Oct 2017 21:05:46 +0100Subject: [PATCH] adb: Allow adbd to be ran as root--- adb/adb.c | 1 + 1 file changed, 1 insertion(+)diff --git a/adb/adb.c b/adb/adb.cindex 027edd9359..e0f7ecde45 100644--- a/adb/adb.c+++ b/adb/adb.c@@ -1271,6 +1271,7 @@ static int should_drop_privileges() &#123; int secure = 0; char value[PROPERTY_VALUE_MAX]; + return 0; /* run adbd in secure mode if ro.secure is set and ** we are not in the emulator */ You need to add this patch into recipe sources as well: 123SRC_URI +&#x3D; &quot; \\ file:&#x2F;&#x2F;0008-adb-Allow-adbd-to-be-ran-as-root.patch;patchdir&#x3D;system&#x2F;core \\&quot; Adding support for USB adbTo connect adbd through USB, we need support from usb function filesystem. To enable it in kernel: 1234567891011‚îÇ Symbol: USB_FUNCTIONFS [&#x3D;m] ‚îÇ ‚îÇ Type : tristate ‚îÇ ‚îÇ Prompt: Function Filesystem ‚îÇ ‚îÇ Location: ‚îÇ ‚îÇ -&gt; Device Drivers ‚îÇ ‚îÇ -&gt; USB support (USB_SUPPORT [&#x3D;y]) ‚îÇ ‚îÇ -&gt; USB Gadget Support (USB_GADGET [&#x3D;y]) ‚îÇ ‚îÇ (4) -&gt; USB Gadget precomposed configurations (&lt;choice&gt; [&#x3D;m]) ‚îÇ ‚îÇ Defined at drivers&#x2F;usb&#x2F;gadget&#x2F;legacy&#x2F;Kconfig:196 ‚îÇ ‚îÇ Depends on: &lt;choice&gt; ‚îÇ ‚îÇ Selects: USB_LIBCOMPOSITE [&#x3D;y] &amp;&amp; USB_F_FS [&#x3D;y] &amp;&amp; USB_FUNCTIONFS_GENERIC [&#x3D;y] After installation of USB_FUNCTIONFS, we need to modprobe and mount functionfs before adbd start(initialization): 12345#!/bin/shmodprobe g_ffs idVendor=0x18d1 idProduct=0x4e42 iSerialNumber=\"codingspirit\"mkdir -p /dev/usb-ffs/adbmount -t functionfs adb /dev/usb-ffs/adb -o uid=0,gid=0 Then we can start adbd now. In my case I‚Äôm using systemd to do this initialization(as a ExecStartPre), then set /usr/bin/adbd as ExecStart. After all of those steps, we can do quick test by adb devices! If everything goes well, you can see your device has been recognized. Then use adb shell to login, a # symbol should be shown which means you are in root.","categories":[{"name":"Èöè‰æøÂÜôÂÜô","slug":"Èöè‰æøÂÜôÂÜô","permalink":"https://lzqblog.top/categories/%E9%9A%8F%E4%BE%BF%E5%86%99%E5%86%99/"}],"tags":[{"name":"Linux","slug":"Linux","permalink":"https://lzqblog.top/tags/Linux/"},{"name":"Yocto","slug":"Yocto","permalink":"https://lzqblog.top/tags/Yocto/"}]},{"title":"Algorithm Puzzles: Longest Substring Without Repeating Characters","slug":"Algorithm-Puzzles-Longest-Substring-Without-Repeating-Characters","date":"2019-07-21T10:07:33.000Z","updated":"2019-10-05T03:12:16.072Z","comments":true,"path":"2019-07-21/Algorithm-Puzzles-Longest-Substring-Without-Repeating-Characters/","link":"","permalink":"https://lzqblog.top/2019-07-21/Algorithm-Puzzles-Longest-Substring-Without-Repeating-Characters/","excerpt":"Algorithm Puzzles everyday every week sometimes: Longest Substring Without Repeating Characters","text":"Algorithm Puzzles everyday every week sometimes: Longest Substring Without Repeating Characters PuzzlePuzzle from leetcode: Given a string, find the length of the longest substring without repeating characters. Example 1: Input: ‚Äúabcabcbb‚ÄùOutput: 3Explanation: The answer is ‚Äúabc‚Äù, with the length of 3.Example 2: Input: ‚Äúbbbbb‚ÄùOutput: 1Explanation: The answer is ‚Äúb‚Äù, with the length of 1.Example 3: Input: ‚Äúpwwkew‚ÄùOutput: 3Explanation: The answer is ‚Äúwke‚Äù, with the length of 3. Note that the answer must be a substring, ‚Äúpwke‚Äù is a subsequence and not a substring. SolvingFirst came out solutionTraverse substring(not all of them, with a little bit optimization) 123456789101112131415161718192021222324252627class Solution &#123;public: int lengthOfLongestSubstring(const std::string&amp; s) &#123; int longest = 0; for(int i = 0; i &lt; s.size(); i++)&#123; for(int j = i + 1; j &lt; s.size() + 1; j++)&#123; if((j-i) &lt;= longest)&#123; continue; &#125; if(checkStringUnique(s.substr(i,j-i))) longest = (longest &gt; (j - i)) ? longest : (j - i); else break; &#125; &#125; return longest; &#125;private: bool checkStringUnique(std::string&amp;&amp; s)&#123; for(auto iter = s.begin(); iter != s.end(); ++iter)&#123; if(s.find_first_of(*iter, std::distance(s.begin(), iter)+1) != std::string::npos)&#123; return false; &#125; &#125; return true; &#125;&#125;; Time complexity: O(n^3) But this solution is not good enough since the time complexity is O(n^3). Only better than 62.78% cpp users. Sliding WindowChecked the reference answer, there is another solution: using sliding Window. 1234567891011121314151617181920class Solution &#123;public: int lengthOfLongestSubstring(const std::string&amp; s) &#123; int n = s.size(); int ans = 0; std::unordered_map&lt;char, int&gt; map; for (int j = 0, i = 0; j &lt; n; j++) &#123; auto res = map.find(s[j]); if (res != map.end()) &#123; i = (res-&gt;second &gt; i) ? res-&gt;second : i; res-&gt;second = j + 1; &#125;else&#123; map.insert(&#123;s[j], j + 1&#125;); &#125; ans = (ans &gt; (j - i + 1)) ? ans : (j - i + 1); &#125; return ans; &#125;&#125;; Time complexity: O(n) It‚Äôs better than 85.71% now. Assuming ASCII 128The third way to solve this is assuming the string inputs are all ASCII 128 characters‚Ä¶ In this case no hash table is needed. 12345678910111213class Solution &#123;public: int lengthOfLongestSubstring(const std::string&amp; s) &#123; int n = s.length(), ans = 0; int index[128] = &#123;0&#125;; for (int j = 0, i = 0; j &lt; n; j++) &#123; i = index[s[j]] &gt; i ? index[s[j]] : i; ans = (ans &gt; (j - i + 1)) ? ans : (j - i + 1); index[s[j]] = j + 1; &#125; return ans; &#125;&#125;; This solution is faster than 95.65%.","categories":[{"name":"ÁÆóÊ≥ïÈ¢òËß£","slug":"ÁÆóÊ≥ïÈ¢òËß£","permalink":"https://lzqblog.top/categories/%E7%AE%97%E6%B3%95%E9%A2%98%E8%A7%A3/"}],"tags":[{"name":"Algorithm","slug":"Algorithm","permalink":"https://lzqblog.top/tags/Algorithm/"},{"name":"C++","slug":"C","permalink":"https://lzqblog.top/tags/C/"}]},{"title":"Algorithm Puzzles: Add two numbers","slug":"Algorithm-Puzzles-Add-two-numbers","date":"2019-07-14T08:59:31.000Z","updated":"2019-10-05T03:12:05.560Z","comments":true,"path":"2019-07-14/Algorithm-Puzzles-Add-two-numbers/","link":"","permalink":"https://lzqblog.top/2019-07-14/Algorithm-Puzzles-Add-two-numbers/","excerpt":"Algorithm Puzzles everyday every week sometimes: Add two numbers","text":"Algorithm Puzzles everyday every week sometimes: Add two numbers PuzzlePuzzle from leetcode: You are given two non-empty linked lists representing two non-negative integers. The digits are stored in reverse order and each of their nodes contain a single digit. Add the two numbers and return it as a linked list. You may assume the two numbers do not contain any leading zero, except the number 0 itself. Example: Input: (2 -&gt; 4 -&gt; 3) + (5 -&gt; 6 -&gt; 4)Output: 7 -&gt; 0 -&gt; 8Explanation: 342 + 465 = 807. The template code provided by leetcode: 1234567891011121314/** * Definition for singly-linked list. * struct ListNode &#123; * int val; * ListNode *next; * ListNode(int x) : val(x), next(NULL) &#123;&#125; * &#125;; */class Solution &#123;public: ListNode* addTwoNumbers(ListNode* l1, ListNode* l2) &#123; &#125;&#125;; SolvingMy first came out solution just like how we do sum on draft paper: 123456789101112131415161718192021222324252627282930313233343536373839/** * Definition for singly-linked list. * struct ListNode &#123; * int val; * ListNode *next; * ListNode(int x) : val(x), next(NULL) &#123;&#125; * &#125;; */class Solution &#123;public: ListNode* addTwoNumbers(ListNode* l1, ListNode* l2) &#123; ListNode* result = new ListNode(0); ListNode* resultHead = result; ListNode emptyNode&#123;0&#125;; int carry = 0; while(1)&#123; carry = addTwoNode(l1, l2, carry, result); if((carry == 0) &amp;&amp; (l1-&gt;next == nullptr) &amp;&amp; (l2-&gt;next == nullptr))&#123; return resultHead; &#125; else&#123; result-&gt;next = new ListNode(0); result = result-&gt;next; l1 = l1-&gt;next?l1-&gt;next:&amp;emptyNode; l2 = l2-&gt;next?l2-&gt;next:&amp;emptyNode; &#125; &#125; &#125; int addTwoNode(ListNode* l1, ListNode* l2, int carry, ListNode* result)&#123; result-&gt;val = (l1-&gt;val + l2-&gt;val + carry); if(result-&gt;val &gt;= 10)&#123; result-&gt;val -= 10; return 1; &#125;else&#123; return 0; &#125; &#125;&#125;; Time complexity: O(n) It‚Äôs do a little optimization: 123456789101112131415161718192021222324252627282930313233343536373839/** * Definition for singly-linked list. * struct ListNode &#123; * int val; * ListNode *next; * ListNode(int x) : val(x), next(NULL) &#123;&#125; * &#125;; */class Solution &#123;public: ListNode* addTwoNumbers(ListNode* l1, ListNode* l2) &#123; ListNode* result = new ListNode(0); ListNode* resultHead = result; ListNode emptyNode&#123;0&#125;; int carry = 0; while(1)&#123; carry = addTwoNode(l1-&gt;val, l2-&gt;val, result); if((carry == 0) &amp;&amp; (l1-&gt;next == nullptr) &amp;&amp; (l2-&gt;next == nullptr))&#123; return resultHead; &#125; else&#123; result-&gt;next = new ListNode(carry); result = result-&gt;next; l1 = l1-&gt;next?l1-&gt;next:&amp;emptyNode; l2 = l2-&gt;next?l2-&gt;next:&amp;emptyNode; &#125; &#125; &#125; int addTwoNode(const int&amp; l1, const int&amp; l2, ListNode* result)&#123; result-&gt;val += (l1 + l2); if(result-&gt;val &gt;= 10)&#123; result-&gt;val -= 10; return 1; &#125;else&#123; return 0; &#125; &#125;&#125;; Super! Better than 99.99%!","categories":[{"name":"ÁÆóÊ≥ïÈ¢òËß£","slug":"ÁÆóÊ≥ïÈ¢òËß£","permalink":"https://lzqblog.top/categories/%E7%AE%97%E6%B3%95%E9%A2%98%E8%A7%A3/"}],"tags":[{"name":"Algorithm","slug":"Algorithm","permalink":"https://lzqblog.top/tags/Algorithm/"},{"name":"C++","slug":"C","permalink":"https://lzqblog.top/tags/C/"}]},{"title":"Algorithm Puzzles: Two Sum","slug":"Algorithm-Puzzles-Two-Sum","date":"2019-07-11T11:34:16.000Z","updated":"2020-01-05T05:26:26.856Z","comments":true,"path":"2019-07-11/Algorithm-Puzzles-Two-Sum/","link":"","permalink":"https://lzqblog.top/2019-07-11/Algorithm-Puzzles-Two-Sum/","excerpt":"Algorithm Puzzles everyday every week sometimes: Two Sum","text":"Algorithm Puzzles everyday every week sometimes: Two Sum PuzzlePuzzle from leetcode: Given an array of integers, return indices of the two numbers such that they add up to a specific target. You may assume that each input would have exactly one solution, and you may not use the same element twice. Example: 1234Given nums &#x3D; [2, 7, 11, 15], target &#x3D; 9,Because nums[0] + nums[1] &#x3D; 2 + 7 &#x3D; 9,return [0, 1]. The template code provided by leetcode: 123456class Solution &#123;public: vector&lt;int&gt; twoSum(vector&lt;int&gt;&amp; nums, int target) &#123; &#125;&#125;; SolvingThe first came out solution from my head is for every elements for-loop traverse once to find the result: 1234567891011class Solution &#123;public: vector&lt;int&gt; twoSum(vector&lt;int&gt;&amp; nums, int target) &#123; for(const auto&amp; a : nums)&#123; auto tryToFind = target - a; for(...) //if tryToFind exist in nums //return &#125; &#125;&#125;; It‚Äôs really ez! But time complexity will be O(n^2) since there are 2 for-loops inside. There must be a better way, I can‚Äôt submit with this solution! So what kind of search method is better? Maybe hash table? 1234567891011121314151617class Solution &#123;public: vector&lt;int&gt; twoSum(vector&lt;int&gt;&amp; nums, int target) &#123; std::unordered_map&lt;int,int&gt; map; int i = 0; for(const auto&amp; a : nums)&#123; map.insert(&#123;a,i&#125;); auto res = map.find(target-a); if(res != map.end())&#123; if(i != res-&gt;second) return vector&lt;int&gt;(&#123;i, res-&gt;second&#125;); &#125; i++; &#125; throw std::invalid_argument(\"\"); &#125;&#125;; Bravo! Time complexity is O(n) now!(but we used more space)results:What? Only better than 88.56%? OK it still can get improvements by replacing for-each with for-loop(But why I choose for-each at the first time‚Ä¶) 123456789101112131415class Solution &#123;public: vector&lt;int&gt; twoSum(vector&lt;int&gt;&amp; nums, int target) &#123; std::unordered_map&lt;int,int&gt; map; for(int i = 0; i &lt; nums.size(); i++)&#123; map.insert(&#123;nums[i],i&#125;); auto res = map.find(target-nums[i]); if(res != map.end())&#123; if(i != res-&gt;second) return vector&lt;int&gt;(&#123;i, res-&gt;second&#125;); &#125; &#125; throw; &#125;&#125;; result: Cool, better than 99.79% now!","categories":[{"name":"ÁÆóÊ≥ïÈ¢òËß£","slug":"ÁÆóÊ≥ïÈ¢òËß£","permalink":"https://lzqblog.top/categories/%E7%AE%97%E6%B3%95%E9%A2%98%E8%A7%A3/"}],"tags":[{"name":"Algorithm","slug":"Algorithm","permalink":"https://lzqblog.top/tags/Algorithm/"},{"name":"C++","slug":"C","permalink":"https://lzqblog.top/tags/C/"}]},{"title":"Webserver bring up (II): Create a demo page(html+fcgi)","slug":"Webserver-bring-up-II-Create-a-demo-page-html-fcgi","date":"2019-06-28T11:53:01.000Z","updated":"2019-06-28T12:17:06.853Z","comments":true,"path":"2019-06-28/Webserver-bring-up-II-Create-a-demo-page-html-fcgi/","link":"","permalink":"https://lzqblog.top/2019-06-28/Webserver-bring-up-II-Create-a-demo-page-html-fcgi/","excerpt":"In last post we have installed lighttpd and fastcgi++, it‚Äôs create a demo page to have a quick verification.","text":"In last post we have installed lighttpd and fastcgi++, it‚Äôs create a demo page to have a quick verification. A simple htmlLet‚Äôs write a simple html for demo: 12345678910111213141516171819202122232425262728&lt;!DOCTYPE html&gt;&lt;html&gt;&lt;head&gt; &lt;meta charset='utf-8' /&gt; &lt;link rel=\"icon\" href=\"/img/favicon.ico\" type=\"img/x-ico\" /&gt; &lt;title&gt;Alex Demo page&lt;/title&gt;&lt;/head&gt;&lt;body background=\"/img/back.jpg\" style=\" background-repeat:no-repeat ;background-size:100% 100%;background-attachment: fixed;\"&gt; &lt;div align=\"center\" style=\"margin-top: 25%\"&gt; &lt;form id=\"diag\" action=\"/cpp_get.fcgi\" method=\"get\"&gt; &lt;table border=\"0\" style=\"background-color:dimgrey\"&gt; &lt;tr&gt; &lt;td align=\"right\" valign=\"middle\"&gt; Product Name:&lt;input type=\" text\" name=\"product_name\" /&gt;&lt;br /&gt; Product ID:&lt;input type=\"text\" name=\"product_id\" /&gt;&lt;br /&gt; &lt;input type=\"submit\" value=\"Êèê‰∫§\" /&gt; &lt;/td&gt; &lt;/tr&gt; &lt;/table&gt; &lt;/form&gt; &lt;/div&gt;&lt;/body&gt;&lt;/html&gt; This page will show a picture as page background, meanwhile a from will be created for testing GET method. The path we are using in html is relative path, i.e. if you put your pages to /var/www/pages/test.html, the absolute path of back.jpg will be /var/www/pages/img/back.jpg and the relative path will be /img/back.jpg. Beware of access rights of those files/directories, the user and user group of lighttpd was configured in lighttpd.conf by server.username and server.groupname. Make sure lighttpd can access them. Write a simple fgci backend12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667// fcgi_get.cpp#include &lt;fastcgi++/request.hpp&gt;#include &lt;iomanip&gt;#include &lt;fstream&gt;class GetTest : public Fastcgipp::Request&lt;wchar_t&gt;&#123; bool response() &#123; std::wofstream outPutFile(\"output.patch\", std::ios_base::out | std::ios_base::binary); //! [Response definition] //! [HTTP header] out &lt;&lt; L\"Content-Type: text/html; charset=utf-8\\r\\n\\r\\n\"; //! [HTTP header] //! [Output] out &lt;&lt; L\"&lt;!DOCTYPE html&gt;\\n\" L\"&lt;html&gt;\" L\"&lt;head&gt;\" L\"&lt;meta charset='utf-8' /&gt;\" L\"&lt;title&gt;Success&lt;/title&gt;\" L\"&lt;/head&gt;\" L\"&lt;body&gt;\" L\"&lt;p&gt;\"; using Fastcgipp::Encoding; if (!environment().gets.empty()) for (const auto &amp;get : environment().gets) &#123; out &lt;&lt; L\"&lt;b&gt;\" &lt;&lt; Encoding::HTML &lt;&lt; get.first &lt;&lt; Encoding::NONE &lt;&lt; L\":&lt;/b&gt; \" &lt;&lt; Encoding::HTML &lt;&lt; get.second &lt;&lt; Encoding::NONE &lt;&lt; L\"&lt;br /&gt;\"; outPutFile &lt;&lt; get.first &lt;&lt; \":\" &lt;&lt; get.second; &#125; out &lt;&lt; L\"&lt;/p&gt;\" L\"&lt;/body&gt;\" L\"&lt;/html&gt;\"; //! [Output] //! [Return] outPutFile &lt;&lt; \"FFF\" &lt;&lt; std::endl; outPutFile.close(); return true; &#125;&#125;;#include &lt;fastcgi++/manager.hpp&gt;int main()&#123; Fastcgipp::Manager&lt;GetTest&gt; manager; //! [Manager] //! [Signals] manager.setupSignals(); //! [Signals] //! [Listen] manager.listen(); //! [Listen] //! [Start] manager.start(); //! [Start] //! [Join] manager.join(); return 0;&#125; Use environment().gets to get all data passed by frontend through GET method. Compile your fcgi1g++ fcgi_get.cpp -lfastcgipp -o cpp_get.fcgi Then copy it to /var/www/fcgi-bin/cpp_get.fcgi. Don‚Äôt forget add rights of execution for this fcgi file. Add your fcgi into lighttpd conf12345678&quot;&#x2F;cpp_get.fcgi&quot; &#x3D;&gt; ( &quot;cpp_get.fastcgi.handler&quot; &#x3D;&gt; ( &quot;socket&quot; &#x3D;&gt; &quot;&#x2F;var&#x2F;run&#x2F;lighttpd&#x2F;lighttpd-cpp_get-&quot; + PID + &quot;.socket&quot;,, &quot;check-local&quot; &#x3D;&gt; &quot;disable&quot;, &quot;bin-path&quot; &#x3D;&gt; &quot;&#x2F;var&#x2F;www&#x2F;fcgi-bin&#x2F;cpp_get.fcgi&quot;, &quot;max-procs&quot; &#x3D;&gt; 30, )) This configuration allows you execute your fcgi by access localhost/cpp_get.fcgi. Apply changesIf lighttpd is already started on your device, you might need to restart lighttpd services to apply changes: 1service lighttpd force-reload VerificationOpen http://localhost/test.html, input something in the form then click ‚ÄúÊèê‰∫§‚Äù, if everything is ok, browser will jump to http://localhost/cpp_get.fcgi and show what you have inputted. Meanwhile a file called output.patch will be generated at your page folder which contains the text you inputted as well. Tips: If error occurred, you can find the path of error log by checking the value of server.errorlog in your lighttpd.conf.","categories":[{"name":"ÁºñÁ®ãÁõ∏ÂÖ≥","slug":"ÁºñÁ®ãÁõ∏ÂÖ≥","permalink":"https://lzqblog.top/categories/%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/"}],"tags":[{"name":"Linux","slug":"Linux","permalink":"https://lzqblog.top/tags/Linux/"},{"name":"Web","slug":"Web","permalink":"https://lzqblog.top/tags/Web/"}]},{"title":"Webserver bring up (I): Install lighttpd and fastcgi++","slug":"Webserver-bring-up-I-Install-lighttpd-and-fastcgi","date":"2019-06-20T10:55:08.000Z","updated":"2019-06-20T11:41:31.531Z","comments":true,"path":"2019-06-20/Webserver-bring-up-I-Install-lighttpd-and-fastcgi/","link":"","permalink":"https://lzqblog.top/2019-06-20/Webserver-bring-up-I-Install-lighttpd-and-fastcgi/","excerpt":"Webserver bring up(I): Install lighttpd and fastcgi++","text":"Webserver bring up(I): Install lighttpd and fastcgi++ Install LighttpdLighttpd is a popular high performance webserver. If you are using Debian based distributions, you can directly install it by apt install: 1sudo apt install lighttpd If you are using Yocto, you also can install it easily because poky already provided recipe for it. you can find it at poky/meta/recipes-extended/lighttpd/. The default installed version(no matter PC or Yocto) only provides basic functions, fastcgi is not included. To enable support for fastcgi you need to : Modify file lighttpd.conf(On PC path is /etc/lighttpd/lighttpd.conf) to add mod_fcgi into server.modules. If you are using Yocto, you also need to add lighttpd-module-fastcgi to IMAGE_INSTALL_append or declare dependencies of module fastcgi in your recipes:1IMAGE_INSTALL_append +&#x3D; &quot;lighttpd-module-fastcgi&quot; Install fastcgi++fastcgi++(fastcgipp) is a C++ FastCGI and Web development platform. I choose this library because it provides support for C++14 and the official site of fastcgi which provides C/C++ libraries before has been closed for several years. Seems there is no yocto recipe for fastcgi++ on internet, but it‚Äôs easy to write a recipe by myself because it supports built by cmake. Here comes my recipe for fastcgi++: 12345678910111213141516171819202122SUMMARY &#x3D; &quot;fastcgi++&quot;DESCRIPTION &#x3D; &quot;C++ FastCGI and Web development platform&quot;SECTION &#x3D; &quot;libs&quot;LICENSE &#x3D; &quot;GPL-2.0&quot;AUTHOR &#x3D; &quot;Alex.Don.Scofield(codingspirit)&quot;LIC_FILES_CHKSUM &#x3D; &quot;file:&#x2F;&#x2F;$&#123;COMMON_LICENSE_DIR&#125;&#x2F;GPL-2.0;md5&#x3D;801f80980d171dd6425610833a22dbe6&quot;$&#123;PN&#125;_REPO &#x3D; &quot;github.com&#x2F;eddic&#x2F;fastcgipp.git&quot;SRCREV_$&#123;PN&#125; &#x3D; &quot;5a5c3a263595a1792b2867188770bcf4f4df8b83&quot;TARGET_CC_ARCH +&#x3D; &quot;$&#123;LDFLAGS&#125;&quot;SRC_URI &#x3D; &quot; \\ git:&#x2F;&#x2F;$&#123;$&#123;PN&#125;_REPO&#125;;name&#x3D;$&#123;PN&#125;;protocol&#x3D;https;nobranch&#x3D;1;destsuffix&#x3D;git&#x2F;$&#123;PN&#125; \\ &quot;S &#x3D; &quot;$&#123;WORKDIR&#125;&#x2F;git&#x2F;$&#123;PN&#125;&quot;B &#x3D; &quot;$&#123;WORKDIR&#125;&#x2F;$&#123;BPN&#125;&quot;EXTRA_OECMAKE &#x3D; &quot;-DCMAKE_BUILD_TYPE&#x3D;RELEASE&quot;inherit cmake BTW to pass cmake runtime parameters in Yocto, we can use EXTRA_OECMAKE : 12EXTRA_OECMAKE +&#x3D; &quot;-DBUILD_SAMPLE&#x3D;ON&quot;inherit cmake","categories":[{"name":"ÁºñÁ®ãÁõ∏ÂÖ≥","slug":"ÁºñÁ®ãÁõ∏ÂÖ≥","permalink":"https://lzqblog.top/categories/%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/"}],"tags":[{"name":"Linux","slug":"Linux","permalink":"https://lzqblog.top/tags/Linux/"},{"name":"Web","slug":"Web","permalink":"https://lzqblog.top/tags/Web/"}]},{"title":"Yocto: systemd","slug":"Yocto-systemd","date":"2019-06-07T10:38:38.000Z","updated":"2019-06-07T12:07:57.320Z","comments":true,"path":"2019-06-07/Yocto-systemd/","link":"","permalink":"https://lzqblog.top/2019-06-07/Yocto-systemd/","excerpt":"As a replacement of System V init, systemd has been supported by Yocto long time ago. Let‚Äôs take a look at how to implement a Yocto recipe for systemd services.","text":"As a replacement of System V init, systemd has been supported by Yocto long time ago. Let‚Äôs take a look at how to implement a Yocto recipe for systemd services. Prepare .service fileAn example of service config file mydaemon.service: 123456789[Unit]Description&#x3D;My Daemon[Service]User&#x3D;rootGroup&#x3D;rootType&#x3D;simpleExecStart&#x3D;&#x2F;my_daemon&#x2F;my_daemon_start.shStandardOutput&#x3D;null Write a systemd recipeFirst of all, don‚Äôt forget add your service file into source files: 1234SRC_URI &#x3D; &quot; \\ git:&#x2F;&#x2F;$&#123;$&#123;PN&#125;_REPO&#125;;name&#x3D;$&#123;PN&#125;;protocol&#x3D;http;nobranch&#x3D;1;destsuffix&#x3D;git&#x2F;$&#123;PN&#125; \\ file:&#x2F;&#x2F;mydaemon.service \\ &quot; As you can see I put service file and application source code separately. You can put service file into your source code git repo as well. Then to add systemd into Yocto recipe, you need to inherit your recipe from systemd class: 1inherit systemd BTW Yocto support multiple inheritance, in my case I was trying to setup a cmake based application as a startup application when system booting up, so : 1inherit cmake systemd Notice: Here is a short introduction from Yocto reference manual The systemd class provides support for recipes that install systemd unit files.The functionality for this class is disabled unless you have ‚Äúsystemd‚Äù in DISTRO_FEATURES.Under this class, the recipe or Makefile (i.e. whatever the recipe is calling during the do_install task) installs unit files into ${D}${systemd_unitdir}/system. If the unit files being installed go into packages other than the main package, you need to set SYSTEMD_PACKAGES in your recipe to identify the packages in which the files will be installed.You should set SYSTEMD_SERVICE to the name of the service file. You should also use a package name override to indicate the package to which the value applies. If the value applies to the recipe‚Äôs main package, use ${PN}. Here is an example from the connman recipe: SYSTEMD_SERVICE_${PN} = &quot;connman.service&quot; Services are set up to start on boot automatically unless you have set SYSTEMD_AUTO_ENABLE to ‚Äúdisable‚Äù. For more information on systemd, see the ‚ÄúSelecting an Initialization Manager‚Äù section in the Yocto Project Development Manual. As you can see, we should set SYSTEMD_SERVICE to the name of the service file. 1SYSTEMD_SERVICE_$&#123;PN&#125; &#x3D; &quot;mydaemon.service&quot; The last step is write a do_install task to install our services into target. The problem is in my scenario, cmake class already provided a do_install task, if we just override do_install task as below: 1234do_install() &#123; install -D -p -m0644 $&#123;WORKDIR&#125;&#x2F;mydaemon.service \\ $&#123;D&#125;$&#123;systemd_unitdir&#125;&#x2F;system&#x2F;mydaemon.service&#125; cmake install task will not be executed. To fix this, we need to add cmake_do_install into overridden do_install task: 12345do_install() &#123; cmake_do_install install -D -p -m0644 $&#123;WORKDIR&#125;&#x2F;mydaemon.service \\ $&#123;D&#125;$&#123;systemd_unitdir&#125;&#x2F;system&#x2F;mydaemon.service&#125; Then cmake install task will be executed, mydaemon.service will be installed and setup as well.","categories":[{"name":"Èöè‰æøÂÜôÂÜô","slug":"Èöè‰æøÂÜôÂÜô","permalink":"https://lzqblog.top/categories/%E9%9A%8F%E4%BE%BF%E5%86%99%E5%86%99/"}],"tags":[{"name":"Linux","slug":"Linux","permalink":"https://lzqblog.top/tags/Linux/"},{"name":"Yocto","slug":"Yocto","permalink":"https://lzqblog.top/tags/Yocto/"}]},{"title":"i.MX setup auto login","slug":"i-MX-setup-auto-login","date":"2019-06-06T12:00:22.000Z","updated":"2019-06-06T12:14:18.777Z","comments":true,"path":"2019-06-06/i-MX-setup-auto-login/","link":"","permalink":"https://lzqblog.top/2019-06-06/i-MX-setup-auto-login/","excerpt":"The default BSP provided by NXP requires login in UART after booting up, which seems ‚Äúunfriendly‚Äù to some users.","text":"The default BSP provided by NXP requires login in UART after booting up, which seems ‚Äúunfriendly‚Äù to some users. In i.MX Yocto BSP, Login is provided by a systemd service called systemd-serialgetty:sources/poky/meta/recipes-core/systemd/systemd-serialgetty/serial-getty@.serviceThis service will execute agetty when system booting up and require login. So there are two ways to disable login: Replace agetty with /bin/login1ExecStart&#x3D;&#x2F;bin&#x2F;login -f root Provide username to agettyAdd option -a to provide username to agetty. 1234567[Service]Environment&#x3D;&quot;TERM&#x3D;xterm&quot;#ExecStart&#x3D;-&#x2F;sbin&#x2F;agetty -8 -L %I @BAUDRATE@ $TERMExecStart&#x3D;-&#x2F;sbin&#x2F;agetty -8 -a root -L %I @BAUDRATE@ $TERMType&#x3D;idleRestart&#x3D;alwaysRestartSec&#x3D;0","categories":[{"name":"ÁºñÁ®ãÁõ∏ÂÖ≥","slug":"ÁºñÁ®ãÁõ∏ÂÖ≥","permalink":"https://lzqblog.top/categories/%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/"}],"tags":[{"name":"Linux","slug":"Linux","permalink":"https://lzqblog.top/tags/Linux/"},{"name":"Yocto","slug":"Yocto","permalink":"https://lzqblog.top/tags/Yocto/"}]},{"title":"Android: Error when execute sdkmanager","slug":"Android-Error-when-execute-sdkmanager","date":"2019-05-28T12:51:25.000Z","updated":"2019-05-28T12:54:51.548Z","comments":true,"path":"2019-05-28/Android-Error-when-execute-sdkmanager/","link":"","permalink":"https://lzqblog.top/2019-05-28/Android-Error-when-execute-sdkmanager/","excerpt":"Quick fix for error that sdkmanager throw exception when trying to call sdkmanager ‚Äìlicense and sdkmanager ‚Äìlist.","text":"Quick fix for error that sdkmanager throw exception when trying to call sdkmanager ‚Äìlicense and sdkmanager ‚Äìlist. Error messages1234567891011Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: javax&#x2F;xml&#x2F;bind&#x2F;annotation&#x2F;XmlSchema at com.android.repository.api.SchemaModule$SchemaModuleVersion.&lt;init&gt;(SchemaModule.java:156) at com.android.repository.api.SchemaModule.&lt;init&gt;(SchemaModule.java:75) at com.android.sdklib.repository.AndroidSdkHandler.&lt;clinit&gt;(AndroidSdkHandler.java:81) at com.android.sdklib.tool.sdkmanager.SdkManagerCli.main(SdkManagerCli.java:73) at com.android.sdklib.tool.sdkmanager.SdkManagerCli.main(SdkManagerCli.java:48) Caused by: java.lang.ClassNotFoundException: javax.xml.bind.annotation.XmlSchema at java.base&#x2F;jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:582) at java.base&#x2F;jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:185) at java.base&#x2F;java.lang.ClassLoader.loadClass(ClassLoader.java:496) ... 5 more Quick fixIn Windows: Go to C:\\Users\\Alex.Li\\AppData\\Local\\Android\\Sdk\\tools\\bin Open sdkmanager.bat with editor Add -XX:+IgnoreUnrecognizedVMOptions ‚Äìadd-modules java.se.ee after set DEFAULT_JVM_OPTS=‚Äù-Dcom.android.sdklib.toolsdir=%~dp0..‚Äù:1set DEFAULT_JVM_OPTS=\"-Dcom.android.sdklib.toolsdir=%~dp0\\..\" -XX:+IgnoreUnrecognizedVMOptions --add-modules java.se.ee In Linux: Go to /tools/bin, is the path where you unzip your Android SDK. Open sdkmanger with editor Add -XX:+IgnoreUnrecognizedVMOptions ‚Äìadd-modules java.se.ee after DEFAULT_JVM_OPTS=‚Äô‚Äù-Dcom.android.sdklib.toolsdir=$APP_HOME‚Äù‚Äò‚Äú:1DEFAULT_JVM_OPTS='\"-Dcom.android.sdklib.toolsdir=$APP_HOME\" -XX:+IgnoreUnrecognizedVMOptions --add-modules java.se.ee'","categories":[{"name":"ÈóÆÈ¢òËÆ∞ÂΩï","slug":"ÈóÆÈ¢òËÆ∞ÂΩï","permalink":"https://lzqblog.top/categories/%E9%97%AE%E9%A2%98%E8%AE%B0%E5%BD%95/"}],"tags":[{"name":"Android","slug":"Android","permalink":"https://lzqblog.top/tags/Android/"}]},{"title":"canvas demo page","slug":"canvas-demo-page","date":"2019-05-27T14:46:33.000Z","updated":"2019-06-06T12:15:13.631Z","comments":true,"path":"2019-05-27/canvas-demo-page/","link":"","permalink":"https://lzqblog.top/2019-05-27/canvas-demo-page/","excerpt":"","text":"This is a demo page for cool html5 canvas demos. Try to click them!Beware of performance issues if you trying to access those pages through mobile devices. :)Fire BallBlack Hole","categories":[{"name":"Èöè‰æøÂÜôÂÜô","slug":"Èöè‰æøÂÜôÂÜô","permalink":"https://lzqblog.top/categories/%E9%9A%8F%E4%BE%BF%E5%86%99%E5%86%99/"}],"tags":[{"name":"html5","slug":"html5","permalink":"https://lzqblog.top/tags/html5/"}]},{"title":"Yocto recipe: Git","slug":"Yocto-recipe-Git","date":"2019-05-27T11:22:59.000Z","updated":"2019-05-27T11:55:41.468Z","comments":true,"path":"2019-05-27/Yocto-recipe-Git/","link":"","permalink":"https://lzqblog.top/2019-05-27/Yocto-recipe-Git/","excerpt":"This is a short post give a sample of Yocto recipe which fetches source codes from git server.","text":"This is a short post give a sample of Yocto recipe which fetches source codes from git server. 12345678910111213141516171819202122232425262728293031SUMMARY &#x3D; &quot;Example&quot;DESCRIPTION &#x3D; &quot;Recipes for Example&quot;LICENSE &#x3D; &quot;GPL-2.0&quot;AUTHOR &#x3D; &quot;Alex Li(Alex.Li@xxxx.com)&quot;#Path of your LICENSE file and checksumLIC_FILES_CHKSUM &#x3D; &quot;file:&#x2F;&#x2F;$&#123;COMMON_LICENSE_DIR&#125;&#x2F;GPL-2.0;md5&#x3D;801f80980d171dd6425610833a22dbe6&quot;#Build dependenciesDEPENDS +&#x3D; &quot;boost ark-base ark-log&quot;#Run time dependenciesRDEPENDS_$&#123;PN&#125; &#x3D; &quot;ark-base ark-log boost-program-options&quot;#Your git repo address, will be usedby $&#123;SRC_URI&#125;$&#123;PN&#125;_REPO &#x3D; &quot;github.com&#x2F;codingspirit&#x2F;example.git&quot;#Set to $&#123;AUTOREV&#125; to automatically fetch the newest commit, you can set specific commit id as wellSRCREV_$&#123;PN&#125; &#x3D; &quot;$&#123;AUTOREV&#125;&quot;#Files need to be installed into target need to declare in recipeFILES_$&#123;PN&#125; +&#x3D; &quot;&#x2F;example&#x2F;*&quot;#Set git source, name, protocol, branch, git clone destination. You can use &quot;branch&#x3D;branchname&quot; to specify branch to require bitbake check after fetching#&quot;nobranch&#x3D;1&quot; will skip branch checkSRC_URI &#x3D; &quot; \\ git:&#x2F;&#x2F;$&#123;$&#123;PN&#125;_REPO&#125;;name&#x3D;$&#123;PN&#125;;protocol&#x3D;https;nobranch&#x3D;1;destsuffix&#x3D;git&#x2F;$&#123;PN&#125; \\ &quot;# Path of source code. We set it to &quot;git&#x2F;$&#123;PN&#125;&quot; in SRC_URIS &#x3D; &quot;$&#123;WORKDIR&#125;&#x2F;git&#x2F;$&#123;PN&#125;&quot;# Build path, $&#123;BPN&#125; means &quot;The bare name of the recipe&quot;B &#x3D; &quot;$&#123;WORKDIR&#125;&#x2F;$&#123;BPN&#125;&quot;inherit cmake","categories":[{"name":"ÁºñÁ®ãÁõ∏ÂÖ≥","slug":"ÁºñÁ®ãÁõ∏ÂÖ≥","permalink":"https://lzqblog.top/categories/%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/"}],"tags":[{"name":"Linux","slug":"Linux","permalink":"https://lzqblog.top/tags/Linux/"},{"name":"Yocto","slug":"Yocto","permalink":"https://lzqblog.top/tags/Yocto/"}]},{"title":"i.MX setup TFTP and NFS","slug":"i-MX-setup-TFTP-and-NFS","date":"2019-05-26T08:03:24.000Z","updated":"2019-06-06T12:14:48.012Z","comments":true,"path":"2019-05-26/i-MX-setup-TFTP-and-NFS/","link":"","permalink":"https://lzqblog.top/2019-05-26/i-MX-setup-TFTP-and-NFS/","excerpt":"Using TFTP(Trivial File Transfer Protocol) and NFS(Network File System) to load kernel and rootfs can help to reduce operations of flash write efficiently, which can make you EVK board live longer‚Ä¶ This summary is based on Alexey‚Äòs version, with some modifications according to my experiment.","text":"Using TFTP(Trivial File Transfer Protocol) and NFS(Network File System) to load kernel and rootfs can help to reduce operations of flash write efficiently, which can make you EVK board live longer‚Ä¶ This summary is based on Alexey‚Äòs version, with some modifications according to my experiment. TFTPInstall necessary tools1sudo apt-get install xinetd tftpd tftp Setup TFTP12345678910111213mkdir -p /etc/xinetd.d/nano /etc/xinetd.d/tftpservice tftp&#123; protocol = udp port = 69 socket_type = dgram wait = yes user = nobody server = /usr/sbin/in.tftpd server_args = /srv/tftp disable = no&#125; create folder to store tftp files: 123sudo mkdir /srv/tftpsudo chmod -R 777 /srv/tftpsudo chown -R nobody /srv/tftp restart tftpd by xinetd: 1sudo /etc/init.d/xinetd restart copy device trees/kernel image to tftp folder: 12cp Image /srv/tftpcp Image-fsl-imx8mq-evk.dtb /srv/tftp/fsl-imx8mq-evk.dtb NFSInstall necessary tools1sudo apt-get install nfs-kernel-server nfs-common portmap Setup NFSAdd below line at end of /etc/exports 1&#x2F;home&#x2F; *(rw,insecure,no_root_squash,no_subtree_check) restart nfs server: 1sudo /etc/init.d/nfs-kernel-server restart create copy of your rootfs: 12345cd ~mkdir imx8-evk-dummy# goto your yocto image build dir, i.e. imx-yocto-bsp/imx8mmevk_build/tmp/work/imx8mmevk-poky-linux/fsl-image-validation-imx/1.0-r0cd &lt;your_yocto_image_build_folder&gt;cp -r rootfs ~/imx8-evk-dummy Notice: Seems long path of rootfs will cause rootfs mounting error, suggest copy your rootfs to a short path TargetInterrupt board booting up then type into u-boot terminal: 1234567setenv nfsroot &lt;path-to-your-rootfs&gt;setenv image &lt;kernel-image-name-in-tftp-folder&gt;setenv fdt_file &lt;devid-tree-file-name-in-tftp-folder&gt;setenv serverip &lt;pc-ip-address&gt;setenv bootcmd &#39;run netboot&#39;savreset i.e.: 1234567setenv nfsroot &#x2F;home&#x2F;alex&#x2F;imx8-evk-dummy&#x2F;rootfssetenv image Imagesetenv fdt_file fsl-imx8mm-evk.dtbsetenv serverip 10.0.1.17setenv bootcmd &#39;run netboot&#39;savreset","categories":[{"name":"Èöè‰æøÂÜôÂÜô","slug":"Èöè‰æøÂÜôÂÜô","permalink":"https://lzqblog.top/categories/%E9%9A%8F%E4%BE%BF%E5%86%99%E5%86%99/"}],"tags":[{"name":"Linux","slug":"Linux","permalink":"https://lzqblog.top/tags/Linux/"}]},{"title":"Yocto QA Issue: Files/directories were installed but not shipped in any package","slug":"Yocto-QA-Issue-Files-directories-were-installed-but-not-shipped-in-any-package","date":"2019-05-02T11:55:53.000Z","updated":"2019-05-02T12:21:16.000Z","comments":true,"path":"2019-05-02/Yocto-QA-Issue-Files-directories-were-installed-but-not-shipped-in-any-package/","link":"","permalink":"https://lzqblog.top/2019-05-02/Yocto-QA-Issue-Files-directories-were-installed-but-not-shipped-in-any-package/","excerpt":"Yocto has much more strict rules than buildroot, one more QA Issue I met today is when I trying to install some regular files into rootfs by cmake install.","text":"Yocto has much more strict rules than buildroot, one more QA Issue I met today is when I trying to install some regular files into rootfs by cmake install. Root causeYocto/bitbake need to record every file you trying to install into rootfs, so it can easily remove those files when you trying to remove a package. Special case is When you trying to install TARGET by cmake like this: 1install(TARGETS $&#123;PROJECT_NAME&#125; DESTINATION bin) Yocto will automatically record TARGET in this case if your inherit cmake recipe even you didn‚Äôt declare it in recipe explicitly. However, if we trying to install some regular files(like some setting files,scripts etc.) by install(FILES or install(DIRECTORY, yocto will require us to declare those files explicitly. FixDeclare those files in recipe: 12FILES_$&#123;PN&#125; +&#x3D; &quot;&#x2F;test&#x2F;*&quot;# Change &quot;&#x2F;test&#x2F;*&quot; to where your regular file installed","categories":[{"name":"ÈóÆÈ¢òËÆ∞ÂΩï","slug":"ÈóÆÈ¢òËÆ∞ÂΩï","permalink":"https://lzqblog.top/categories/%E9%97%AE%E9%A2%98%E8%AE%B0%E5%BD%95/"}],"tags":[{"name":"Linux","slug":"Linux","permalink":"https://lzqblog.top/tags/Linux/"},{"name":"Yocto","slug":"Yocto","permalink":"https://lzqblog.top/tags/Yocto/"}]},{"title":"Yocto QA Issue: -dev package contains non-symlink .so","slug":"Yocto-QA-Issue-dev-package-contains-non-symlink-so","date":"2019-04-29T11:11:37.000Z","updated":"2019-05-02T11:52:11.000Z","comments":true,"path":"2019-04-29/Yocto-QA-Issue-dev-package-contains-non-symlink-so/","link":"","permalink":"https://lzqblog.top/2019-04-29/Yocto-QA-Issue-dev-package-contains-non-symlink-so/","excerpt":"Last week I met an issue when I trying to include a shared lib(built by cmake) written by me into Yocto project, which has already been verified in buildroot.The root cause is recipe trying to directly install a *.so lib into target filesystem, which doesn‚Äôt meet Yocto QA request. Lib should be installed with version number(i.e. libabc.so.0.0.3), then use a soft link(i.e. libabc.so) link to it.","text":"Last week I met an issue when I trying to include a shared lib(built by cmake) written by me into Yocto project, which has already been verified in buildroot.The root cause is recipe trying to directly install a *.so lib into target filesystem, which doesn‚Äôt meet Yocto QA request. Lib should be installed with version number(i.e. libabc.so.0.0.3), then use a soft link(i.e. libabc.so) link to it. Quick fixIf your lib is using cmakeAdd below line to add lib version information in cmake: 1set_target_properties($&#123;PROJECT_NAME&#125; PROPERTIES VERSION 0.0.3 SOVERSION 0.0.3) A better way: 123set($&#123;PROJECT_NAME&#125;_VERSION \"0.0.3\")set_target_properties($&#123;PROJECT_NAME&#125; PROPERTIES VERSION $&#123;$&#123;PROJECT_NAME&#125;_VERSION&#125; SOVERSION $&#123;$&#123;PROJECT_NAME&#125;_VERSION&#125;)message(STATUS \"Version: $&#123;$&#123;PROJECT_NAME&#125;_VERSION&#125;\") After that, when you build it with bitbake, version number will be added to extension automatically, a soft link we mentioned will be created as well. Force Yocto ignore this warningIt‚Äôs not recommended but you can add below line into your lib recipe to force Yocto ignore this issue: 1INSANE_SKIP_$&#123;PN&#125; &#x3D; &quot;dev-so&quot; As matter of fact, you can use this line to avoid almost all QA Issues, just replace ‚Äúdev-so‚Äù into your error type.","categories":[{"name":"ÈóÆÈ¢òËÆ∞ÂΩï","slug":"ÈóÆÈ¢òËÆ∞ÂΩï","permalink":"https://lzqblog.top/categories/%E9%97%AE%E9%A2%98%E8%AE%B0%E5%BD%95/"}],"tags":[{"name":"Linux","slug":"Linux","permalink":"https://lzqblog.top/tags/Linux/"},{"name":"Yocto","slug":"Yocto","permalink":"https://lzqblog.top/tags/Yocto/"}]},{"title":"i.MX 8 getting started: cmake package","slug":"i-MX-8-getting-started-cmake-package","date":"2019-03-28T11:56:53.000Z","updated":"2019-03-28T12:10:44.000Z","comments":true,"path":"2019-03-28/i-MX-8-getting-started-cmake-package/","link":"","permalink":"https://lzqblog.top/2019-03-28/i-MX-8-getting-started-cmake-package/","excerpt":"We already started to use cmake instead of writing Makefile by our own in buildroot. Let‚Äôs see how to have a cmake package in Yocto.","text":"We already started to use cmake instead of writing Makefile by our own in buildroot. Let‚Äôs see how to have a cmake package in Yocto. Add your source file and CMakeListsHere we use a simple cpp source file to test c++11 and pthread. alexcmaketest.cpp : 123456789101112131415161718192021#include &lt;iostream&gt;#include &lt;thread&gt;#include &lt;memory&gt;int main()&#123; auto thread1 = std::make_unique&lt;std::thread&gt;([]() &#123; std::cout &lt;&lt; \"hello world from thread1\" &lt;&lt; std::endl; &#125;); auto thread2 = std::make_unique&lt;std::thread&gt;([]() &#123; std::cout &lt;&lt; \"hello world from thread2\" &lt;&lt; std::endl; &#125;); if (thread1-&gt;joinable()) thread1-&gt;join(); if (thread2-&gt;joinable()) thread2-&gt;join(); return 0;&#125; Then prepare your CMakeLists.txt: CMakeLists.txt: 1234567891011cmake_minimum_required(VERSION 2.8 FATAL_ERROR)project(alexcmaketest)file(GLOB SRC_FILES \"*.cpp\")add_executable($&#123;PROJECT_NAME&#125; $&#123;SRC_FILES&#125;)target_link_libraries($&#123;PROJECT_NAME&#125; pthread)install(TARGETS $&#123;PROJECT_NAME&#125; DESTINATION bin) Notice : install should be added into your CMakeLists.txt if you want your binary to be installed into rootfs. Write your recipecmakeexample_0.1.bb : 1234567891011SUMMARY &#x3D; &quot;cmake example&quot;DESCRIPTION &#x3D; &quot;Recipe for cmake test&quot;LICENSE &#x3D; &quot;GPL-2.0&quot;LIC_FILES_CHKSUM &#x3D; &quot;file:&#x2F;&#x2F;$&#123;COMMON_LICENSE_DIR&#125;&#x2F;GPL-2.0;md5&#x3D;801f80980d171dd6425610833a22dbe6&quot;SRC_URI &#x3D; &quot;file:&#x2F;&#x2F;alexcmaketest.cpp \\ file:&#x2F;&#x2F;CMakeLists.txt&quot;S &#x3D; &quot;$&#123;WORKDIR&#125;&quot;inherit cmake There is no need to override do_install nor do_config in this scenario. cmake.bbclass has already defined those tasks and we can just inherit from it.If pkgconfig is required by your cmake, use inherit pkgconfig cmake instead. Then add your packages into your layer, don‚Äôt forget config your package as IMAGE_INSTALL_append in layer.conf. After that, you should have a folder tree like this: 123456789101112.‚îú‚îÄ‚îÄ bitbake-cookerdaemon.log‚îú‚îÄ‚îÄ conf‚îÇ ‚îî‚îÄ‚îÄ layer.conf‚îú‚îÄ‚îÄ COPYING.MIT‚îú‚îÄ‚îÄ README‚îú‚îÄ‚îÄ recipes-cmakeexample‚îÇ ‚îî‚îÄ‚îÄ cmakeexample‚îÇ ‚îú‚îÄ‚îÄ cmakeexample-0.1‚îÇ ‚îÇ ‚îú‚îÄ‚îÄ alexcmaketest.cpp‚îÇ ‚îÇ ‚îî‚îÄ‚îÄ CMakeLists.txt‚îÇ ‚îî‚îÄ‚îÄ cmakeexample_0.1.bb Build your package!1$ bitbake cmakeexample Build your imageOf course don‚Äôt forget to re-build your image. 1$ bitbake fsl-image-qt5-validation-imx","categories":[{"name":"ÁºñÁ®ãÁõ∏ÂÖ≥","slug":"ÁºñÁ®ãÁõ∏ÂÖ≥","permalink":"https://lzqblog.top/categories/%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/"}],"tags":[{"name":"Linux","slug":"Linux","permalink":"https://lzqblog.top/tags/Linux/"},{"name":"Yocto","slug":"Yocto","permalink":"https://lzqblog.top/tags/Yocto/"}]},{"title":"i.MX 8 getting started: create your kernel module","slug":"i-MX-8-getting-started-create-your-kernel-module","date":"2019-03-26T12:34:32.000Z","updated":"2019-03-28T12:15:58.000Z","comments":true,"path":"2019-03-26/i-MX-8-getting-started-create-your-kernel-module/","link":"","permalink":"https://lzqblog.top/2019-03-26/i-MX-8-getting-started-create-your-kernel-module/","excerpt":"The normal way that using yocto to do kernel development is really painful‚Ä¶ Maybe try out-of-tree build is a better choice.","text":"The normal way that using yocto to do kernel development is really painful‚Ä¶ Maybe try out-of-tree build is a better choice. Create and add your layer1$ bitbake-layers create-layer --example-recipe-name alexkernel meta-alexkernel 1$ bitbake-layers add-layer ../sources/meta-alexkernel/ Or you can use exist layer instead, just create recipe files under your layer. Add your source code and Makefilealex_module.c: 12345678910111213141516171819202122#include &lt;linux/module.h&gt;#include &lt;linux/printk.h&gt;#include &lt;linux/init.h&gt;static int __init alex_module_init(void)&#123; printk(KERN_INFO \"Hello from alex module!\\n\"); return 0;&#125;static void __exit alex_module_exit(void)&#123; printk(KERN_INFO \"Bye from alex module!\\n\"); return 0;&#125;module_init(alex_module_init);module_exit(alex_module_exit);MODULE_AUTHOR(\"Coding Spirit &lt;coding@spirit.com&gt;\");MODULE_LICENSE(\"GPL v2\"); Makefile: 1234567891011121314obj-m := alex_module.oSRC := $(shell pwd)all: $(MAKE) -C $(KERNEL_SRC) M=$(SRC)modules_install: $(MAKE) -C $(KERNEL_SRC) M=$(SRC) modules_installclean: rm -f *.o *~ core .depend .*.cmd *.ko *.mod.c rm -f Module.markers Module.symvers modules.order rm -rf .tmp_versions Modules.symvers Modify recipe files and conf filealexkernel_0.1.bb: 1234567891011SUMMARY &#x3D; &quot;kernel module example&quot;DESCRIPTION &#x3D; &quot;Recipe created by bitbake-layers&quot;LICENSE &#x3D; &quot;GPL-2.0&quot;LIC_FILES_CHKSUM &#x3D; &quot;file:&#x2F;&#x2F;$&#123;COMMON_LICENSE_DIR&#125;&#x2F;GPL-2.0;md5&#x3D;801f80980d171dd6425610833a22dbe6&quot;inherit moduleSRC_URI &#x3D; &quot;file:&#x2F;&#x2F;Makefile \\ file:&#x2F;&#x2F;alex_module.c&quot;S &#x3D; &quot;$&#123;WORKDIR&#125;&quot; Notice: bitbake support inheritance. Inherit from a exist bbclass will be much easier than rewrite one all by yourself. Take a look at openembedded github to check how did they implement a base bbclass. BTW cmake.bbclass might be useful if you trying to support cmake. layer.conf: 123456789101112131415# We have a conf and classes directory, add to BBPATHBBPATH .&#x3D; &quot;:$&#123;LAYERDIR&#125;&quot;# We have recipes-* directories, add to BBFILESBBFILES +&#x3D; &quot;$&#123;LAYERDIR&#125;&#x2F;recipes-*&#x2F;*&#x2F;*.bb \\ $&#123;LAYERDIR&#125;&#x2F;recipes-*&#x2F;*&#x2F;*.bbappend&quot;IMAGE_INSTALL_append +&#x3D; &quot;alexkernel&quot;KERNEL_MODULE_AUTOLOAD +&#x3D; &quot;alex_module&quot;BBFILE_COLLECTIONS +&#x3D; &quot;meta-alexkernel&quot;BBFILE_PATTERN_meta-alexkernel &#x3D; &quot;^$&#123;LAYERDIR&#125;&#x2F;&quot;BBFILE_PRIORITY_meta-alexkernel &#x3D; &quot;6&quot;LAYERSERIES_COMPAT_meta-alexkernel &#x3D; &quot;sumo&quot; Notice: Module will automatically get loaded when system booting up if KERNEL_MODULE_AUTOLOAD was set. We should have a folder tree as below: 1234567891011.‚îú‚îÄ‚îÄ conf‚îÇ ‚îî‚îÄ‚îÄ layer.conf‚îú‚îÄ‚îÄ COPYING.MIT‚îú‚îÄ‚îÄ README‚îî‚îÄ‚îÄ recipes-alexkernel ‚îî‚îÄ‚îÄ alexkernel ‚îú‚îÄ‚îÄ alexkernel-0.1 ‚îÇ ‚îú‚îÄ‚îÄ alex_module.c ‚îÇ ‚îî‚îÄ‚îÄ Makefile ‚îî‚îÄ‚îÄ alexkernel_0.1.bb rebuild your rootfs and image1bitbake fsl-image-qt5-validation-imx Check your environment variables by bitbake -ebitbake -e is a very useful command when you trying to debug build problem. i.e. Check the rootfs folder of your image: 1bitbake -e &lt;image&gt; | grep ^IMAGE_ROOTFS= Check the ${WORKDIR} of your recipe: 1bitbake -e &lt;recipe&gt; | grep ^WORKDIR=","categories":[{"name":"ÁºñÁ®ãÁõ∏ÂÖ≥","slug":"ÁºñÁ®ãÁõ∏ÂÖ≥","permalink":"https://lzqblog.top/categories/%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/"}],"tags":[{"name":"Linux","slug":"Linux","permalink":"https://lzqblog.top/tags/Linux/"},{"name":"Yocto","slug":"Yocto","permalink":"https://lzqblog.top/tags/Yocto/"}]},{"title":"i.MX 8 getting started: create your general layer","slug":"i-MX-8-getting-started-create-your-general-layer","date":"2019-03-22T12:21:37.000Z","updated":"2019-03-26T11:11:39.000Z","comments":true,"path":"2019-03-22/i-MX-8-getting-started-create-your-general-layer/","link":"","permalink":"https://lzqblog.top/2019-03-22/i-MX-8-getting-started-create-your-general-layer/","excerpt":"This post will tell you how to create your own general layer with a ‚Äúhello world‚Äù app to be built into your EVK.","text":"This post will tell you how to create your own general layer with a ‚Äúhello world‚Äù app to be built into your EVK. Before start, you should run setup-environment first. Create your layerCreate layer example by bitbake-layersUse bitbake-layers create-layer &lt;layer name&gt; to create a general layer example. 12$ cd imx-yocto-bsp/source # you also can create your layer in other path$ bitbake-layers create-layer meta-alexlayer Notice: yocto-layer has been deprecated after Yocto 2.5. See yocto ref manual for more details. The yocto-bsp, yocto-kernel, and yocto-layer scripts previously shipped with poky but not in OpenEmbedded-Core have been removed. These scripts are not maintained and are outdated. In many cases, they are also limited in scope. The bitbake-layers create-layer command is a direct replacement for yocto-layer It will help you to create a layer with priority of 6. To change to other priority, add option ‚Äú‚Äê‚Äêpriority‚Äù or edit BBFILE_PRIORITY after creation. ModificationGo to your layer path, add some stuff into your conf/layer.conf: 12IMAGE_INSTALL_append +&#x3D; &quot;example&quot;LAYERSERIES_COMPAT_meta-alexlayer &#x3D; &quot;sumo&quot; IMAGE_INSTALL_append will tell bitbake to install your app into image.Notice: It‚Äôs required by Yocto Project Compatible version 2 standard to set LAYERSERIES_COMPAT. There will be a warning if you didn‚Äôt do so. see yocto ref manual for more details. Note Setting LAYERSERIES_COMPAT is required by the Yocto Project Compatible version 2 standard. The OpenEmbedded build system produces a warning if the variable is not set for any given layer. Then add your source code: 1234$ cd meta-alexlayer/recipes-example/example$ mkdir example-0.1$ cd example-0.1$ touch alexhello.cpp my example here : 1234567// alexhello.cpp#include &lt;iostream&gt;int main()&#123; std::cout &lt;&lt; \"hello world from alexlayer\" &lt;&lt; std::endl; return 0;&#125; Then modify your recipe file example_0.1.bb: 123456789101112131415161718192021222324252627SUMMARY &#x3D; &quot;bitbake-layers recipe&quot;DESCRIPTION &#x3D; &quot;Recipe created by bitbake-layers&quot;LICENSE &#x3D; &quot;MIT&quot;LIC_FILES_CHKSUM &#x3D; &quot;file:&#x2F;&#x2F;$&#123;COMMON_LICENSE_DIR&#125;&#x2F;MIT;md5&#x3D;0835ade698e0bcf8506ecda2f7b4f302&quot;TARGET_CC_ARCH +&#x3D; &quot;$&#123;LDFLAGS&#125;&quot;SRC_URI &#x3D; &quot;file:&#x2F;&#x2F;alexhello.cpp&quot;S &#x3D; &quot;$&#123;WORKDIR&#125;&quot;do_compile() &#123; $&#123;CXX&#125; alexhello.cpp -o alexhello&#125;do_install() &#123; install -d $&#123;D&#125;$&#123;bindir&#125; install -m 0755 alexhello $&#123;D&#125;$&#123;bindir&#125;&#125;python do_build() &#123; bb.plain(&quot;***********************************************&quot;); bb.plain(&quot;* *&quot;); bb.plain(&quot;* Example recipe created by bitbake-layers *&quot;); bb.plain(&quot;* *&quot;); bb.plain(&quot;***********************************************&quot;);&#125; Notice: Here we use TARGET_CC_ARCH += ‚Äú${LDFLAGS}‚Äù to avoid ‚ÄúNo GNU_HASH in the elf binary‚Äù error when QA check, see mega-manual for more details. 25.10.8. Default Linker Hash Style Changed The default linker hash style for gcc-cross is now ‚Äúsysv‚Äù in order to catch recipes that are building software without using the OpenEmbedded LDFLAGS. This change could result in seeing some ‚ÄúNo GNU_HASH in the elf binary‚Äù QA issues when building such recipes. You need to fix these recipes so that they use the expected LDFLAGS. Depending on how the software is built, the build system used by the software (e.g. a Makefile) might need to be patched. However, sometimes making this fix is as simple as adding the following to the recipe: TARGET_CC_ARCH += &quot;${LDFLAGS}&quot; After those steps, you should have a folder like this: Add your layer and buildThere are two ways to add your layer into build: Use bitbake-layers add-layerUse bitbake-layers add-layer &lt;layer name&gt; to add a layer and build it. Before this, you should source setup-environment. 12$ bitbake-layers add-layer meta-alexlayer$ bitbake example Modify script provided by nxpModify fsl-setup-release.sh, add your layer path to ‚ÄúBBLAYERS‚Äù: 12echo \"BBLAYERS += \\\" \\$&#123;BSPDIR&#125;/sources/meta-qt5 \\\"\" &gt;&gt; $BUILD_DIR/conf/bblayers.confecho \"BBLAYERS += \\\" \\$&#123;BSPDIR&#125;/sources/meta-alexlayer \\\"\" &gt;&gt; $BUILD_DIR/conf/bblayers.conf # new layer Then source it and bitbake your new layer: 12$ DISTRO=fsl-imx-xwayland MACHINE=imx8mmevk source fsl-setup-release.sh -b build-xwayland$ bitbake example Rebuild your image file1$ bitbake fsl-image-qt5-validation-imx","categories":[{"name":"ÁºñÁ®ãÁõ∏ÂÖ≥","slug":"ÁºñÁ®ãÁõ∏ÂÖ≥","permalink":"https://lzqblog.top/categories/%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/"}],"tags":[{"name":"Linux","slug":"Linux","permalink":"https://lzqblog.top/tags/Linux/"},{"name":"Yocto","slug":"Yocto","permalink":"https://lzqblog.top/tags/Yocto/"}]},{"title":"i.MX 8 getting started: setup environment","slug":"i-MX-8-getting-started-setup-environment","date":"2019-03-21T06:51:39.000Z","updated":"2019-05-28T13:04:26.076Z","comments":true,"path":"2019-03-21/i-MX-8-getting-started-setup-environment/","link":"","permalink":"https://lzqblog.top/2019-03-21/i-MX-8-getting-started-setup-environment/","excerpt":"This post will show you how to setup environment(Linux) for NXP i.MX 8 and build a image fot i.MX8 Mini EVK. If you trying to build a Android image, close this post.","text":"This post will show you how to setup environment(Linux) for NXP i.MX 8 and build a image fot i.MX8 Mini EVK. If you trying to build a Android image, close this post. Before startCheck your host environment: Fedora, openSUSE, CentOS, Debian, or Ubuntu(newer then 14.04, I test with 18.04) 120G disk space if graphical support is need Git is already setup on your machine Install toolsThere are some packages you might haven‚Äôt installed but required by Yocto: chrpath gawk u-boot-tools use apt install install all of them. Also for repo: 12$ curl https://storage.googleapis.com/git-repo-downloads/repo &gt; /usr/local/bin/repo$ chmod a+x /usr/local/bin/repo You can choose your own repo install path, but make sure this path was added into PATH. Yocto project setupWe will use i.MX official repo to init. 1234$ mkdir imx-yocto-bsp $ cd imx-yocto-bsp $ repo init -u https://source.codeaurora.org/external/imx/imx-manifest -b imx-linux-sumo -m imx-4.14.78-1.0.0_ga.xml $ repo sync Use -b &lt;branch-name&gt; to switch to use other branch if you want. Check on https://source.codeaurora.org/external/imx/imx-manifest to find all available branches. Start buildChoose one graphical backend for your image fsl-imx-x11 fsl-imx-wayland fsl-imx-xwayland fsl-imx-fbFor i.MX8, only fsl-imx-wayland and fsl-imx-xwayland are supported.Then run:12$ DISTRO=fsl-imx-xwayland MACHINE=imx8mmevk source fsl-setup-release.sh -b build-xwayland $ bitbake fsl-image-qt5-validation-imx Set MACHINE to other variable if you are not using i.MX8 Mini EVK. Use -b in fsl-setup-release to specify build dir. Summaries of my build details: 12345678910111213141516171819202122232425Build Configuration:BB_VERSION = \"1.38.0\"BUILD_SYS = \"x86_64-linux\"NATIVELSBSTRING = \"ubuntu-18.04\"TARGET_SYS = \"aarch64-poky-linux\"MACHINE = \"imx8mmevk\"DISTRO = \"fsl-imx-xwayland\"DISTRO_VERSION = \"4.14-sumo\"TUNE_FEATURES = \"aarch64\"TARGET_FPU = \"\"meta meta-poky = \"HEAD:64a257fa22126c4a40ff7e03424a404e360ebe1e\"meta-oe meta-multimedia = \"HEAD:2bb21ef27c4b0c9d52d30b3b2c5a0160fd02b966\"meta-freescale = \"HEAD:407c6cf408969445031a492e2d25e0e2749582ea\"meta-freescale-3rdparty = \"HEAD:88a29631809d1af0df618245430db29f2a7012b5\"meta-freescale-distro = \"HEAD:f7e2216e93aff14ac32728a13637a48df436b7f4\"meta-bsp meta-sdk = \"HEAD:9867dae67c158e0820bf226bd18b792623e99b25\"meta-browser = \"HEAD:75640e14e325479c076b6272b646be7a239c18aa\"meta-gnome meta-networking meta-python meta-filesystems = \"HEAD:2bb21ef27c4b0c9d52d30b3b2c5a0160fd02b966\"meta-qt5 = \"HEAD:d4e7f73d04e8448d326b6f89908701e304e37d65\" Restart a build environment1$ source setup-environment &lt;build-dir&gt; FlashUsing mfgtools provided by nxp to flash. Flash to emmc: 1sudo uuu -b emmc_all imx-boot-imx8mmevk-sd.bin-flash_evk fsl-image-validation-imx-imx8mmevk.sdcard.bz2/* In develop stage, suggest to use TFTP and NFS for a longer flash life span. See i.MX setup TFTP and NFS for more details.","categories":[{"name":"ÁºñÁ®ãÁõ∏ÂÖ≥","slug":"ÁºñÁ®ãÁõ∏ÂÖ≥","permalink":"https://lzqblog.top/categories/%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/"}],"tags":[{"name":"Linux","slug":"Linux","permalink":"https://lzqblog.top/tags/Linux/"},{"name":"Yocto","slug":"Yocto","permalink":"https://lzqblog.top/tags/Yocto/"}]},{"title":"C/C++ mixed programming error: undefined reference","slug":"C-C-mixed-programming-error-undefined-reference","date":"2019-03-18T12:37:06.000Z","updated":"2019-03-21T12:26:44.000Z","comments":true,"path":"2019-03-18/C-C-mixed-programming-error-undefined-reference/","link":"","permalink":"https://lzqblog.top/2019-03-18/C-C-mixed-programming-error-undefined-reference/","excerpt":"The solution for this issue is very sample, add #ifdef __cplusplus extern ‚ÄúC‚Äù in your C header files. I have seen a lots of C header files with this code, I also know that those codes will help C code compatible with C++ code, but I had never try to dig in to find out why those codes works until few weeks ago I was trying to call a lib written by C but lib headers didn‚Äôt surround with #ifdef __cplusplus extern ‚ÄúC‚Äù.(Shame on me) This post will tell you why.","text":"The solution for this issue is very sample, add #ifdef __cplusplus extern ‚ÄúC‚Äù in your C header files. I have seen a lots of C header files with this code, I also know that those codes will help C code compatible with C++ code, but I had never try to dig in to find out why those codes works until few weeks ago I was trying to call a lib written by C but lib headers didn‚Äôt surround with #ifdef __cplusplus extern ‚ÄúC‚Äù.(Shame on me) This post will tell you why. Why ‚Äúundefined reference‚Äù?Normally, You can see this ‚Äúundefined reference‚Äù error when compiler can‚Äôt find your functions‚Äô definition. But if you click into this post, I‚Äôm pretty sure that you have checked your code more than once. The reason why you meet this error while mixing programming is C and C++ compilers have different name mangling rules while compiling. In C, one function only can have one definition, but in C++ polymorphism was added so method can have same name but different version definitions with different parameter lists.i.e. you have a function named foo in C: 1void foo(int a)&#123;&#125;; Meanwhile you have 2 method in C++: 12void foo(int a)&#123;&#125;;void foo(char a)&#123;&#125;; C compiler might rename it as __foo in assembly. But C++ have to do some changes to make sure method name is unique in assembly, normally in C++ compiler it might be renamed with parameter list like __Z1_foo_int and __Z1_foo_char. There will be linking error like ‚Äúundefined reference‚Äù when your trying to link a C lib which was compiled by C compiler and your C header files didn‚Äôt add #ifdef cplusplus extern ‚ÄúC‚Äù, because C++ compiler trying to find a symbol named **Z1_foo_int** but it can‚Äôt because it was renamed as __foo by C compiler. Why extern ‚ÄúC‚Äù can solve this?12345678910111213#ifdef __cplusplusextern \"C\" &#123;#endif/**** your declarations *****/#ifdef __cplusplus &#125;#endif C compiler will ignore those codes because of marco #ifdef __cplusplus, it‚Äôs easy to understand. But if you are using a C++ compiler, this extern ‚ÄúC‚Äù will be active and tell C++ compiler ‚Äúyou should link those functions with C name mangling rules‚Äù. In this case, C++ can find function definitions correctly in your C lib.","categories":[{"name":"ÁºñÁ®ãÁõ∏ÂÖ≥","slug":"ÁºñÁ®ãÁõ∏ÂÖ≥","permalink":"https://lzqblog.top/categories/%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/"}],"tags":[{"name":"C++","slug":"C","permalink":"https://lzqblog.top/tags/C/"},{"name":"C","slug":"C","permalink":"https://lzqblog.top/tags/C/"}]},{"title":"cmake notes","slug":"cmake-notes","date":"2019-03-04T02:14:47.000Z","updated":"2019-03-04T11:49:16.000Z","comments":true,"path":"2019-03-04/cmake-notes/","link":"","permalink":"https://lzqblog.top/2019-03-04/cmake-notes/","excerpt":"Take notes!","text":"Take notes! Use pkg-config in cmake12345678#require gstreamer and check version, $&#123;GST&#125; is an user defined prefix for _LIBRARIES/_INCLUDE_DIRS/_CFLAGS_OTHERpkg_check_modules(GST REQUIRED gstreamer-1.0&gt;=1.10 gstreamer-app-1.0&gt;=1.10)#Then we can get hidden variables $&#123;GST_LIBRARIES&#125; $&#123;GST_INCLUDE_DIRS&#125; $&#123;GST_CFLAGS_OTHER&#125;target_link_libraries($&#123;PROJECT_NAME&#125; boost_log pthread $&#123;GST_LIBRARIES&#125;)target_include_directories($&#123;PROJECT_NAME&#125; PUBLIC $&#123;GST_INCLUDE_DIRS&#125;)target_compile_options($&#123;PROJECT_NAME&#125; PUBLIC $&#123;GST_CFLAGS_OTHER&#125;) Add all files under a folder(i.e. add all source files)123456#option 1: use file(), store files into variable SRC_FILESfile(GLOB SRC_FILES \"*.cpp\")#if there are sub-dirs should be searched, use recursivefile(GLOB_RECURSE SRC_FILES \"*.cpp\")#option 2: use aux_source_directory(), store source files into variable SRC_FILESaux_source_directory(. SRC_FILES)","categories":[{"name":"ÁºñÁ®ãÁõ∏ÂÖ≥","slug":"ÁºñÁ®ãÁõ∏ÂÖ≥","permalink":"https://lzqblog.top/categories/%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/"}],"tags":[{"name":"cmake","slug":"cmake","permalink":"https://lzqblog.top/tags/cmake/"}]},{"title":"C++ standard exceptions","slug":"C-standard-exceptions","date":"2019-02-27T19:01:07.000Z","updated":"2019-02-28T12:22:00.000Z","comments":true,"path":"2019-02-28/C-standard-exceptions/","link":"","permalink":"https://lzqblog.top/2019-02-28/C-standard-exceptions/","excerpt":"‚Ä¶","text":"‚Ä¶ logic_error(It reports errors that are a consequence of faulty logic within the program such as violating logical preconditions or class invariants and may be preventable.) invalid_argument domain_error length_error out_of_range future_error(C++11) bad_optional_access(C++17) runtime_error(It reports errors that are due to events beyond the scope of the program and can not be easily predicted.) range_error overflow_error underflow_error regex_error(C++11) nonexistent_local_time(C++20) ambiguous_local_time(C++20) tx_exception(TM TS) system_error(C++11) ios_base::failure(C++11) filesystem::filesystem_error(C++17) bad_typeid bad_cast bad_any_cast(C++17) bad_weak_ptr(C++11) bad_function_call(C++11) bad_alloc(report failure to allocate storage) bad_array_new_length(C++11) bad_exception ios_base::failure(until C++11) bad_variant_access(C++17) For more details, refer to cppreference","categories":[{"name":"ÁºñÁ®ãÁõ∏ÂÖ≥","slug":"ÁºñÁ®ãÁõ∏ÂÖ≥","permalink":"https://lzqblog.top/categories/%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/"}],"tags":[{"name":"C++","slug":"C","permalink":"https://lzqblog.top/tags/C/"}]},{"title":"Linux C/C++ debugging: using adb and gdb","slug":"Linux-C-C-debugging-using-adb-and-gdb","date":"2019-02-16T11:38:56.000Z","updated":"2019-02-16T14:04:27.000Z","comments":true,"path":"2019-02-16/Linux-C-C-debugging-using-adb-and-gdb/","link":"","permalink":"https://lzqblog.top/2019-02-16/Linux-C-C-debugging-using-adb-and-gdb/","excerpt":"Âú®Â§ßÂ≠¶ÁöÑÊó∂ÂÄôÂ∞±‰∏ÄÁõ¥Áî®gdb + gdbserver Êù•ËøúÁ®ãË∞ÉËØïC++Ôºå ÂâçÂπ¥ÂºÄÂßãÁî®VS CodeÂêéÂú®Êùø‰∏äÈÉ®ÁΩ≤Á®ãÂ∫èÂêéÈÖçÂêàVS CodeË∞ÉËØïÊõ¥ÊòØÁàΩÂà∞‰∏çË°åÔºàÊ†πÊú¨ÂÅú‰∏ç‰∏ãÊù•ÔºâÔºåÊúâÁßçÊú¨Âú∞ÂºÄÂèëÁöÑÊÑüËßâÔºå ÂÜç‰πü‰∏çÁî®Âú®ËõãÁñºÁöÑGDBÈáåÈù¢Êï≤‚Äòb‚Äô ‚Äòr‚Äô ‚Äòc‚ÄôÔºå ÂìàÂìà„ÄÇÊúÄËøëÁöÑÈ°πÁõÆÂØπadbÁöÑÊîØÊåÅÈùûÂ∏∏‰∏çÈîôÔºåusb‰∏ä‰º†‰∏ãËΩΩÈÄüÂ∫¶ÊØîssh‰∏çÁü•ÈÅìÈ´òÂà∞Âì™ÈáåÂéª‰∫Ü„ÄÇ‰ªäÂ§©Á™ÅÁÑ∂ÊÉ≥Âà∞‰πãÂâçÂÜôAndroid appÁöÑÊó∂ÂÄôÈÉΩËÉΩÈÄöËøáusbÂíåadbËøõË°åË∞ÉËØïÔºå Áé∞Âú®Âú®Linux‰∏ãË∞ÉC++Â∫îËØ•‰πüÂèØ‰ª•ÈÄöËøáusb+adbÂÆûÁé∞Ôºå ‰∏∫‰ªÄ‰πà‰∏çËØï‰∏Ä‰∏ãÂë¢Ôºü","text":"Âú®Â§ßÂ≠¶ÁöÑÊó∂ÂÄôÂ∞±‰∏ÄÁõ¥Áî®gdb + gdbserver Êù•ËøúÁ®ãË∞ÉËØïC++Ôºå ÂâçÂπ¥ÂºÄÂßãÁî®VS CodeÂêéÂú®Êùø‰∏äÈÉ®ÁΩ≤Á®ãÂ∫èÂêéÈÖçÂêàVS CodeË∞ÉËØïÊõ¥ÊòØÁàΩÂà∞‰∏çË°åÔºàÊ†πÊú¨ÂÅú‰∏ç‰∏ãÊù•ÔºâÔºåÊúâÁßçÊú¨Âú∞ÂºÄÂèëÁöÑÊÑüËßâÔºå ÂÜç‰πü‰∏çÁî®Âú®ËõãÁñºÁöÑGDBÈáåÈù¢Êï≤‚Äòb‚Äô ‚Äòr‚Äô ‚Äòc‚ÄôÔºå ÂìàÂìà„ÄÇÊúÄËøëÁöÑÈ°πÁõÆÂØπadbÁöÑÊîØÊåÅÈùûÂ∏∏‰∏çÈîôÔºåusb‰∏ä‰º†‰∏ãËΩΩÈÄüÂ∫¶ÊØîssh‰∏çÁü•ÈÅìÈ´òÂà∞Âì™ÈáåÂéª‰∫Ü„ÄÇ‰ªäÂ§©Á™ÅÁÑ∂ÊÉ≥Âà∞‰πãÂâçÂÜôAndroid appÁöÑÊó∂ÂÄôÈÉΩËÉΩÈÄöËøáusbÂíåadbËøõË°åË∞ÉËØïÔºå Áé∞Âú®Âú®Linux‰∏ãË∞ÉC++Â∫îËØ•‰πüÂèØ‰ª•ÈÄöËøáusb+adbÂÆûÁé∞Ôºå ‰∏∫‰ªÄ‰πà‰∏çËØï‰∏Ä‰∏ãÂë¢Ôºü gdb + gdbserverÊó¢ÁÑ∂Ë¶ÅË∞ÉC/C++Ôºå Ëøô‰∏§ÂÖÑÂºüÂü∫Êú¨‰∏äÊòØÂøÖÂ§á‰∫Ü(VC++Á®ãÂ∫èÂëòË°®Á§∫Âπ∂‰∏çÈúÄË¶Å)„ÄÇ Âú®target device‰∏äÈÉ®ÁΩ≤ÂæÖË∞ÉËØïÁ®ãÂ∫èÂπ∂ÂêØÂä®gdbserverÔºåÁÑ∂ÂêéÂÜçÂú®host‰∏ä‰ΩøÁî®gdb target remoteËøûÊé•Ôºå Ë∑®Âπ≥Âè∞Ë∞ÉËØïÂèòÂæóÈùûÂ∏∏ÂÆπÊòìÔºå ÈÖçÂêàVS Code‰ΩøÁî®ÁöÑ‰æãÂ≠êÂèØ‰ª•ÂèÇËÄÉËøôÈáå adb forwardgdbÂíågdbserverÂèØ‰ª•Êèê‰æõË∞ÉËØïÁöÑserverÂíåclientÔºå Âè™Ë¶ÅclientËÉΩÂ§üËÆøÈóÆÂà∞serverÁöÑÊåáÂÆöÁ´ØÂè£ÔºåË∞ÉËØïÂ∞±ËÉΩÂ§üËøõË°å„ÄÇÈÄöÂ∏∏Êàë‰ª¨‰ΩøÁî®gdb+gdbserverÔºå target deviceÂíåhostÂú®‰∏Ä‰∏™Â±ÄÂüüÁΩëÂÜÖÔºå ÈÄöËøásocketËÉΩÂæàËΩªÊùæÂú∞ÂÆûÁé∞ËøûÊé•„ÄÇ Â¶ÇÊûúÊàë‰ª¨Ë¶ÅÈÄöËøáusbÂÆûÁé∞Ëøô‰∏™ËøûÊé•Ôºå ÂèØ‰ª•ÈÄöËøáadb forwardÂÆûÁé∞„ÄÇ Â¶ÇÊûú‰Ω†Âú®Android‰∏äÂÜôËøáÈÄöËøásocketÈÄö‰ø°ÁöÑappÔºà‰∏çÁ¶ÅÊÉ≥Ëµ∑‰∫ÜÂÅöÊØïËÆæÁöÑÊó∂ÂÄôÔºâÔºå Âü∫Êú¨‰∏äÈÉΩ‰ºöÁî®Âà∞Ëøô‰∏™cmdÔºå Âè™ÈúÄ‰∏ÄË°åÂëΩ‰ª§ adb forward tcp:1234 tcp:5678, ÊâÄÊúâÂú®hostÁ´Ø1234Á´ØÂè£ÁöÑÈÄö‰ø°ÈÉΩ‰ºöË¢´ÈáçÂÆöÂêëÂà∞targetÁ´ØÁöÑ5678Á´ØÂè£ÔºåË∞ÉËØïsocketÊó∂ËΩªÊùæÊÑâÂø´ÔºÅ Êúâ‰∫ÜÂÆÉÁöÑÂ∏ÆÂä©Ôºå Â∞±ËÉΩÈÄöËøáusbÁ∫øÂÆûÁé∞socketËøûÊé•‰∫Ü Step By StepLet‚Äôs have a quick step by step instruction: First of all, build your C/C++ app and upload your app binary to target device. Then we start gdbserver on target device: 12#target devicegdbserver :$&#123;TARGET_PORT&#125; $&#123;EXEC_FILE&#125; i.e. : gdbserver :1234 /usr/bin/test_app. gdbserver will listening at port 1234 and waiting for client to connect. After that we can use adb forward on host PC(make sure usb connection is good and adb shell works well): 12#hostadb forward tcp:$&#123;HOST_PORT&#125; tcp:$&#123;TARGET_PORT&#125; All the communication data on specific host port will be redirected to target server port.i.e. : adb forward tcp:4567 tcp:1234. Then all the data send to localhost:4567 on host PC will be redirected to target device 1234 port. Last step, start gdb on host PC then connect to target gdbserver: 123456789101112131415161718#host$ gdb#make sure your gdb and your gdbserver are from one set of toolchainGNU gdb (Debian 7.12-6) 7.12.0.20161007-gitCopyright (C) 2016 Free Software Foundation, Inc.License GPLv3+: GNU GPL version 3 or later &lt;http://gnu.org/licenses/gpl.html&gt;This is free software: you are free to change and redistribute it.There is NO WARRANTY, to the extent permitted by law. Type \"show copying\"and \"show warranty\" for details.This GDB was configured as \"x86_64-linux-gnu\".Type \"show configuration\" for configuration details.For bug reporting instructions, please see:&lt;http://www.gnu.org/software/gdb/bugs/&gt;.Find the GDB manual and other documentation resources online at:&lt;http://www.gnu.org/software/gdb/documentation/&gt;.For help, type \"help\".Type \"apropos word\" to search for commands related to \"word\".(gdb) target remote :$&#123;HOST_PORT&#125; i.e. : (gdb) target remote :4567 Now we can start hunting bug!","categories":[{"name":"ÁºñÁ®ãÁõ∏ÂÖ≥","slug":"ÁºñÁ®ãÁõ∏ÂÖ≥","permalink":"https://lzqblog.top/categories/%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/"}],"tags":[{"name":"Linux","slug":"Linux","permalink":"https://lzqblog.top/tags/Linux/"},{"name":"C++","slug":"C","permalink":"https://lzqblog.top/tags/C/"}]},{"title":"Linux kernel module(3)","slug":"Linux-kernel-module-3","date":"2018-12-23T01:46:15.000Z","updated":"2018-12-23T04:26:49.000Z","comments":true,"path":"2018-12-23/Linux-kernel-module-3/","link":"","permalink":"https://lzqblog.top/2018-12-23/Linux-kernel-module-3/","excerpt":"This post will give a simple introduction to Linux kernel module(Part III.). Linux kernel moduleÁÆÄ‰ªã(‰∏â)","text":"This post will give a simple introduction to Linux kernel module(Part III.). Linux kernel moduleÁÆÄ‰ªã(‰∏â) In this post we will discuss how to call kernel driver in user space. Access IIO devices from user spaceIn last two posts we use a IIO(Linux Industrial I/O Subsystem) device st_uvis25 as a example to show how to write a kernel module. There are a lot of devices fall into this subsystem: ADCs Accelerometers Gyros IMUs Capacitance to Digital Converters (CDCs) Pressure Sensors Color, Light and Proximity Sensors Temperature Sensors Magnetometers DACs DDS (Direct Digital Synthesis) PLLs (Phase Locked Loops) Variable/Programmable Gain Amplifiers (VGA, PGA) In st_uvis25_core.c, a iio_info has been defined and assigned to a iio_dev in probe function: 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849// st_uvis25_core.c, Line 267static const struct iio_info st_uvis25_info = &#123; .read_raw = st_uvis25_read_raw,&#125;;/* code */int st_uvis25_probe(struct device *dev, int irq, struct regmap *regmap)&#123; struct st_uvis25_hw *hw; struct iio_dev *iio_dev; int err; iio_dev = devm_iio_device_alloc(dev, sizeof(*hw)); if (!iio_dev) return -ENOMEM; dev_set_drvdata(dev, (void *)iio_dev); hw = iio_priv(iio_dev); hw-&gt;irq = irq; hw-&gt;regmap = regmap; err = st_uvis25_check_whoami(hw); if (err &lt; 0) return err; iio_dev-&gt;modes = INDIO_DIRECT_MODE; iio_dev-&gt;dev.parent = dev; iio_dev-&gt;channels = st_uvis25_channels; iio_dev-&gt;num_channels = ARRAY_SIZE(st_uvis25_channels); iio_dev-&gt;name = ST_UVIS25_DEV_NAME; iio_dev-&gt;info = &amp;st_uvis25_info; err = st_uvis25_init_sensor(hw); if (err &lt; 0) return err; if (hw-&gt;irq &gt; 0) &#123; err = st_uvis25_allocate_buffer(iio_dev); if (err &lt; 0) return err; err = st_uvis25_allocate_trigger(iio_dev); if (err) return err; &#125; return devm_iio_device_register(dev, iio_dev);&#125; If devm_iio_device_register success and iio_info.read_raw has been registered, a file will be created at :/sys/bus/iio/devices/iio:device0/xxx_rawIn terminal, you can read it by cat 1cat /sys/bus/iio/devices/iio:device0/xxx_raw In C/C++ applications, you can use fopen because it‚Äôs a file.","categories":[{"name":"ÁºñÁ®ãÁõ∏ÂÖ≥","slug":"ÁºñÁ®ãÁõ∏ÂÖ≥","permalink":"https://lzqblog.top/categories/%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/"}],"tags":[{"name":"Linux","slug":"Linux","permalink":"https://lzqblog.top/tags/Linux/"}]},{"title":"Comments system has been added","slug":"Comments-system-has-been-added","date":"2018-12-22T01:40:27.000Z","updated":"2018-12-22T01:46:58.000Z","comments":true,"path":"2018-12-22/Comments-system-has-been-added/","link":"","permalink":"https://lzqblog.top/2018-12-22/Comments-system-has-been-added/","excerpt":"","text":"Áé∞Âú®blogÊîØÊåÅ‰ΩøÁî®GithubÂ∏êÂè∑ËØÑËÆ∫Âï¶ÔºÅYou can use your github account to add comments now!","categories":[{"name":"Èöè‰æøÂÜôÂÜô","slug":"Èöè‰æøÂÜôÂÜô","permalink":"https://lzqblog.top/categories/%E9%9A%8F%E4%BE%BF%E5%86%99%E5%86%99/"}],"tags":[{"name":"Êó•Âøó","slug":"Êó•Âøó","permalink":"https://lzqblog.top/tags/%E6%97%A5%E5%BF%97/"}]},{"title":"Linux kernel module(2)","slug":"Linux-kernel-module-2","date":"2018-12-16T01:33:48.000Z","updated":"2018-12-16T12:09:05.000Z","comments":true,"path":"2018-12-16/Linux-kernel-module-2/","link":"","permalink":"https://lzqblog.top/2018-12-16/Linux-kernel-module-2/","excerpt":"This post will give a simple introduction to Linux kernel module(Part II.). Linux kernel moduleÁÆÄ‰ªã(‰∫å)","text":"This post will give a simple introduction to Linux kernel module(Part II.). Linux kernel moduleÁÆÄ‰ªã(‰∫å) Let‚Äôs continue the unfinished parts we left in Part I.. A I2C moduleWhat is regmapregmap is a new API added in kernel 3.1. It helps to provide a abstraction for I2C/SPI/IRQ etc. operations. If chips provide both I2C and SPI interfaces, using regmap also can help to reuse part of code. In this example(st_uvis25, a UVI sensor), it provides another SPI driver(st_uvis25_spi.c), and a interfaces-nonrelevant file(st_uvis25_core.c) as well. st_uvis25_core.c will not care which kind of interfaces you are using, every I2C/SPI read/write will be done through regmap. If you put your device on I2C bus in dts file, regmap will call I2C operate functions when you use regmap_write, if it‚Äôs on SPI bus, regmap will call SPI operate functions instead. Tos use regmap API, a regmap_config should be defined. reg_bits and val_bits defined the register address length and data length inside this device. write_flag_mask and read_flag_mask will do OR operation with the data you trying to send/read(they are optional): 123// linux-4.9/drivers/base/regmap/regmap.c, Line 2002 u8 = buf; *u8 |= map-&gt;write_flag_mask; Then use devm_regmap_init_i2c or devm_regmap_init_spi to initialize your regmap. It will help you to allocate memory for your regmap and release it when module remove. How to use regmap to control deviceLet‚Äôs take a look at st_uvis25.h and st_uvis25_core.c: 12345678// st_uvis25.h, Line 26struct st_uvis25_hw &#123; struct regmap *regmap; struct iio_trigger *trig; bool enabled; int irq;&#125;; 123456789101112131415161718192021// st_uvis25_core.c Line 55static int st_uvis25_check_whoami(struct st_uvis25_hw *hw)&#123; int err, data; err = regmap_read(hw-&gt;regmap, ST_UVIS25_REG_WHOAMI_ADDR, &amp;data); if (err &lt; 0) &#123; dev_err(regmap_get_device(hw-&gt;regmap), \"failed to read whoami register\\n\"); return err; &#125; if (data != ST_UVIS25_REG_WHOAMI_VAL) &#123; dev_err(regmap_get_device(hw-&gt;regmap), \"wrong whoami &#123;%02x vs %02x&#125;\\n\", data, ST_UVIS25_REG_WHOAMI_VAL); return -ENODEV; &#125; return 0;&#125; This st_uvis25_check_whoami uses regmap_read to read value from register ST_UVIS25_REG_WHOAMI_ADDR and compares it to ST_UVIS25_REG_WHOAMI_VAL. i2c_probe and probeIn last post we already know that module_i2c_driver actually are encapsulations of module_init/exit, so it‚Äôs easy to understand that st_uvis25_i2c_probe will be called when install mod. But how about st_uvis25_probe, where does it come from? EXPORT_SYMBOLAs I mentioned in last section, there are two more files, this st_uvis25_probe is export from one of them(st_uvis25_core.c): 12345int st_uvis25_probe(struct device *dev, int irq, struct regmap *regmap)&#123; /* code */&#125;EXPORT_SYMBOL(st_uvis25_probe); EXPORT_SYMBOL is a marco defined in linux-4.9/include/linux/export.h 123456789101112// linux-4.9/include/linux/export.h, Line 56/* For every exported symbol, place a struct in the __ksymtab section */#define ___EXPORT_SYMBOL(sym, sec) \\ extern typeof(sym) sym; \\ __CRC_SYMBOL(sym, sec) \\ static const char __kstrtab_##sym[] \\ __attribute__((section(\"__ksymtab_strings\"), aligned(1))) \\ = VMLINUX_SYMBOL_STR(sym); \\ static const struct kernel_symbol __ksymtab_##sym \\ __used \\ __attribute__((section(\"___ksymtab\" sec \"+\" #sym), used)) \\ = &#123; (unsigned long)&amp;sym, __kstrtab_##sym &#125; In newer kernel 4.19.9, this marco has been simplified to: 12345678/* For every exported symbol, place a struct in the __ksymtab section */#define ___EXPORT_SYMBOL(sym, sec) \\ extern typeof(sym) sym; \\ __CRC_SYMBOL(sym, sec) \\ static const char __kstrtab_##sym[] \\ __attribute__((section(\"__ksymtab_strings\"), used, aligned(1))) \\ = #sym; \\ __KSYMTAB_ENTRY(sym, sec) When you use it as EXPORT_SYMBOL(my_export, GPL),it will be expanded like this: 123456789extern typeof(my_export) my_export; \\__CRC_SYMBOL(my_export, GPL) \\static const char __kstrtab_my_export[] \\__attribute__((section(\"__ksymtab_strings\"), aligned(1))) \\= VMLINUX_SYMBOL_STR(my_export); \\static const struct kernel_symbol __ksymtab_my_export \\__used \\__attribute__((section(\"___ksymtab\" GPL \"+\" my_export), used)) \\= &#123; (unsigned long)&amp;my_export, __kstrtab_my_export &#125; It will be simpler if ignore attribute and __used(there are gcc attributes) and expand again: 123static const char __kstrtab_my_export[] =‚Äù my_export‚Äù;static const struct kernel_symbol__ksymtab_my_export=&#123;(unsigned long)&amp;my_export,_kstrab_my_export&#125; This part of code declared a static const char array to store symbol name and a static const struct to store address and name of this symbol. If we add attribute back again, this char array will be put into section __ksymtab_strings and struct will be put into section __ksymatab_gpl. How to call drivers in user space will be discussed in Part III.To be continued‚Ä¶","categories":[{"name":"ÁºñÁ®ãÁõ∏ÂÖ≥","slug":"ÁºñÁ®ãÁõ∏ÂÖ≥","permalink":"https://lzqblog.top/categories/%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/"}],"tags":[{"name":"Linux","slug":"Linux","permalink":"https://lzqblog.top/tags/Linux/"}]},{"title":"Linux kernel module(1)","slug":"Linux-kernel-module-1","date":"2018-12-09T03:01:48.000Z","updated":"2018-12-16T12:08:54.000Z","comments":true,"path":"2018-12-09/Linux-kernel-module-1/","link":"","permalink":"https://lzqblog.top/2018-12-09/Linux-kernel-module-1/","excerpt":"This post will give a simple introduction to Linux kernel module(Part I.). Linux kernel moduleÁÆÄ‰ªã(‰∏Ä)","text":"This post will give a simple introduction to Linux kernel module(Part I.). Linux kernel moduleÁÆÄ‰ªã(‰∏Ä) When your system has a new external chip connected(I2C,SPI,GPIO etc.), you might need to write a driver for it by yourself. Normally this driver will be implemented as a kernel module. Kernel module development is a complex task and it‚Äôs hard to make it clear in one simple post. If you want to learn more, a good choice is taking a look at Linux kernel source code. The simplest example of kernel moduleSource code1234567891011121314151617181920212223// file:simple_module.c#include &lt;linux/init.h&gt;#include &lt;linux/module.h&gt;#include &lt;linux/printk.h&gt;static int __init sample_module_init(void)&#123; printk(KERN_INFO \"Hello world!\\n\"); return 0;&#125;static void __exit sample_module_exit(void)&#123; printk(KERN_INFO \"Bye!\\n\");&#125;module_init(sample_module_init);module_exit(sample_module_exit);MODULE_AUTHOR(\"Coding Spirit &lt;coding@spirit.com&gt;\");MODULE_LICENSE(\"GPL v2\"); This simple example shows basic structure of kernel module. A init function and a exit function must be declared, to avoid warnings, MODULE_AUTHOR and MODULE_LICENSE is needed as well. MakefileTo compile it to kernel module(.ko) file, we need to write a Makefile for it. 123simple-module-objs := simple_module.oobj-m := simple-module.o In this Makefile $(-objs) lists all objects used to link the final executable, obj-m means loadable module goals, it will generate a standalone .ko file, then we can use insmod to install it. If change it to obj-y, it will be compiled into kernel. Test this module1234567891011# clear debug message firstdmesg -c# see modules already installedlsmod# install simple moduleinsmod simple-module.ko# check debug messagedmesg# remove simple modulermmod simple-module.kodmesg What are module_init/exit and __init/exitmodule_init and module_exit are macros to help register module init and exit functions. Use your F12, go to definition: 123#define __define_initcall(fn, id) \\ static initcall_t __initcall_##fn##id __used \\ __attribute__((__section__(\".initcall\" #id \".init\"))) = fn; fn is your function name, id stand for priority, for module_init, this level will be set as 6. After using this marco, your init function will be called when do_initcalls was called(init/main.c) 1234567static void __init do_initcalls(void)&#123; int level; for (level = 0; level &lt; ARRAY_SIZE(initcall_levels) - 1; level++) do_initcall_level(level);&#125; as for marco __init , It tells the compiler to put this function in a special section, which is declared in vmlinux.lds. __init puts the function in the ‚Äú.init.text‚Äù section. Take a look at where it defined(/linux-4.9/include/linux/init.h): 123456789101112131415161718/* These macros are used to mark some functions or * initialized data (doesn't apply to uninitialized data) * as `initialization' functions. The kernel can take this * as hint that the function is used only during the initialization * phase and free up used memory resources after*/ /* These are for everybody (although not all archs will actually discard it in modules) */#define __init __section(.init.text)#define __initdata __section(.init.data)#define __exitdata __section(.exit.data)#define __exit_call __used __section(.exitcall.exit)#ifdef MODULE#define __exit __section(.exit.text)#else#define __exit __used __section(.exit.text)#endif As we can see in comment, if you use __init to mark it, memory will be released after initialization. A I2C moduleThis simple module is useless, let‚Äôs take a look at a more useful one: linux/drivers/iio/light/st_uvis25_i2c.c 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869/* * STMicroelectronics uvis25 i2c driver * * Copyright 2017 STMicroelectronics Inc. * * Lorenzo Bianconi &lt;lorenzo.bianconi83@gmail.com&gt; * * Licensed under the GPL-2. */#include &lt;linux/kernel.h&gt;#include &lt;linux/module.h&gt;#include &lt;linux/acpi.h&gt;#include &lt;linux/i2c.h&gt;#include &lt;linux/slab.h&gt;#include &lt;linux/regmap.h&gt;#include \"st_uvis25.h\"#define UVIS25_I2C_AUTO_INCREMENT BIT(7)static const struct regmap_config st_uvis25_i2c_regmap_config = &#123; .reg_bits = 8, .val_bits = 8, .write_flag_mask = UVIS25_I2C_AUTO_INCREMENT, .read_flag_mask = UVIS25_I2C_AUTO_INCREMENT,&#125;;static int st_uvis25_i2c_probe(struct i2c_client *client, const struct i2c_device_id *id)&#123; struct regmap *regmap; regmap = devm_regmap_init_i2c(client, &amp;st_uvis25_i2c_regmap_config); if (IS_ERR(regmap)) &#123; dev_err(&amp;client-&gt;dev, \"Failed to register i2c regmap %d\\n\", (int)PTR_ERR(regmap)); return PTR_ERR(regmap); &#125; return st_uvis25_probe(&amp;client-&gt;dev, client-&gt;irq, regmap);&#125;static const struct of_device_id st_uvis25_i2c_of_match[] = &#123; &#123; .compatible = \"st,uvis25\", &#125;, &#123;&#125;,&#125;;MODULE_DEVICE_TABLE(of, st_uvis25_i2c_of_match);static const struct i2c_device_id st_uvis25_i2c_id_table[] = &#123; &#123; ST_UVIS25_DEV_NAME &#125;, &#123;&#125;,&#125;;MODULE_DEVICE_TABLE(i2c, st_uvis25_i2c_id_table);static struct i2c_driver st_uvis25_driver = &#123; .driver = &#123; .name = \"st_uvis25_i2c\", .pm = &amp;st_uvis25_pm_ops, .of_match_table = of_match_ptr(st_uvis25_i2c_of_match), &#125;, .probe = st_uvis25_i2c_probe, .id_table = st_uvis25_i2c_id_table,&#125;;module_i2c_driver(st_uvis25_driver);MODULE_AUTHOR(\"Lorenzo Bianconi &lt;lorenzo.bianconi83@gmail.com&gt;\");MODULE_DESCRIPTION(\"STMicroelectronics uvis25 i2c driver\");MODULE_LICENSE(\"GPL v2\"); What are module_i2c_driver and MODULE_DEVICE_TABLELike module_init we mentioned, they are marcos as well. Use your holy F12: 1234567891011/** * module_i2c_driver() - Helper macro for registering a modular I2C driver * @__i2c_driver: i2c_driver struct * * Helper macro for I2C drivers which do not do anything special in module * init/exit. This eliminates a lot of boilerplate. Each module may only * use this macro once, and calling it replaces module_init() and module_exit() */#define module_i2c_driver(__i2c_driver) \\ module_driver(__i2c_driver, i2c_add_driver, \\ i2c_del_driver) As for module_driver, marco AGAIN: 12345678910111213141516171819202122232425/** * module_driver() - Helper macro for drivers that don't do anything * special in module init/exit. This eliminates a lot of boilerplate. * Each module may only use this macro once, and calling it replaces * module_init() and module_exit(). * * @__driver: driver name * @__register: register function for this driver type * @__unregister: unregister function for this driver type * @...: Additional arguments to be passed to __register and __unregister. * * Use this macro to construct bus specific macros for registering * drivers, and do not use it on its own. */#define module_driver(__driver, __register, __unregister, ...) \\static int __init __driver##_init(void) \\&#123; \\ return __register(&amp;(__driver) , ##__VA_ARGS__); \\&#125; \\module_init(__driver##_init); \\static void __exit __driver##_exit(void) \\&#123; \\ __unregister(&amp;(__driver) , ##__VA_ARGS__); \\&#125; \\module_exit(__driver##_exit); As you can see, those marcos actually are encapsulations of module_init/exit. And for MODULE_DEVICE_TABLE, it‚Äôs just help to create an alias, if there is any nodes in dts has the same compatible with your drivers, probe function will be called.As a driver writer, you have no idea how will user enumerate it(By of or i2c), so provide both of them is necessary. 12345678#ifdef MODULE/* Creates an alias so file2alias.c can find device table. */#define MODULE_DEVICE_TABLE(type, name) \\extern typeof(name) __mod_##type##__##name##_device_table \\ __attribute__ ((unused, alias(__stringify(name))))#else /* !MODULE */#define MODULE_DEVICE_TABLE(type, name)#endif regmap etc. will be discussed in Part II. To be continued‚Ä¶","categories":[{"name":"ÁºñÁ®ãÁõ∏ÂÖ≥","slug":"ÁºñÁ®ãÁõ∏ÂÖ≥","permalink":"https://lzqblog.top/categories/%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/"}],"tags":[{"name":"Linux","slug":"Linux","permalink":"https://lzqblog.top/tags/Linux/"}]},{"title":"Markdown frequently used syntax","slug":"Markdown-frequently-used-syntax","date":"2018-11-24T02:55:05.000Z","updated":"2018-11-29T11:02:29.000Z","comments":true,"path":"2018-11-24/Markdown-frequently-used-syntax/","link":"","permalink":"https://lzqblog.top/2018-11-24/Markdown-frequently-used-syntax/","excerpt":"Markdown Â∏∏Áî®ËØ≠Ê≥ïÂ∞èÁªì ÂÜô‰∫ÜËøô‰πà‰πÖÁöÑmd, ÂÅ∂Â∞îËøòÊòØ‰ºöÂøòËÆ∞‰∏Ä‰∫õÁªÜËäÇÔºåÂπ≤ËÑÜÂÜôÁØáÊó•ÂøóÊÄªÁªì‰∏Ä‰∏ãÔºå‰ª•Â§á‰∏çÊó∂‰πãÈúÄ","text":"Markdown Â∏∏Áî®ËØ≠Ê≥ïÂ∞èÁªì ÂÜô‰∫ÜËøô‰πà‰πÖÁöÑmd, ÂÅ∂Â∞îËøòÊòØ‰ºöÂøòËÆ∞‰∏Ä‰∫õÁªÜËäÇÔºåÂπ≤ËÑÜÂÜôÁØáÊó•ÂøóÊÄªÁªì‰∏Ä‰∏ãÔºå‰ª•Â§á‰∏çÊó∂‰πãÈúÄ Highlight(Á™ÅÂá∫ÊòæÁ§∫) Item How to use Preview Bold(Âä†Á≤ó) **Bold Text** Bold Text Italic(Êñú‰Ωì) *Italic Text* Italic Text Strike Through(Âà†Èô§Á∫ø) ~~Strike Through Text~~ Strike Through Text Font Color(Â≠ó‰ΩìÈ¢úËâ≤) &lt;span style=&quot;color:red&quot;&gt;Red Text&lt;/span&gt; Red Text MarkdownÊú¨Ë∫´‰∏çÊîØÊåÅÊõ¥ÊîπÂ≠ó‰ΩìÈ¢úËâ≤Ôºå‰ΩÜÊòØÊîØÊåÅÊèíÂÖ•HTML, ‰∏äÈù¢ÁöÑ&lt;span&gt;ÂÖ∂ÂÆûÊòØHTMLÁöÑÊ†áÁ≠æ„ÄÇ Â¶ÇÊûúËøòÊúâÂÖ∂‰ªñÂ•áÂ•áÊÄ™ÊÄ™ÁöÑË¶ÅÊ±Ç(Â¶ÇÊõ¥ÊîπÂ≠ó‰ΩìÔºåÊõ¥ÊîπÂ§ßÂ∞èÔºåËÆæÁΩÆÊåáÈíàÊ†∑Âºè)Ôºå‰πüÂèØ‰ª•‰ΩøÁî®&lt;span&gt;ÂÆûÁé∞: 1&lt;span style=\"color:blue;font-family:Impact;font-style:italic;cursor:crosshair;font-size:30px\"&gt;Impact font blue italic 30px with crosshair pointer&lt;/span&gt; ÊïàÊûúÂ¶Ç‰∏ãÔºàÈº†Ê†áÁßªÂà∞‰∏äÈù¢ËØïËØïÔºâÔºö Impact font blue italic 30px with crosshair pointer Table(Ë°®Ê†º)Markdown ÊîØÊåÅÊèíÂÖ•ÁÆÄÂçïÁöÑË°®Ê†º: 1234| Default | left aligned | right aligned | mid aligned || --------- | :----------- | ------------: | :---------: || short | short | short | short || long text | long text | long text | long text | ÊïàÊûúÂ¶Ç‰∏ãÔºö Default left aligned right aligned mid aligned short short short short long text long text long text long text Ë°®Ê†ºÂÜÖÂÆπÁöÑÂØπÈΩêÊñπÂºèÂèØ‰ª•ÈÄöËøáÊõ¥Êîπ‚Äù&minus;&minus;&minus;‚ÄùËøõË°åË∞ÉÊï¥Ôºö 1234----- //ÈªòËÆ§ÔºåÊ†áÈ¢òÂ±Ö‰∏≠ÔºåÂÜÖÂÆπÂ∑¶ÂØπÈΩê:---- //Ê†áÈ¢òÂíåÂÜÖÂÆπÈÉΩÂ∑¶ÂØπÈΩê-----: //Ê†áÈ¢òÂíåÂÜÖÂÆπÈÉΩÂè≥ÂØπÈΩê:----: //Ê†áÈ¢òÂíåÂÜÖÂÆπÈÉΩÂ±Ö‰∏≠ÂØπÈΩê Insert image or super link(ÂõæÁâáÂíåË∂ÖÈìæÊé•)ÂõæÁâá ‰ΩøÁî®![Background Text](image_path ‚ÄòTitle‚Äô)ÂèØ‰ª•ÊèíÂÖ•ÂõæÁâá, ÂÖ∂‰∏≠: Background Text: ÊòæÁ§∫Âú®ÂõæÁâá‰∏ãÂ±ÇÁöÑÊñáÂ≠óÔºå‰πüÂ∞±ÊòØËØ¥Â¶ÇÊûúÂõæÁâáÊòæÁ§∫Ê≠£Â∏∏ÁöÑËØù‰∏ÄËà¨‰ºöË¢´Êå°‰ΩèÁúã‰∏çËßÅ image_path: ÂõæÂÉèÊ∫êÊñá‰ª∂ÁöÑË∑ØÂæÑ„ÄÇÂèØ‰ª•ÊòØÁΩëÁªúÈìæÊé•Ôºå‰πüÂèØ‰ª•ÊòØÊú¨Âú∞Ë∑ØÂæÑ Title: ÊòæÁ§∫Âú®ÂõæÁâá‰∏ãÊñπÁöÑÊ†áÈ¢ò Â¶ÇÔºö 1![](Markdown-frequently-used-syntax/IMG_20170621_154100.jpg 'Flying Spirit') Ë∂ÖÈìæÊé•‰ΩøÁî®[Suerp_Link](url)ÁöÑÊñπÂºèÊèíÂÖ•Ë∂ÖÈìæÊé•, ÂÖ∂‰∏≠: Suerp_Link: Ë∂ÖÈìæÊé•ÊòæÁ§∫ÁöÑÊñáÊú¨ url: ÊåáÂêëÁöÑÈìæÊé• Â¶Ç: 1[‰∏Ä‰ΩçÁ®ãÂ∫èÂëòÔºåÊØîËæÉÂ∏ÖÁöÑÈÇ£Áßç](https://www.lzqblog.top) ‰∏Ä‰ΩçÁ®ãÂ∫èÂëòÔºåÊØîËæÉÂ∏ÖÁöÑÈÇ£Áßç Check boxMarkdown‰πüÊîØÊåÅÂ∏¶check boxÁöÑÊ†∑ÂºèÔºåÁî®Êà∑ÂèØ‰ª•ÈÄöËøáÂçïÂáªÊù•Ê°ÜÈÄâÔºå‰ΩÜÊòØËøôÁßçÊ†∑ÂºèÂú®ÈùôÊÄÅÈ°µÈù¢‰∏≠Ê≤°‰ªÄ‰πàÁî® 123- [x] item1- [ ] item2- [x] item3 item1 item2 item3 Flow(ÊµÅÁ®ãÂõæ)Markdown ÁîöËá≥ÊîØÊåÅÁõ¥Êé•ÁîªÊµÅÁ®ãÂõæ Ë¶ÅÂàõÂª∫ÊµÅÁ®ãÂõæÂè™ÈúÄ‰∏§Ê≠•Ôºö1.Â£∞ÊòéÂÖÉÁ¥† 2.ËøûÊé•ÂÖÉÁ¥†‰∏Ä‰∏™ÁÆÄÂçïÁöÑ‰æãÂ≠êÔºö ```flowflowst=&gt;start: Main Start:&gt;www.lzqblog.topinput=&gt;inputoutput: input aop=&gt;operation: a‚Äìsb=&gt;subroutine: a = a!cond=&gt;condition: a &gt; 100?output=&gt;inputoutput: print ae=&gt;endst-&gt;input-&gt;op-&gt;condcond(no,right)-&gt;sb(right)-&gt;output(right)-&gt;opcond(yes,down)-&gt;e```ÊïàÊûúÂ¶Ç‰∏ãÔºö ÊµÅÁ®ãÂõæÁöÑÂü∫Êú¨ËØ≠Ê≥ïÂ£∞ÊòéÂÖÉÁ¥†: tag=&gt;type: content:&gt;url tag ‰∏∫Ê†áÁ≠æÔºåÂú®ËøûÊé•ÂÖÉÁ¥†ÁöÑÊó∂ÂÄô‰ºöÁî®Âà∞type‰∏∫ÂÖÉÁ¥†Á±ªÂûãÔºåÂ∏∏Áî®ÁöÑÊúâ start condition operation inputoutput subroutine endÂá†Áßçcontent ‰∏∫ÊòæÁ§∫Âú®ÂÖÉÁ¥†‰∏≠ÁöÑÂÜÖÂÆπurl‰∏∫ÂèØÊ∑ªÂä†ÁöÑË∂ÖÈìæÊé• ËøûÊé•ÂÖÉÁ¥†ÔºöÂØπ‰∫éÈùûÊù°‰ª∂ÂÖÉÁ¥†:tag1-&gt;tag2ÈªòËÆ§ÁöÑÁÆ≠Â§¥ÊñπÂêëÊòØÂêë‰∏ã(down)Ôºå‰πüÂèØ‰ª•ÊåáÂÆöÁÆ≠Â§¥ÊñπÂêëÔºötag1(right)-&gt;tag2ÂØπ‰∫éÊù°‰ª∂ÂÖÉÁ¥†(condition)ÔºåÂ§ö‰∫Ü‰∏Ä‰∏™yes or noÂèÇÊï∞:condition_tag(no,right)-&gt;tag2condition_tag(yes,down)-&gt;tag2 Ê≥®Ôºö hexoÈªòËÆ§‰∏çÊîØÊåÅMarkdownÊµÅÁ®ãÂõæÔºåË¶ÅÂú®hexo‰∏äÊòæÁ§∫ÊµÅÁ®ãÂõæÈúÄË¶ÅÂÆâË£Öhexo-filter-flowchart 1npm install --save hexo-filter-flowchart Â∏∏Áî®ÁöÑÂ∑Æ‰∏çÂ§öÂ∞±Ëøô‰∫õÔºåÊúâÊÉ≥Âà∞ÁöÑ‰ª•ÂêéÂÜçË°•ÂÖÖÂêß flow st=>start: Main Start:>http://www.lzqblog.top input=>inputoutput: input a op=>operation: a-- sb=>subroutine: a = a! cond=>condition: a > 100? output=>inputoutput: print a e=>end st->input->op->cond cond(no,right)->sb(right)->output(right)->op cond(yes,down)->e{\"scale\":1,\"line-width\":2,\"line-length\":50,\"text-margin\":10,\"font-size\":12} var code = document.getElementById(\"flowchart-0-code\").value; var options = JSON.parse(decodeURIComponent(document.getElementById(\"flowchart-0-options\").value)); var diagram = flowchart.parse(code); diagram.drawSVG(\"flowchart-0\", options);","categories":[{"name":"Èöè‰æøÂÜôÂÜô","slug":"Èöè‰æøÂÜôÂÜô","permalink":"https://lzqblog.top/categories/%E9%9A%8F%E4%BE%BF%E5%86%99%E5%86%99/"}],"tags":[{"name":"Markdown","slug":"Markdown","permalink":"https://lzqblog.top/tags/Markdown/"}]},{"title":"Linux: ‚Äòadb devices‚Äô can't find devices","slug":"Linux-‚Äòadb-devices‚Äô-can-t-find-devices","date":"2018-11-23T09:51:58.000Z","updated":"2018-11-26T11:26:53.000Z","comments":true,"path":"2018-11-23/Linux-‚Äòadb-devices‚Äô-can-t-find-devices/","link":"","permalink":"https://lzqblog.top/2018-11-23/Linux-%E2%80%98adb-devices%E2%80%99-can-t-find-devices/","excerpt":"A strange issue was found on my Debian PC that adb devices can‚Äôt find any device meanwhile lsusb can find the device I need.","text":"A strange issue was found on my Debian PC that adb devices can‚Äôt find any device meanwhile lsusb can find the device I need. Issue1234$ lsusbBus 002 Device 006: ID 18d1:4e26 Google Inc. $ adb devicesList of devices attached SolutionCopy the first 4 characters of your device ID when you type lsusb (mark it as red): Bus 002 Device 006: ID 18d1:4e26 Google Inc. Add it into file ~/.android/adb_usb.ini or create it if it doesn‚Äôt exist: 1234# ANDROID 3RD PARTY USB VENDOR ID LIST -- DO NOT EDIT.# USE &#39;android update adb&#39; TO GENERATE.# 1 USB VENDOR ID PER LINE.0x18d1 After that, you need to restart your adb server: 12345$ adb kill-server $ adb start-server$ adb devicesList of devices attached0123456789ABCDEF device Now it can be detected by adb devices","categories":[{"name":"ÈóÆÈ¢òËÆ∞ÂΩï","slug":"ÈóÆÈ¢òËÆ∞ÂΩï","permalink":"https://lzqblog.top/categories/%E9%97%AE%E9%A2%98%E8%AE%B0%E5%BD%95/"}],"tags":[{"name":"Linux","slug":"Linux","permalink":"https://lzqblog.top/tags/Linux/"}]},{"title":"Debian: nvidia display card driver install","slug":"Debian-nvidia-display-card-driver-install","date":"2018-11-20T03:01:38.000Z","updated":"2018-11-28T12:01:18.000Z","comments":true,"path":"2018-11-20/Debian-nvidia-display-card-driver-install/","link":"","permalink":"https://lzqblog.top/2018-11-20/Debian-nvidia-display-card-driver-install/","excerpt":"Bumblebee aims to provide support for NVIDIA Optimus laptops for GNU/Linux distributions(Bumblebee porject, Debian wiki). It can help to solve the overheat problem caused by dual dispaly card, also provide a easy way to install nvidia close source driver as well.","text":"Bumblebee aims to provide support for NVIDIA Optimus laptops for GNU/Linux distributions(Bumblebee porject, Debian wiki). It can help to solve the overheat problem caused by dual dispaly card, also provide a easy way to install nvidia close source driver as well. Update your source.listTo install nvidia close source driver, you need to add contrib non-free at every ‚Äúmain‚Äù item in your source.list: 1sudo sed -i.bak 's/stretch[^ ]* main$/&amp; contrib non-free/g' /etc/apt/sources.list This command will help you to do that meanwhile create a .bak file to backup your origin source.list.Don‚Äôt forget to do apt update after that: 1sudo apt update Install BumblebeeIf you have installed nvidia driver before, you should remove them to continue: 1sudo apt-get remove nvidia* Then you can start to install bumblebee now: 1sudo apt install bumblebee-nvidia primus Don‚Äôt worry about nouveau driver, bumblebee will help you to handle it.Then we need to add your user account to bumlebee group: 1sudo adduser $USER bumlebee After that you might need to restart your computer. Application will use your intel card by default. If you want some application use your nvidia card, use 1optirun $(YOURAPP) Verify your driverA easy way to verify this is to use glxspheres. It‚Äôs a part of virtualgl project. glxgears is not recommended because it‚Äôs not a tool for benchmarking.We can use Intel display card to run it first: 1vblank_mode=0 /opt/VirtualGL/bin/glxspheres64 vblank_mode=0 will temporarily disable vertical synchronization. If you don‚Äôt add it, you might only can get 60 fps which is same as your monitor refresh rate. The result I got: Then run it with nvidia card: 1vblank_mode=0 optirun /opt/VirtualGL/bin/glxspheres64 It‚Äôs much faster than Intel card.","categories":[{"name":"Èöè‰æøÂÜôÂÜô","slug":"Èöè‰æøÂÜôÂÜô","permalink":"https://lzqblog.top/categories/%E9%9A%8F%E4%BE%BF%E5%86%99%E5%86%99/"}],"tags":[{"name":"Linux","slug":"Linux","permalink":"https://lzqblog.top/tags/Linux/"}]},{"title":"Issue:No such file or directory","slug":"Issue-No-such-file-or-directory","date":"2018-11-14T02:23:11.000Z","updated":"2018-11-20T11:54:50.000Z","comments":true,"path":"2018-11-14/Issue-No-such-file-or-directory/","link":"","permalink":"https://lzqblog.top/2018-11-14/Issue-No-such-file-or-directory/","excerpt":"Clarify this issueIf you trying to execute a executable binary, but you see this error ‚ÄúNo such file or directory‚Äù, it‚Äôs normally caused by you trying to run a 32-bits binary on a 64-bits OS.","text":"Clarify this issueIf you trying to execute a executable binary, but you see this error ‚ÄúNo such file or directory‚Äù, it‚Äôs normally caused by you trying to run a 32-bits binary on a 64-bits OS. First of all you should check your OS: 1uname -a If you see x86_64, we can make sure you are using a 64-bits OS.Then we should check file type of executable binary: 1file $&#123;THE_EXECUTABLE_BIN&#125; If you see ELF 32-bit LSB executable, Intel 80386, basically we can make sure you are trying to run a 32-bits binary on a 64-bits OS meanwhile your OS haven‚Äôt add i386 architecture yet. How to fix itWe need to add i386 architecture support on your 64-bits OS. 1234sudo dpkg --add-architecture i386sudo apt-get updatesudo apt-get install multiarch-supportsudo apt-get install libc6:i386 libncurses5:i386 libstdc++6:i386 After that, try to run it again :)","categories":[{"name":"ÈóÆÈ¢òËÆ∞ÂΩï","slug":"ÈóÆÈ¢òËÆ∞ÂΩï","permalink":"https://lzqblog.top/categories/%E9%97%AE%E9%A2%98%E8%AE%B0%E5%BD%95/"}],"tags":[{"name":"Linux","slug":"Linux","permalink":"https://lzqblog.top/tags/Linux/"}]},{"title":"Cross compile gRPC for ARM","slug":"Cross-compile-gRPC-for-ARM","date":"2018-11-08T05:04:12.000Z","updated":"2018-11-20T11:54:50.000Z","comments":true,"path":"2018-11-08/Cross-compile-gRPC-for-ARM/","link":"","permalink":"https://lzqblog.top/2018-11-08/Cross-compile-gRPC-for-ARM/","excerpt":"This post will tell you how to cross compile gPRC static lib for ARM. ÂâçÊÆµÊó∂Èó¥Â∞ùËØï‰∫§ÂèâÁºñËØëgRPCÈÅáÂà∞‰∫Ü‰∏çÂ∞ëÁöÑÈ∫ªÁÉ¶ÔºåÂÜôÁØápostËÆ∞ÂΩï‰∏Ä‰∏ã„ÄÇ","text":"This post will tell you how to cross compile gPRC static lib for ARM. ÂâçÊÆµÊó∂Èó¥Â∞ùËØï‰∫§ÂèâÁºñËØëgRPCÈÅáÂà∞‰∫Ü‰∏çÂ∞ëÁöÑÈ∫ªÁÉ¶ÔºåÂÜôÁØápostËÆ∞ÂΩï‰∏Ä‰∏ã„ÄÇ gRPC PreparationFirst of all, you should have gRPC source code. git clone it from github. Then update submodules: 12cd grpcgit submodule update --init Install zlib for your arm compiler[Optional]libz is one of gRPC dependencies. If you haven‚Äôt installed it for your arm compiler yet, you may need to install it. You can get zlib at zlib Home Site. After download and unzip it, set cross compiler and build it: 1234export CC=arm-linux-gnueabihf-gccexport AR=arm-linux-gnueabihf-ar./configuremake -j4 then install it if build succeed: 1make install prefix=/usr/arm-linux-gnueabihf Compile and install protobuf &amp; gRPC for HOSTprotobuf: 1234cd grpc/third_party/protobuf./autogen.sh &amp;&amp; ./configure &amp;&amp; make -j4sudo make install -j4sudo ldconfig gRPC: 12cd ..make -j4 &amp;&amp; sudo make install -j4 &amp;&amp; sudo ldconfig Cross compile static lib for ARMmake plugins first: 12make cleanmake plugins CC=arm-linux-gnueabihf-gcc -j4 Cross compile gRPC: 12345678910export GRPC_CROSS_COMPILE=trueexport GRPC_CROSS_AROPTS=\"cr --target=elf32-little\"make -j4 HAS_PKG_CONFIG=false \\ CC=arm-linux-gnueabihf-gcc \\ CXX=arm-linux-gnueabihf-g++ \\ RANLIB=arm-linux-gnueabihf-ranlib \\ LD=arm-linux-gnueabihf-ld \\ LDXX=arm-linux-gnueabihf-g++ \\ AR=arm-linux-gnueabihf-ar \\ PROTOBUF_CONFIG_OPTS=\"--host=arm-linux-gnueabihf --with-protoc=/usr/local/bin/protoc\" static static is important. I tried to build shared lib but there will be a lot of errors because arm-linux-gnueabihf-ld doesn‚Äôt take ‚Äú-Wl‚Äù as a parameter. If build succeed, you can find your static lib at ‚Äúgrpc/libs/opt‚Äù. reference: https://github.com/grpc/grpc/issues/9719","categories":[{"name":"ÁºñÁ®ãÁõ∏ÂÖ≥","slug":"ÁºñÁ®ãÁõ∏ÂÖ≥","permalink":"https://lzqblog.top/categories/%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/"}],"tags":[{"name":"Linux","slug":"Linux","permalink":"https://lzqblog.top/tags/Linux/"},{"name":"C++","slug":"C","permalink":"https://lzqblog.top/tags/C/"},{"name":"gPRC","slug":"gPRC","permalink":"https://lzqblog.top/tags/gPRC/"}]},{"title":"git commandÂ§áÂøòÂΩï","slug":"git-commandÂ§áÂøòÂΩï","date":"2018-10-21T08:20:36.000Z","updated":"2019-11-23T07:58:57.866Z","comments":true,"path":"2018-10-21/git-commandÂ§áÂøòÂΩï/","link":"","permalink":"https://lzqblog.top/2018-10-21/git-command%E5%A4%87%E5%BF%98%E5%BD%95/","excerpt":"‚Ä¶","text":"‚Ä¶ ÂÖ®Â±ÄÈÖçÁΩÆÁî®Êà∑ÂêçÂíåÈÇÆÁÆ±:12git config --global user.name \"Alex.Li\"git config --global user.email \"Alex.Li@xxxx.com\" sshÂØÜÈí•ÁîüÊàê:1ssh-keygen -t rsa -C \"Alex.Li@xxxx.com\" ÂÇ®Â≠òhttps/httpÊñπÂºèÁî®Êà∑ÂêçÂØÜÁ†Å:1git config --global credential.helper store Ê∑ªÂä†tagÂπ∂Êé®ÈÄÅÂà∞ËøúÁ´Ø:12git tag -a 1.0.0 -m 'add version 1.0.0'git push origin master --tags Êõ¥Êîπ‰∏Ä‰∏™https‰ªìÂ∫ì‰∏∫ssh‰ªìÂ∫ìÔºö.git/config‰∏≠ 1url &#x3D; https:&#x2F;&#x2F;xxxx.com&#x2F;somebody&#x2F;abcdef.git Êîπ‰∏∫ 1url &#x3D; git@gxxxx.com:somebody&#x2F;abcdef.git Âèç‰πãÂàôÂèç Âà†Èô§remotes/origin/{branch}ËøúÁ´ØÂàÜÊîØÂ∑≤ÁªèÂà†Èô§Ôºå ‰ΩÜÊú¨Âú∞‰ªçÂèØËßÅremotes/origin/{branch} 1git remote prune origin repo Êìç‰ΩúÂØπÊØè‰∏™Â≠êrepoËøõË°åÊìç‰Ωú 1repo forall -vc \"git cmd\" i.e. 1repo forall -vc \"git reset --hard\"","categories":[{"name":"Èöè‰æøÂÜôÂÜô","slug":"Èöè‰æøÂÜôÂÜô","permalink":"https://lzqblog.top/categories/%E9%9A%8F%E4%BE%BF%E5%86%99%E5%86%99/"}],"tags":[{"name":"Êó•Âøó","slug":"Êó•Âøó","permalink":"https://lzqblog.top/tags/%E6%97%A5%E5%BF%97/"}]},{"title":"C++ Design Patterns: Singleton","slug":"Cpp-Design-Patterns-Singleton","date":"2018-09-12T08:46:08.000Z","updated":"2018-11-29T02:21:02.000Z","comments":true,"path":"2018-09-12/Cpp-Design-Patterns-Singleton/","link":"","permalink":"https://lzqblog.top/2018-09-12/Cpp-Design-Patterns-Singleton/","excerpt":"Singleton is a widely used design patterns in software engineering. This post will tell you when should we use Singleton and how to design a universal,template based Singleton base class.","text":"Singleton is a widely used design patterns in software engineering. This post will tell you when should we use Singleton and how to design a universal,template based Singleton base class. Why SingletonFor some special cases, we want one class only can be instantiated only once to avoid unexpected behavior, for example threadpool and logger. Threadpool and logger normally should be instantiated when we start the program and it should have the same lifetime as program. So we need to make sure those class will not be instantiated more than once and also should not be destroyed until program end. Differences Between Static Class And SingletonStatic class basically is a bunch of static functions, it‚Äôs not an OOP design. Singleton can implement interfaces and it‚Äôs more OOP like. How To Design A Singleton Base ClassOne of the most important feature of singleton class is non-copyable. To make it non-copyable, delete copy constructor and override operator ‚Äú=‚Äù: 123protected: Singleton(const Singleton&amp;) = delete; Singleton&amp; operator=(const Singleton&amp;) = delete; Another part is singleton‚Äôs constructor and destructor should be private or protected to avoid user call constructor and destructor accidentally. : 123protected: Singleton() = default; virtual ~Singleton() = default; set destructor as virtual because it‚Äôs base class.The only public method is getInstance() which will return static instance of singleton class. An exampleFull source code Singleton.h: 12345678910111213141516171819202122#pragma once#include &lt;memory&gt;namespace BaseClass &#123;template &lt;typename T&gt;class Singleton &#123; public: template &lt;typename... Args&gt; static T&amp; getInstance(Args&amp;&amp;... args) noexcept &#123; static T instance&#123;std::forward&lt;Args&gt;(args)...&#125;; return instance; &#125; protected: Singleton() = default; virtual ~Singleton() = default; Singleton(const Singleton&amp;) = delete; Singleton&amp; operator=(const Singleton&amp;) = delete;&#125;; // class Singleton&#125; // namespace BaseClass In this design, return value of getInstance() is a reference and use template to make it universal. When inherit this class, need to define subclass like this: 1234567891011class MySingleton : public BaseClass::Singleton&lt;MySingleton&gt; &#123; friend class BaseClass::Singleton&lt;MySingleton&gt;; //declare as friend class of Singleton to give authority to base class can access private method public: void foo(); private: MySingleton(); ~MySingleton();&#125;; BasicLogger.h: is also a good example for this.","categories":[{"name":"ÁºñÁ®ãÁõ∏ÂÖ≥","slug":"ÁºñÁ®ãÁõ∏ÂÖ≥","permalink":"https://lzqblog.top/categories/%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/"}],"tags":[{"name":"C++","slug":"C","permalink":"https://lzqblog.top/tags/C/"}]},{"title":"Áé∞Âú®ÊîØÊåÅHTTPSÂï¶","slug":"Áé∞Âú®ÊîØÊåÅHTTPSÂï¶","date":"2018-06-11T06:46:02.000Z","updated":"2018-11-20T11:54:50.000Z","comments":true,"path":"2018-06-11/Áé∞Âú®ÊîØÊåÅHTTPSÂï¶/","link":"","permalink":"https://lzqblog.top/2018-06-11/%E7%8E%B0%E5%9C%A8%E6%94%AF%E6%8C%81HTTPS%E5%95%A6/","excerpt":"","text":"‰ªé‰ªäÂ§©ÂºÄÂßãÔºåÊú¨Á´ôÊîØÊåÅHTTPSËÆøÈóÆÂï¶ÔºÅ","categories":[{"name":"Èöè‰æøÂÜôÂÜô","slug":"Èöè‰æøÂÜôÂÜô","permalink":"https://lzqblog.top/categories/%E9%9A%8F%E4%BE%BF%E5%86%99%E5%86%99/"}],"tags":[{"name":"Êó•Âøó","slug":"Êó•Âøó","permalink":"https://lzqblog.top/tags/%E6%97%A5%E5%BF%97/"}]},{"title":"makefile summarize","slug":"makefile-summarize","date":"2018-06-05T03:02:55.000Z","updated":"2018-11-20T11:54:50.000Z","comments":true,"path":"2018-06-05/makefile-summarize/","link":"","permalink":"https://lzqblog.top/2018-06-05/makefile-summarize/","excerpt":"‚Ä¶","text":"‚Ä¶ Variable Assignment(ÂèòÈáèËµãÂÄº)comparison of ‚Äú=‚Äú, ‚Äú:=‚Äú , ‚Äú?=‚Äú and ‚Äú+=‚Äú‚Äú=‚ÄúVariables defined with ‚Äò=‚Äô are recursively expanded variables. It means that value of this variable will be the last value gived by ‚Äò=‚Äô in makefile. For example: 123a = foob = $(a) abca = oof In this case, the value of b will be oof abc. ‚Äú:=‚ÄúVariables defined with ‚Äò:=‚Äô are simply expanded variables. Just like ‚Äú=‚Äú in other language(C/C++/C#/Java). For example: 123a := foob := $(a) abca := oof In this case, the value of b will be foo abc. ‚Äú?=‚ÄúWe can use ‚Äò?=‚Äô to set a value to a variable only if this variable is not set yet. For example: 1a ?= foo It is similar to: 123ifeq ($(origin a), undefined)a = barendif ‚Äú+=‚Äú‚Äò+=‚Äô is using for appending text. It will appending a space between two text.For example: 12a = firsta += second In this case, the value of a will be first second. Useful Makefile Functions In makefile, functions should be called like this: 1var = $(functionname arg1,arg2,arg3...) wildcardwildcard will help you get specific file name list in a dir.For example: 12SRC_DIR := srcSOURCES := $(wildcard $(SRC_DIR)/*.cpp) In this case, SUORCES will be set like this(if *.cpp exists in SRC_DIR): 1src/a.cpp src/b.cpp src/c.cpp addprefixaddprefix is using for add one value to the front of another value. For example: 1a = $(addsuffix .o,foo bar) a will be set as ‚Äòfoo.o bar.o‚Äò patsubst$(patsubst pattern,replacement,text):Finds whitespace-separated words in text that match pattern and replaces them with replacement(gnu.org)For example: 1a = $(patsubst %.cpp,%.o,a.cpp b.h c.cpp) a will be set as ‚Äòa.o b.h c.o‚Äò notdir$(notdir names‚Ä¶):remove dir in names.For example: 1a = $(notdir src/foo.c src/bar.c) a will be set as ‚Äòfoo.c bar.c‚Äò Using those functions to genreate *.o file and exec files in specific dir12345SRC_DIR:=srcOBJ_DIR:=objOUT_DIR:=outSOURCES:=$(wildcard $(SRC_DIR)/*.cpp)OBJECTS:=$(addprefix $(OBJ_DIR)/,$(patsubst %.cpp,%.o,$(notdir $(SOURCES)))) Phony Targets(‰º™ÁõÆÊ†á)If we have a recipe : 12clean: rm -rf $(OBJ_DIR) $(OUT_DIR) It will works well until one day you add one file called clean. In this case, you need add .PHONY: 123.PHONY:cleanclean: rm -rf $(OBJ_DIR) $(OUT_DIR) If we do this, ‚Äòmake clean‚Äô will run the recipe regardless of whether there is a file named clean.","categories":[{"name":"ÁºñÁ®ãÁõ∏ÂÖ≥","slug":"ÁºñÁ®ãÁõ∏ÂÖ≥","permalink":"https://lzqblog.top/categories/%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/"}],"tags":[{"name":"makefile","slug":"makefile","permalink":"https://lzqblog.top/tags/makefile/"}]},{"title":"make: warning: Clock skew detected","slug":"make-warning-Clock-skew-detected","date":"2018-05-24T05:13:02.000Z","updated":"2018-11-20T11:54:50.000Z","comments":true,"path":"2018-05-24/make-warning-Clock-skew-detected/","link":"","permalink":"https://lzqblog.top/2018-05-24/make-warning-Clock-skew-detected/","excerpt":"Sometimes make will output warning like this: 1make: warning: Clock skew detected. Your build may be incomplete. It was caused by file time-stamps are ahead of clients‚Äô clock.","text":"Sometimes make will output warning like this: 1make: warning: Clock skew detected. Your build may be incomplete. It was caused by file time-stamps are ahead of clients‚Äô clock. It can be fixed by update time-stamps: 1find . -exec touch &#123;&#125; \\; Then make clean and make again","categories":[{"name":"ÁºñÁ®ãÁõ∏ÂÖ≥","slug":"ÁºñÁ®ãÁõ∏ÂÖ≥","permalink":"https://lzqblog.top/categories/%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/"}],"tags":[{"name":"Linux","slug":"Linux","permalink":"https://lzqblog.top/tags/Linux/"},{"name":"Makefile","slug":"Makefile","permalink":"https://lzqblog.top/tags/Makefile/"}]},{"title":"LinuxÈÖçÁΩÆÈªòËÆ§Â£∞Âç°","slug":"LinuxÈÖçÁΩÆÈªòËÆ§Â£∞Âç°","date":"2018-05-02T06:08:54.000Z","updated":"2018-11-20T11:54:50.000Z","comments":true,"path":"2018-05-02/LinuxÈÖçÁΩÆÈªòËÆ§Â£∞Âç°/","link":"","permalink":"https://lzqblog.top/2018-05-02/Linux%E9%85%8D%E7%BD%AE%E9%BB%98%E8%AE%A4%E5%A3%B0%E5%8D%A1/","excerpt":"Ê†ëËéìÊ¥æÂ§öÂ£∞Âç°ÔºåÂ∞ùËØïÈÖçÁΩÆÂ£∞Âç°0‰∏∫ÈªòËÆ§ËæìÂá∫ËÆæÂ§áÔºåÂ£∞Âç°1‰∏∫ÈªòËÆ§ËæìÂÖ•ËÆæÂ§á„ÄÇ","text":"Ê†ëËéìÊ¥æÂ§öÂ£∞Âç°ÔºåÂ∞ùËØïÈÖçÁΩÆÂ£∞Âç°0‰∏∫ÈªòËÆ§ËæìÂá∫ËÆæÂ§áÔºåÂ£∞Âç°1‰∏∫ÈªòËÆ§ËæìÂÖ•ËÆæÂ§á„ÄÇ List all play/record device1234567891011121314pi@raspberrypi:~ $ aplay -l**** List of PLAYBACK Hardware Devices ****card 0: ALSA [bcm2835 ALSA], device 0: bcm2835 ALSA [bcm2835 ALSA] Subdevices: 7/7 Subdevice #0: subdevice #0 Subdevice #1: subdevice #1 Subdevice #2: subdevice #2 Subdevice #3: subdevice #3 Subdevice #4: subdevice #4 Subdevice #5: subdevice #5 Subdevice #6: subdevice #6card 0: ALSA [bcm2835 ALSA], device 1: bcm2835 ALSA [bcm2835 IEC958/HDMI] Subdevices: 1/1 Subdevice #0: subdevice #0 12345pi@raspberrypi:~ $ arecord -l**** List of CAPTURE Hardware Devices ****card 1: Device [USB PnP Sound Device], device 0: USB Audio [USB Audio] Subdevices: 1/1 Subdevice #0: subdevice #0 Set card 0 as playback, card 1 as captureOpen .asoundrc file under $HOME 12cd $HOMEvim .asoundrc Modify .asoundrc: 123456789pcm.!default &#123; type asym playback.pcm &quot;plughw:0,0&quot; capture.pcm &quot;plughw:1,0&quot;&#125;ctl.!default &#123; type hw card 0&#125; *‚Äùplughw:1,0‚Äù* means card 1, device 0 Then save file and reboot","categories":[{"name":"Èöè‰æøÂÜôÂÜô","slug":"Èöè‰æøÂÜôÂÜô","permalink":"https://lzqblog.top/categories/%E9%9A%8F%E4%BE%BF%E5%86%99%E5%86%99/"}],"tags":[{"name":"Linux","slug":"Linux","permalink":"https://lzqblog.top/tags/Linux/"},{"name":"Raspberry Pi","slug":"Raspberry-Pi","permalink":"https://lzqblog.top/tags/Raspberry-Pi/"}]},{"title":"UbuntuÂàáÊç¢pythonÁâàÊú¨","slug":"UbuntuÂàáÊç¢pythonÁâàÊú¨","date":"2018-04-02T03:38:48.000Z","updated":"2018-11-20T11:54:50.000Z","comments":true,"path":"2018-04-02/UbuntuÂàáÊç¢pythonÁâàÊú¨/","link":"","permalink":"https://lzqblog.top/2018-04-02/Ubuntu%E5%88%87%E6%8D%A2python%E7%89%88%E6%9C%AC/","excerpt":"Ubuntu17.10ÈªòËÆ§ÁöÑpython versionÊòØ2.7ÔºåÂ¶ÇÊûúÂÆâË£Ö‰∫Ü3.6ÈªòËÆ§ÁöÑÊâßË°åÁâàÊú¨‰ªçÊòØ2.7„ÄÇÂ¶ÇÊûúÊÉ≥Ë¶ÅÂàáÊç¢python versionÔºåÂèØ‰ª•ÈÄöËøáÈÄâÊã©alternativesÁöÑÊñπÂºèÂàáÊç¢ÁâàÊú¨„ÄÇ","text":"Ubuntu17.10ÈªòËÆ§ÁöÑpython versionÊòØ2.7ÔºåÂ¶ÇÊûúÂÆâË£Ö‰∫Ü3.6ÈªòËÆ§ÁöÑÊâßË°åÁâàÊú¨‰ªçÊòØ2.7„ÄÇÂ¶ÇÊûúÊÉ≥Ë¶ÅÂàáÊç¢python versionÔºåÂèØ‰ª•ÈÄöËøáÈÄâÊã©alternativesÁöÑÊñπÂºèÂàáÊç¢ÁâàÊú¨„ÄÇ Ê£ÄÊü•ÂΩìÂâçÂÆâË£ÖÁöÑpythonÁâàÊú¨ ‰πãÂâçÈÅáÂà∞‰∏Ä‰∏™Â•áÊÄ™ÁöÑÁé∞Ë±°ÔºåUbuntuÁ™ÅÁÑ∂‰∏çËÉΩ‰ΩøÁî®python ‚ÄìversionÊ£ÄÊü•ÁâàÊú¨: 1234The program 'python' can be found in the following packages: * python-minimal * python3Try: apt install &lt;selected package&gt; ‰ΩøÁî®sudo apt install python3Âêé‰æùÁÑ∂Âá∫Áé∞‰∏äËø∞ÈóÆÈ¢ò„ÄÇËß£ÂÜ≥ÂäûÊ≥ïÔºö 1sudo apt install python-minimal ‰πãÂêéÂèØ‰ª•‰ΩøÁî®python ‚ÄìversionÂæóÂà∞ÁõÆÂâçÁ≥ªÁªüÈªòËÆ§ÁöÑÁâàÊú¨‰∏∫2.7.14. ÂàáÊç¢pythonÁâàÊú¨È¶ñÂÖà‰ΩøÁî®‰∏ãÈù¢ÁöÑÂëΩ‰ª§Ê£ÄÊü•ÂΩìÂâçÊòØÂê¶‰∏∫pythonËÆæÁΩÆ‰∫ÜalternativesÔºö 1update-alternatives --list python Â¶ÇÊûúËæìÂá∫: 1update-alternatives: error: no alternatives for python ÂàôÈúÄË¶ÅÊâãÂä®Ê∑ªÂä†alternatives„ÄÇÂ¶ÇÊûúÊàë‰ª¨Ë¶ÅÂàáÊç¢ÁâàÊú¨Âà∞python3.xÔºåÈ¶ñÂÖàÊàë‰ª¨Ë¶Å‰ΩøÁî®whereisÂæóÂà∞python3ÁöÑÂÆâË£Ö‰ΩçÁΩÆÔºö 1whereis python3 ‰ªéËæìÂá∫ÂèØ‰ª•ÁúãÂà∞ÔºåÂΩìÂâçÂÆâË£Ö‰∫ÜÂ§ö‰∏™ÁâàÊú¨ÁöÑpython3ÔºåÂÆâË£Ö‰ΩçÁΩÆÈÉΩÂú®/usr/bin/python3.xÔºö 1python3: /usr/bin/python3.6m /usr/bin/python3 /usr/bin/python3.6 /usr/lib/python3.7 /usr/lib/python3 /usr/lib/python3.6 /etc/python3 /etc/python3.6 /usr/local/lib/python3.6 /usr/include/python3.6m /usr/share/python3 /usr/share/man/man1/python3.1.gz Âú®Áü•ÈÅìpythonÂÆâË£Ö‰ΩçÁΩÆÂêéÂ∞±ÂèØ‰ª•Ê∑ªÂä†alternatives,‰ª•python3.6‰∏∫‰æãÔºö 12sudo update-alternatives --install /usr/bin/python python /usr/bin/python3.6 2#the last \"2\" stand for priority level ÂÖ∂‰∏≠ÊúÄÂêéÁöÑ‚Äù2‚ÄùË°®Á§∫‰ºòÂÖàÁ∫ß‰∏∫2„ÄÇÂêåÁêÜÔºåÊàë‰ª¨‰πüÂèØ‰ª•ÊääÂÖ∂‰ªñÁâàÊú¨ÁöÑpythonÂä†ÂÖ•alternatives: 1sudo update-alternatives --install /usr/bin/python python /usr/bin/python2.7 1 Áé∞Âú®‰ΩøÁî®update-alternatives ‚Äìconfig pythonÂ∞±ÂèØ‰ª•ÁúãÂà∞ÂΩìÂâçpythonÊâÄÊúâÁöÑalternativesÂπ∂ËøõË°åÁâàÊú¨ÂàáÊç¢Ôºö 123456789There are 2 choices for the alternative python (providing /usr/bin/python). Selection Path Priority Status------------------------------------------------------------ 0 /usr/bin/python3.6 2 auto mode* 1 /usr/bin/python2.7 1 manual mode 2 /usr/bin/python3.6 2 manual modePress &lt;enter&gt; to keep the current choice[*], or type selection number: ËæìÂÖ•Selection numberÂ∞±ÂèØ‰ª•ÂàáÊç¢ÁâàÊú¨Âï¶ÔºÅ","categories":[{"name":"ÁºñÁ®ãÁõ∏ÂÖ≥","slug":"ÁºñÁ®ãÁõ∏ÂÖ≥","permalink":"https://lzqblog.top/categories/%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/"}],"tags":[{"name":"Linux","slug":"Linux","permalink":"https://lzqblog.top/tags/Linux/"},{"name":"python","slug":"python","permalink":"https://lzqblog.top/tags/python/"}]},{"title":"Jenkins+Gerrit: Ëá™Âä®commit//code review//submit","slug":"Jenkins-Gerrit-Ëá™Âä®commit-code-review-submit","date":"2018-03-20T05:08:29.000Z","updated":"2019-06-28T12:17:06.853Z","comments":true,"path":"2018-03-20/Jenkins-Gerrit-Ëá™Âä®commit-code-review-submit/","link":"","permalink":"https://lzqblog.top/2018-03-20/Jenkins-Gerrit-%E8%87%AA%E5%8A%A8commit-code-review-submit/","excerpt":"Jenkins+GerritÁöÑ‰∏ÄËà¨Â∑•‰ΩúÊ®°ÂºèÔºöuser commit code to Gerrit-&gt;Jenkins test build success-&gt;other user code review +2-&gt;user submit-&gt;Jenkins release build-&gt;release SW. Êàë‰πãÂâçÂÜô‰∫Ü‰∏™release notes generator, Âú®Jenasdkins server‰∏ärelease buildÁöÑÊó∂ÂÄôÔºå ÂèØ‰ª•Ëá™Âä®ÁîüÊàêrelease notesÂπ∂ÊâìÂåÖÂπ∂ÂèëÁªôÂºÄÂèëËÄÖ„ÄÇ‰ΩÜÊòØËøô‰∏™release notesÂú®‰∏ã‰∏ÄÊ¨°buildÁöÑÊó∂ÂÄô‰ºöÂõ†‰∏∫workspaceÁöÑÊ∏ÖÁ©∫ËÄåË¢´Âà†Èô§ÔºåÂõ†Ê≠§Â∏åÊúõJenkinsËÉΩÂ§üÂ∞Ürelease notes commitÂà∞GerritÂπ∂‰øùÁïô‰∏ãÊù•ÔºåÊúÄÂêéÂÜçËá™Âä®‰∏ä‰º†Âà∞sharepoint‰∏ä„ÄÇÂÆûÁé∞‰∏äËø∞ËøáÁ®ãÂêéÔºåËá™Âä®ÂåñÊûÑÂª∫ÁöÑËá™Âä®ÂåñÁ®ãÂ∫¶‰ºöÊõ¥È´ò‰∏ÄÁÇπÔºåÂºÄÂèëËÄÖÂè™ÈúÄÂú®Jenkins‰∏äpress a button, releaseÂ∞±Ëá™Âä®ÂÆåÊàê‰∫Ü„ÄÇ","text":"Jenkins+GerritÁöÑ‰∏ÄËà¨Â∑•‰ΩúÊ®°ÂºèÔºöuser commit code to Gerrit-&gt;Jenkins test build success-&gt;other user code review +2-&gt;user submit-&gt;Jenkins release build-&gt;release SW. Êàë‰πãÂâçÂÜô‰∫Ü‰∏™release notes generator, Âú®Jenasdkins server‰∏ärelease buildÁöÑÊó∂ÂÄôÔºå ÂèØ‰ª•Ëá™Âä®ÁîüÊàêrelease notesÂπ∂ÊâìÂåÖÂπ∂ÂèëÁªôÂºÄÂèëËÄÖ„ÄÇ‰ΩÜÊòØËøô‰∏™release notesÂú®‰∏ã‰∏ÄÊ¨°buildÁöÑÊó∂ÂÄô‰ºöÂõ†‰∏∫workspaceÁöÑÊ∏ÖÁ©∫ËÄåË¢´Âà†Èô§ÔºåÂõ†Ê≠§Â∏åÊúõJenkinsËÉΩÂ§üÂ∞Ürelease notes commitÂà∞GerritÂπ∂‰øùÁïô‰∏ãÊù•ÔºåÊúÄÂêéÂÜçËá™Âä®‰∏ä‰º†Âà∞sharepoint‰∏ä„ÄÇÂÆûÁé∞‰∏äËø∞ËøáÁ®ãÂêéÔºåËá™Âä®ÂåñÊûÑÂª∫ÁöÑËá™Âä®ÂåñÁ®ãÂ∫¶‰ºöÊõ¥È´ò‰∏ÄÁÇπÔºåÂºÄÂèëËÄÖÂè™ÈúÄÂú®Jenkins‰∏äpress a button, releaseÂ∞±Ëá™Âä®ÂÆåÊàê‰∫Ü„ÄÇ Êñ∞Âª∫branch ÈÄöÂ∏∏Gerrit trigger jenkins buildÁöÑÊó∂ÂÄô, jenkins Âè™‰ºöÊäìÂèñÊüê‰∏ÄÊ¨°commitÔºåËøô‰ºöÂØºËá¥ÊäìÂèñÁöÑcode‰∏çÂú®‰ªª‰Ωï‰∏Ä‰∏™branch‰∏ä„ÄÇÊ≠§Êó∂ÈúÄË¶ÅÊñ∞Âª∫‰∏Ä‰∏™‰∏¥Êó∂ÁöÑbranchÔºåÊâçËÉΩÂú®ÂêéÈù¢ËøõË°åpush: 12git branch \"jenkins_temp\"git checkout jenkins_temp JenkinsÊ£ÄÊµãÊîπÂä®Âπ∂Êèê‰∫§ È¶ñÂÖàÈúÄË¶ÅÊ£ÄÊµãÊñá‰ª∂ÊîπÂä®,‰ª•‰∏Ä‰∏™Âêç‰∏∫test.txtÁöÑÊñá‰ª∂‰∏∫‰æãÔºö 123456if [ \"$(git diff test.txt)\" != \"\" ]; then#if file has been modfied, do somethingecho \"Release_Notes.xlsx has been modfied\"elseecho \"Release_Notes.xlsx hasn't been modfied\"fi Staged changesÂπ∂commit: 123git add test.txt#if have two files: git add test1.txt text2.txtgit commit -m \"jenkins update test.txt Âè¶ÔºöÂ¶ÇÊûúÊèê‰∫§Êó∂Ê≤°ÊúâÁîüÊàêcommit id, ÂèØ‰ª•ÈÄöËøágit hooksÂÆûÁé∞Ëá™Âä®Ê∑ªÂä†commit id„ÄÇ Push changes ÁÑ∂ÂêéÈúÄË¶ÅÊääÊîπÂä®PushÂà∞gitËøúÁ´Ø„ÄÇ‰πãÂâçÂú®Jenkins server‰∏äÈÖçÁΩÆËøágit ssh keyÔºåÂõ†Ê≠§ÊàëÂèØ‰ª•Âú®server‰∏äÁõ¥Êé•push changesËÄå‰∏ç‰ºöÊä•Èîô„ÄÇ‰ΩÜÊòØÂ¶ÇÊûúÂú®Jenkins execute shell‰∏≠ÊâßË°åËÑöÊú¨‰ºöÈÅáÂà∞Permission deniedÁöÑÈóÆÈ¢òÔºåÂõ†‰∏∫execute shellÁöÑËøêË°åÁéØÂ¢ÉÊòØÁã¨Á´ãÁöÑÔºåÂπ∂Ê≤°ÊúâÈÖçÁΩÆËøássh key„ÄÇËøôÊó∂ÂèØ‰ª•ÈÄöËøá‰∏¥Êó∂Ê∑ªÂä†keyÁöÑÊñπÂºèËøõË°åpushÔºö 12ssh-agent sh -c 'ssh-add C:/Users/jenkins1/.ssh/id_rsa; git push originjenkins_temp:refs/for/master' verified,code review,submit ÈÄöÂ∏∏Êù•ËÆ≤ÔºåPushÂà∞git remoteÁöÑcommitÈÉΩÈúÄË¶ÅÈÄöËøátest build,Â¶ÇÊûúÊàêÂäüÔºåÂ∞Ü‰ºöÁî±jenkins verified +1„ÄÇÂè™ÂêéÂÜçÈÄöËøáÂÖ∂‰ªñ‰∫∫code review, Âú®code review +2ÂêéÊâçËÉΩsubmitÔºå‰πüÂ∞±ÊòØÁúüÊ≠£ÂêàÂπ∂Âà∞remote branch‰∏ä„ÄÇÁî±‰∫éjenkinsÂè™Êõ¥Êîπ‰∫Ürelase notesËøôÁßçÈùû‰ª£Á†ÅÊñá‰ª∂ÔºåÊàë‰ª¨Â∏åÊúõjenkinsËÉΩÂ§üËá™Âä®Â∞ÜchangesÂêàÂπ∂Âà∞remote branch‰∏ä„ÄÇËøôÈáåÂ∞±ÈúÄË¶ÅÈÄöËøáshellÊìç‰ΩúGerrit„ÄÇ‰ªéGerritÂÆòÊñπÊñáÊ°£‰∏äÔºåÊàë‰ª¨ÂèØ‰ª•ÊâæÂà∞‰∏Ä‰∫õÂèØ‰ª•ÈÄöËøásshËøûÊé•ÂÆåÊàêÁöÑÊìç‰ΩúÔºåÂåÖÊã¨verified,code review,submitÁ≠âÁ≠â„ÄÇÊ≥®ÊÑèÔºåËøôÈáåÂêåÊ†∑ÈúÄË¶ÅÊåáÂÆössh keyÔºåÂê¶ÂàôPermission denied„ÄÇ 123ssh -i C:/Users/jenkins1/.ssh/id_rsa -p 29418 jenkins1@sw.domian.com gerrit review --verified +1 \"$(git rev-parse --short HEAD)\"ssh -i C:/Users/jenkins1/.ssh/id_rsa -p 29418 jenkins1@sw.domian.com gerrit review --code-review +2 \"$(git rev-parse --short HEAD)\"ssh -i C:/Users/jenkins1/.ssh/id_rsa -p 29418 jenkins1@sw.domian.com gerrit review -s \"$(git rev-parse --short HEAD)\" Ëá≥Ê≠§ÔºåjenkinsÂÆåÊàê‰∫ÜËá™Âä®ÊûÑÂª∫„ÄÇÂÖ∂‰ªñÂèØËÉΩÊúâÁî®ÁöÑgit command:git Ëé∑ÂèñÂΩìÂâçbranch name 1git symbolic-ref --short -q HEAD git Ëé∑Âèñ‰∏ä‰∏ÄÊ¨°Êèê‰∫§ÁöÑcommit id 1234#shortgit rev-parse --short HEAD#longgit rev-parse HEAD","categories":[{"name":"CI","slug":"CI","permalink":"https://lzqblog.top/categories/CI/"}],"tags":[{"name":"shell","slug":"shell","permalink":"https://lzqblog.top/tags/shell/"},{"name":"Continuous integration","slug":"Continuous-integration","permalink":"https://lzqblog.top/tags/Continuous-integration/"}]},{"title":"ËΩ¨ËΩΩÔºöÂ∏∏Áî®ÁöÑÊ≠£ÂàôË°®ËææÂºè","slug":"ËΩ¨ËΩΩÔºöÂ∏∏Áî®ÁöÑÊ≠£ÂàôË°®ËææÂºè","date":"2018-03-12T00:39:28.000Z","updated":"2018-11-20T11:54:50.000Z","comments":true,"path":"2018-03-12/ËΩ¨ËΩΩÔºöÂ∏∏Áî®ÁöÑÊ≠£ÂàôË°®ËææÂºè/","link":"","permalink":"https://lzqblog.top/2018-03-12/%E8%BD%AC%E8%BD%BD%EF%BC%9A%E5%B8%B8%E7%94%A8%E7%9A%84%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/","excerpt":"ÂéüÊñáÂú∞ÂùÄ","text":"ÂéüÊñáÂú∞ÂùÄ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667‰∏Ä„ÄÅÊ†°È™åÊï∞Â≠óÁöÑË°®ËææÂºè 1 Êï∞Â≠óÔºö^[0-9]*$ 2 n‰ΩçÁöÑÊï∞Â≠óÔºö^\\d&#123;n&#125;$ 3 Ëá≥Â∞ën‰ΩçÁöÑÊï∞Â≠óÔºö^\\d&#123;n,&#125;$ 4 m-n‰ΩçÁöÑÊï∞Â≠óÔºö^\\d&#123;m,n&#125;$ 5 Èõ∂ÂíåÈùûÈõ∂ÂºÄÂ§¥ÁöÑÊï∞Â≠óÔºö^(0|[1-9][0-9]*)$ 6 ÈùûÈõ∂ÂºÄÂ§¥ÁöÑÊúÄÂ§öÂ∏¶‰∏§‰ΩçÂ∞èÊï∞ÁöÑÊï∞Â≠óÔºö^([1-9][0-9]*)+(.[0-9]&#123;1,2&#125;)?$ 7 Â∏¶1-2‰ΩçÂ∞èÊï∞ÁöÑÊ≠£Êï∞ÊàñË¥üÊï∞Ôºö^(\\-)?\\d+(\\.\\d&#123;1,2&#125;)?$ 8 Ê≠£Êï∞„ÄÅË¥üÊï∞„ÄÅÂíåÂ∞èÊï∞Ôºö^(\\-|\\+)?\\d+(\\.\\d+)?$ 9 Êúâ‰∏§‰ΩçÂ∞èÊï∞ÁöÑÊ≠£ÂÆûÊï∞Ôºö^[0-9]+(.[0-9]&#123;2&#125;)?$10 Êúâ1~3‰ΩçÂ∞èÊï∞ÁöÑÊ≠£ÂÆûÊï∞Ôºö^[0-9]+(.[0-9]&#123;1,3&#125;)?$11 ÈùûÈõ∂ÁöÑÊ≠£Êï¥Êï∞Ôºö^[1-9]\\d*$ Êàñ ^([1-9][0-9]*)&#123;1,3&#125;$ Êàñ ^\\+?[1-9][0-9]*$12 ÈùûÈõ∂ÁöÑË¥üÊï¥Êï∞Ôºö^\\-[1-9][]0-9\"*$ Êàñ ^-[1-9]\\d*$13 ÈùûË¥üÊï¥Êï∞Ôºö^\\d+$ Êàñ ^[1-9]\\d*|0$14 ÈùûÊ≠£Êï¥Êï∞Ôºö^-[1-9]\\d*|0$ Êàñ ^((-\\d+)|(0+))$15 ÈùûË¥üÊµÆÁÇπÊï∞Ôºö^\\d+(\\.\\d+)?$ Êàñ ^[1-9]\\d*\\.\\d*|0\\.\\d*[1-9]\\d*|0?\\.0+|0$16 ÈùûÊ≠£ÊµÆÁÇπÊï∞Ôºö^((-\\d+(\\.\\d+)?)|(0+(\\.0+)?))$ Êàñ ^(-([1-9]\\d*\\.\\d*|0\\.\\d*[1-9]\\d*))|0?\\.0+|0$17 Ê≠£ÊµÆÁÇπÊï∞Ôºö^[1-9]\\d*\\.\\d*|0\\.\\d*[1-9]\\d*$ Êàñ ^(([0-9]+\\.[0-9]*[1-9][0-9]*)|([0-9]*[1-9][0-9]*\\.[0-9]+)|([0-9]*[1-9][0-9]*))$18 Ë¥üÊµÆÁÇπÊï∞Ôºö^-([1-9]\\d*\\.\\d*|0\\.\\d*[1-9]\\d*)$ Êàñ ^(-(([0-9]+\\.[0-9]*[1-9][0-9]*)|([0-9]*[1-9][0-9]*\\.[0-9]+)|([0-9]*[1-9][0-9]*)))$19 ÊµÆÁÇπÊï∞Ôºö^(-?\\d+)(\\.\\d+)?$ Êàñ ^-?([1-9]\\d*\\.\\d*|0\\.\\d*[1-9]\\d*|0?\\.0+|0)$‰∫å„ÄÅÊ†°È™åÂ≠óÁ¨¶ÁöÑË°®ËææÂºè 1 Ê±âÂ≠óÔºö^[\\u4e00-\\u9fa5]&#123;0,&#125;$ 2 Ëã±ÊñáÂíåÊï∞Â≠óÔºö^[A-Za-z0-9]+$ Êàñ ^[A-Za-z0-9]&#123;4,40&#125;$ 3 ÈïøÂ∫¶‰∏∫3-20ÁöÑÊâÄÊúâÂ≠óÁ¨¶Ôºö^.&#123;3,20&#125;$ 4 Áî±26‰∏™Ëã±ÊñáÂ≠óÊØçÁªÑÊàêÁöÑÂ≠óÁ¨¶‰∏≤Ôºö^[A-Za-z]+$ 5 Áî±26‰∏™Â§ßÂÜôËã±ÊñáÂ≠óÊØçÁªÑÊàêÁöÑÂ≠óÁ¨¶‰∏≤Ôºö^[A-Z]+$ 6 Áî±26‰∏™Â∞èÂÜôËã±ÊñáÂ≠óÊØçÁªÑÊàêÁöÑÂ≠óÁ¨¶‰∏≤Ôºö^[a-z]+$ 7 Áî±Êï∞Â≠óÂíå26‰∏™Ëã±ÊñáÂ≠óÊØçÁªÑÊàêÁöÑÂ≠óÁ¨¶‰∏≤Ôºö^[A-Za-z0-9]+$ 8 Áî±Êï∞Â≠ó„ÄÅ26‰∏™Ëã±ÊñáÂ≠óÊØçÊàñËÄÖ‰∏ãÂàíÁ∫øÁªÑÊàêÁöÑÂ≠óÁ¨¶‰∏≤Ôºö^\\w+$ Êàñ ^\\w&#123;3,20&#125;$ 9 ‰∏≠Êñá„ÄÅËã±Êñá„ÄÅÊï∞Â≠óÂåÖÊã¨‰∏ãÂàíÁ∫øÔºö^[\\u4E00-\\u9FA5A-Za-z0-9_]+$10 ‰∏≠Êñá„ÄÅËã±Êñá„ÄÅÊï∞Â≠ó‰ΩÜ‰∏çÂåÖÊã¨‰∏ãÂàíÁ∫øÁ≠âÁ¨¶Âè∑Ôºö^[\\u4E00-\\u9FA5A-Za-z0-9]+$ Êàñ ^[\\u4E00-\\u9FA5A-Za-z0-9]&#123;2,20&#125;$11 ÂèØ‰ª•ËæìÂÖ•Âê´Êúâ^%&amp;',;=?$\\\"Á≠âÂ≠óÁ¨¶Ôºö[^%&amp;',;=?$\\x22]+12 Á¶ÅÊ≠¢ËæìÂÖ•Âê´Êúâ~ÁöÑÂ≠óÁ¨¶Ôºö[^~\\x22]+‰∏â„ÄÅÁâπÊÆäÈúÄÊ±ÇË°®ËææÂºè 1 EmailÂú∞ÂùÄÔºö^\\w+([-+.]\\w+)*@\\w+([-.]\\w+)*\\.\\w+([-.]\\w+)*$ 2 ÂüüÂêçÔºö[a-zA-Z0-9][-a-zA-Z0-9]&#123;0,62&#125;(/.[a-zA-Z0-9][-a-zA-Z0-9]&#123;0,62&#125;)+/.? 3 InternetURLÔºö[a-zA-z]+://[^\\s]* Êàñ ^http://([\\w-]+\\.)+[\\w-]+(/[\\w-./?%&amp;=]*)?$ 4 ÊâãÊú∫Âè∑Á†ÅÔºö^(13[0-9]|14[5|7]|15[0|1|2|3|5|6|7|8|9]|18[0|1|2|3|5|6|7|8|9])\\d&#123;8&#125;$ 5 ÁîµËØùÂè∑Á†Å(\"XXX-XXXXXXX\"„ÄÅ\"XXXX-XXXXXXXX\"„ÄÅ\"XXX-XXXXXXX\"„ÄÅ\"XXX-XXXXXXXX\"„ÄÅ\"XXXXXXX\"Âíå\"XXXXXXXX)Ôºö^(\\(\\d&#123;3,4&#125;-)|\\d&#123;3.4&#125;-)?\\d&#123;7,8&#125;$ 6 ÂõΩÂÜÖÁîµËØùÂè∑Á†Å(0511-4405222„ÄÅ021-87888822)Ôºö\\d&#123;3&#125;-\\d&#123;8&#125;|\\d&#123;4&#125;-\\d&#123;7&#125; 7 Ë∫´‰ªΩËØÅÂè∑(15‰Ωç„ÄÅ18‰ΩçÊï∞Â≠ó)Ôºö^\\d&#123;15&#125;|\\d&#123;18&#125;$ 8 Áü≠Ë∫´‰ªΩËØÅÂè∑Á†Å(Êï∞Â≠ó„ÄÅÂ≠óÊØçxÁªìÂ∞æ)Ôºö^([0-9])&#123;7,18&#125;(x|X)?$ Êàñ ^\\d&#123;8,18&#125;|[0-9x]&#123;8,18&#125;|[0-9X]&#123;8,18&#125;?$ 9 Â∏êÂè∑ÊòØÂê¶ÂêàÊ≥ï(Â≠óÊØçÂºÄÂ§¥ÔºåÂÖÅËÆ∏5-16Â≠óËäÇÔºåÂÖÅËÆ∏Â≠óÊØçÊï∞Â≠ó‰∏ãÂàíÁ∫ø)Ôºö^[a-zA-Z][a-zA-Z0-9_]&#123;4,15&#125;$10 ÂØÜÁ†Å(‰ª•Â≠óÊØçÂºÄÂ§¥ÔºåÈïøÂ∫¶Âú®6~18‰πãÈó¥ÔºåÂè™ËÉΩÂåÖÂê´Â≠óÊØç„ÄÅÊï∞Â≠óÂíå‰∏ãÂàíÁ∫ø)Ôºö^[a-zA-Z]\\w&#123;5,17&#125;$11 Âº∫ÂØÜÁ†Å(ÂøÖÈ°ªÂåÖÂê´Â§ßÂ∞èÂÜôÂ≠óÊØçÂíåÊï∞Â≠óÁöÑÁªÑÂêàÔºå‰∏çËÉΩ‰ΩøÁî®ÁâπÊÆäÂ≠óÁ¨¶ÔºåÈïøÂ∫¶Âú®8-10‰πãÈó¥)Ôºö^(?=.*\\d)(?=.*[a-z])(?=.*[A-Z]).&#123;8,10&#125;$ 12 Êó•ÊúüÊ†ºÂºèÔºö^\\d&#123;4&#125;-\\d&#123;1,2&#125;-\\d&#123;1,2&#125;13 ‰∏ÄÂπ¥ÁöÑ12‰∏™Êúà(01ÔΩû09Âíå1ÔΩû12)Ôºö^(0?[1-9]|1[0-2])$14 ‰∏Ä‰∏™ÊúàÁöÑ31Â§©(01ÔΩû09Âíå1ÔΩû31)Ôºö^((0?[1-9])|((1|2)[0-9])|30|31)$ 15 Èí±ÁöÑËæìÂÖ•Ê†ºÂºèÔºö16 1.ÊúâÂõõÁßçÈí±ÁöÑË°®Á§∫ÂΩ¢ÂºèÊàë‰ª¨ÂèØ‰ª•Êé•Âèó:\"10000.00\" Âíå \"10,000.00\", ÂíåÊ≤°Êúâ \"ÂàÜ\" ÁöÑ \"10000\" Âíå \"10,000\"Ôºö^[1-9][0-9]*$ 17 2.ËøôË°®Á§∫‰ªªÊÑè‰∏Ä‰∏™‰∏ç‰ª•0ÂºÄÂ§¥ÁöÑÊï∞Â≠ó,‰ΩÜÊòØ,Ëøô‰πüÊÑèÂë≥ÁùÄ‰∏Ä‰∏™Â≠óÁ¨¶\"0\"‰∏çÈÄöËøá,ÊâÄ‰ª•Êàë‰ª¨ÈááÁî®‰∏ãÈù¢ÁöÑÂΩ¢ÂºèÔºö^(0|[1-9][0-9]*)$ 18 3.‰∏Ä‰∏™0ÊàñËÄÖ‰∏Ä‰∏™‰∏ç‰ª•0ÂºÄÂ§¥ÁöÑÊï∞Â≠ó.Êàë‰ª¨ËøòÂèØ‰ª•ÂÖÅËÆ∏ÂºÄÂ§¥Êúâ‰∏Ä‰∏™Ë¥üÂè∑Ôºö^(0|-?[1-9][0-9]*)$ 19 4.ËøôË°®Á§∫‰∏Ä‰∏™0ÊàñËÄÖ‰∏Ä‰∏™ÂèØËÉΩ‰∏∫Ë¥üÁöÑÂºÄÂ§¥‰∏ç‰∏∫0ÁöÑÊï∞Â≠ó.ËÆ©Áî®Êà∑‰ª•0ÂºÄÂ§¥Â•Ω‰∫Ü.ÊääË¥üÂè∑ÁöÑ‰πüÂéªÊéâ,Âõ†‰∏∫Èí±ÊÄª‰∏çËÉΩÊòØË¥üÁöÑÂêß.‰∏ãÈù¢Êàë‰ª¨Ë¶ÅÂä†ÁöÑÊòØËØ¥ÊòéÂèØËÉΩÁöÑÂ∞èÊï∞ÈÉ®ÂàÜÔºö^[0-9]+(.[0-9]+)?$ 20 5.ÂøÖÈ°ªËØ¥ÊòéÁöÑÊòØ,Â∞èÊï∞ÁÇπÂêéÈù¢Ëá≥Â∞ëÂ∫îËØ•Êúâ1‰ΩçÊï∞,ÊâÄ‰ª•\"10.\"ÊòØ‰∏çÈÄöËøáÁöÑ,‰ΩÜÊòØ \"10\" Âíå \"10.2\" ÊòØÈÄöËøáÁöÑÔºö^[0-9]+(.[0-9]&#123;2&#125;)?$ 21 6.ËøôÊ†∑Êàë‰ª¨ËßÑÂÆöÂ∞èÊï∞ÁÇπÂêéÈù¢ÂøÖÈ°ªÊúâ‰∏§‰Ωç,Â¶ÇÊûú‰Ω†ËÆ§‰∏∫Â§™ËãõÂàª‰∫Ü,ÂèØ‰ª•ËøôÊ†∑Ôºö^[0-9]+(.[0-9]&#123;1,2&#125;)?$ 22 7.ËøôÊ†∑Â∞±ÂÖÅËÆ∏Áî®Êà∑Âè™ÂÜô‰∏Ä‰ΩçÂ∞èÊï∞.‰∏ãÈù¢Êàë‰ª¨ËØ•ËÄÉËôëÊï∞Â≠ó‰∏≠ÁöÑÈÄóÂè∑‰∫Ü,Êàë‰ª¨ÂèØ‰ª•ËøôÊ†∑Ôºö^[0-9]&#123;1,3&#125;(,[0-9]&#123;3&#125;)*(.[0-9]&#123;1,2&#125;)?$ 23 8.1Âà∞3‰∏™Êï∞Â≠ó,ÂêéÈù¢Ë∑üÁùÄ‰ªªÊÑè‰∏™ ÈÄóÂè∑+3‰∏™Êï∞Â≠ó,ÈÄóÂè∑Êàê‰∏∫ÂèØÈÄâ,ËÄå‰∏çÊòØÂøÖÈ°ªÔºö^([0-9]+|[0-9]&#123;1,3&#125;(,[0-9]&#123;3&#125;)*)(.[0-9]&#123;1,2&#125;)?$ 24 Â§áÊ≥®ÔºöËøôÂ∞±ÊòØÊúÄÁªàÁªìÊûú‰∫Ü,Âà´Âøò‰∫Ü\"+\"ÂèØ‰ª•Áî®\"*\"Êõø‰ª£Â¶ÇÊûú‰Ω†ËßâÂæóÁ©∫Â≠óÁ¨¶‰∏≤‰πüÂèØ‰ª•Êé•ÂèóÁöÑËØù(Â•áÊÄ™,‰∏∫‰ªÄ‰πà?)ÊúÄÂêé,Âà´Âøò‰∫ÜÂú®Áî®ÂáΩÊï∞Êó∂ÂéªÊéâÂéªÊéâÈÇ£‰∏™ÂèçÊñúÊù†,‰∏ÄËà¨ÁöÑÈîôËØØÈÉΩÂú®ËøôÈáå25 xmlÊñá‰ª∂Ôºö^([a-zA-Z]+-?)+[a-zA-Z0-9]+\\\\.[x|X][m|M][l|L]$26 ‰∏≠ÊñáÂ≠óÁ¨¶ÁöÑÊ≠£ÂàôË°®ËææÂºèÔºö[\\u4e00-\\u9fa5]27 ÂèåÂ≠óËäÇÂ≠óÁ¨¶Ôºö[^\\x00-\\xff] (ÂåÖÊã¨Ê±âÂ≠óÂú®ÂÜÖÔºåÂèØ‰ª•Áî®Êù•ËÆ°ÁÆóÂ≠óÁ¨¶‰∏≤ÁöÑÈïøÂ∫¶(‰∏Ä‰∏™ÂèåÂ≠óËäÇÂ≠óÁ¨¶ÈïøÂ∫¶ËÆ°2ÔºåASCIIÂ≠óÁ¨¶ËÆ°1))28 Á©∫ÁôΩË°åÁöÑÊ≠£ÂàôË°®ËææÂºèÔºö\\n\\s*\\r (ÂèØ‰ª•Áî®Êù•Âà†Èô§Á©∫ÁôΩË°å)29 HTMLÊ†áËÆ∞ÁöÑÊ≠£ÂàôË°®ËææÂºèÔºö&lt;(\\S*?)[^&gt;]*&gt;.*?&lt;/\\1&gt;|&lt;.*? /&gt; (ÁΩë‰∏äÊµÅ‰º†ÁöÑÁâàÊú¨Â§™Á≥üÁ≥ïÔºå‰∏äÈù¢Ëøô‰∏™‰πü‰ªÖ‰ªÖËÉΩÈÉ®ÂàÜÔºåÂØπ‰∫éÂ§çÊùÇÁöÑÂµåÂ•óÊ†áËÆ∞‰æùÊóßÊó†ËÉΩ‰∏∫Âäõ)30 È¶ñÂ∞æÁ©∫ÁôΩÂ≠óÁ¨¶ÁöÑÊ≠£ÂàôË°®ËææÂºèÔºö^\\s*|\\s*$Êàñ(^\\s*)|(\\s*$) (ÂèØ‰ª•Áî®Êù•Âà†Èô§Ë°åÈ¶ñË°åÂ∞æÁöÑÁ©∫ÁôΩÂ≠óÁ¨¶(ÂåÖÊã¨Á©∫Ê†º„ÄÅÂà∂Ë°®Á¨¶„ÄÅÊç¢È°µÁ¨¶Á≠âÁ≠â)ÔºåÈùûÂ∏∏ÊúâÁî®ÁöÑË°®ËææÂºè)31 ËÖæËÆØQQÂè∑Ôºö[1-9][0-9]&#123;4,&#125; (ËÖæËÆØQQÂè∑‰ªé10000ÂºÄÂßã)32 ‰∏≠ÂõΩÈÇÆÊîøÁºñÁ†ÅÔºö[1-9]\\d&#123;5&#125;(?!\\d) (‰∏≠ÂõΩÈÇÆÊîøÁºñÁ†Å‰∏∫6‰ΩçÊï∞Â≠ó)33 IPÂú∞ÂùÄÔºö\\d+\\.\\d+\\.\\d+\\.\\d+ (ÊèêÂèñIPÂú∞ÂùÄÊó∂ÊúâÁî®)","categories":[{"name":"ÁºñÁ®ãÁõ∏ÂÖ≥","slug":"ÁºñÁ®ãÁõ∏ÂÖ≥","permalink":"https://lzqblog.top/categories/%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/"}],"tags":[{"name":"C#","slug":"C","permalink":"https://lzqblog.top/tags/C/"},{"name":"ËΩ¨ËΩΩ","slug":"ËΩ¨ËΩΩ","permalink":"https://lzqblog.top/tags/%E8%BD%AC%E8%BD%BD/"}]},{"title":"Â∏∏Áî®ÂëΩ‰ª§Ë°åÂ≠óÁ¨¶‰∏≤Êìç‰ΩúÊåá‰ª§","slug":"Â∏∏Áî®ÂëΩ‰ª§Ë°åÂ≠óÁ¨¶‰∏≤Êìç‰ΩúÊåá‰ª§","date":"2018-02-09T07:42:29.000Z","updated":"2018-11-20T11:54:50.000Z","comments":true,"path":"2018-02-09/Â∏∏Áî®ÂëΩ‰ª§Ë°åÂ≠óÁ¨¶‰∏≤Êìç‰ΩúÊåá‰ª§/","link":"","permalink":"https://lzqblog.top/2018-02-09/%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E8%A1%8C%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%93%8D%E4%BD%9C%E6%8C%87%E4%BB%A4/","excerpt":"‰∏çÂÆöÊúüÊõ¥Êñ∞„ÄÇ„ÄÇ","text":"‰∏çÂÆöÊúüÊõ¥Êñ∞„ÄÇ„ÄÇ WindowsÂú®ÊåáÂÆöÊñá‰ª∂‰∏≠Êü•ÊâæÂ≠óÁ¨¶‰∏≤Ôºö 1findstr \"#define BUILD_VERSION\" main.c Â∞ÜÊüêÊù°Êåá‰ª§ËøîÂõûÂÄºÁöÑÁ¨¨‰∏ÄË°åÂ≠òÂú®‰∏Ä‰∏™Âêç‰∏∫tempÁöÑÂèòÈáè‰∏≠Ôºö 1for /f \"delims=\" %%1 in ('findstr \"#define BUILD_VERSION\" main.c')do set temp=%%1 Â∞Ütemp‰∏≠‚ÄùBUILD_VERSION ‚ÄúÂ∑¶‰æßÂ≠óÁ¨¶ÊõøÊç¢‰∏∫Á©∫Â≠óÁ¨¶‰∏≤ÔºåÁÑ∂Âêé‰øùÁïôÂà∞version‰∏≠Ôºö 1set \"version=%temp:*BUILD_VERSION =%\" LinuxÂú®ÊåáÂÆöÊñá‰ª∂‰∏≠Êü•ÊâæÂ≠óÁ¨¶‰∏≤Ôºö 1grep \"#define BUILD_VERSION\" main.c Â∞ÜÊüêÊù°Êåá‰ª§ËøîÂõûÂÄºÁöÑÁ¨¨‰∏ÄË°åÂ≠òÂú®‰∏Ä‰∏™Âêç‰∏∫tempÁöÑÂèòÈáè‰∏≠Ôºö 1temp=$(grep \"#define BUILD_VERSION\" main.c) Â∞Ütemp‰∏≠‚ÄùBUILD_VERSION ‚ÄúÂ∑¶‰æßÂ≠óÁ¨¶ÊõøÊç¢‰∏∫Á©∫Â≠óÁ¨¶‰∏≤ÔºåÁÑ∂Âêé‰øùÁïôÂà∞version‰∏≠(‰ªéÂ∑¶Âà∞Âè≥ÈùûË¥™Â©™ÂåπÈÖç‰ΩøÁî®#,‰ªéÂè≥Âà∞Â∑¶ÈùûË¥™Â©™ÂåπÈÖç‰ΩøÁî®%)Ôºö 1version=$&#123;temp#*BUILD_VERSION &#125; 3/19/2018Êõ¥Êñ∞ÔºöÂà§Êñ≠Â≠óÁ¨¶‰∏≤ÂèòÈáèsw_versionÁöÑÈïøÂ∫¶Ôºö 123if [ \"$&#123;#sw_version&#125;\" = \"5\" ]; thenfi ËØªÂèñÊñá‰ª∂Êüê‰∏ÄË°åÔºö 1cat url.txt|sed -n '1p'","categories":[{"name":"Èöè‰æøÂÜôÂÜô","slug":"Èöè‰æøÂÜôÂÜô","permalink":"https://lzqblog.top/categories/%E9%9A%8F%E4%BE%BF%E5%86%99%E5%86%99/"}],"tags":[{"name":"Êó•Âøó","slug":"Êó•Âøó","permalink":"https://lzqblog.top/tags/%E6%97%A5%E5%BF%97/"}]},{"title":"Âú®Windows‰∏ãÂÆâË£ÖgpuÁâàÁöÑTensorFlow","slug":"Âú®Windows‰∏ãÂÆâË£ÖgpuÁâàÁöÑTensorFlow","date":"2018-01-23T09:25:51.000Z","updated":"2018-11-20T11:54:50.000Z","comments":true,"path":"2018-01-23/Âú®Windows‰∏ãÂÆâË£ÖgpuÁâàÁöÑTensorFlow/","link":"","permalink":"https://lzqblog.top/2018-01-23/%E5%9C%A8Windows%E4%B8%8B%E5%AE%89%E8%A3%85gpu%E7%89%88%E7%9A%84TensorFlow/","excerpt":"‰ΩøÁî®ÈùûgpuÁâàÊú¨ÁöÑTensorFlowËøõË°åËÆ≠ÁªÉÂÆûÂú®ÊòØÂ§™ÊÖ¢‰∫ÜÔºå‰∫éÊòØÂ∞ùËØïÂú®Windows‰∏ãÂÆâË£ÖgpuÁâàÊú¨ÁöÑTensorFlowÔºåÂÜôÁØáÊó•ÂøóËÆ∞ÂΩï‰∏Ä‰∏ã„ÄÇ","text":"‰ΩøÁî®ÈùûgpuÁâàÊú¨ÁöÑTensorFlowËøõË°åËÆ≠ÁªÉÂÆûÂú®ÊòØÂ§™ÊÖ¢‰∫ÜÔºå‰∫éÊòØÂ∞ùËØïÂú®Windows‰∏ãÂÆâË£ÖgpuÁâàÊú¨ÁöÑTensorFlowÔºåÂÜôÁØáÊó•ÂøóËÆ∞ÂΩï‰∏Ä‰∏ã„ÄÇ Â∑•‰ΩúÁéØÂ¢É OSÔºöWin10 Python:3.5(ÁõÆÂâçTensorFlow‰ªç‰∏çÊîØÊåÅ3.6) ÂÆâË£ÖCUDA È¶ñÂÖàÁ°ÆÂÆöÊÉ≥Ë¶ÅÂÆâË£ÖÁöÑTensorFlowÁâàÊú¨ÈúÄË¶ÅÂì™‰∏™ÁâàÊú¨ÁöÑCUDAÊîØÊåÅ„ÄÇÊàëËøôÈáåÂÆâË£ÖÁöÑTFÁâàÊú¨ÊòØ1.5.0ÔºåÈúÄË¶ÅCUDA 9.0ÁöÑÊîØÊåÅ„ÄÇ ‰∏ãËΩΩÂπ∂ÂÆâË£ÖCUDA ÂâçÂæÄdeveloper.nvidia.com‰∏ãËΩΩCUDA 9.0„ÄÇ‰∏ÄÁõ¥‰∏ã‰∏ÄÊ≠•Â∞±Ë°å„ÄÇ ÂÆåÊàê‰πãÂêéÈ™åËØÅ‰∏Ä‰∏ãÊòØÂê¶Â∑≤ÁªèÊ≠£Á°ÆÂÆâË£ÖÔºåËøêË°åcmdÔºö 1nvcc -V Â¶ÇÊûúÊ≠£Á°ÆÂÆâË£ÖÔºåÂ∞Ü‰ºöÊòæÁ§∫ÁâàÊú¨‰ø°ÊÅØÔºö 12345C:\\Windows\\system32&gt;nvcc -Vnvcc: NVIDIA (R) Cuda compiler driverCopyright (c) 2005-2017 NVIDIA CorporationBuilt on Fri_Sep__1_21:08:32_Central_Daylight_Time_2017Cuda compilation tools, release 9.0, V9.0.176 ÂÆâË£ÖCUDNN ÂêåÊ†∑ÈúÄË¶ÅÁ°ÆËÆ§ÈúÄË¶ÅÂì™‰∏™ÁâàÊú¨ÁöÑCUDNN„ÄÇÊàëËøôÈáåÈúÄË¶ÅCUDNN 9.0„ÄÇÂâçÂæÄdeveloper.nvidia.com‰∏ãËΩΩÊåáÂÆöÁâàÊú¨Ôºå‰∏ãËΩΩÂÆåÊàêÊòØ‰∏Ä‰∏™ÂéãÁº©ÂåÖÔºåËß£ÂéãÂà∞C:\\Program Files\\NVIDIA GPU Computing Toolkit\\CUDA\\v9.0 ÂÆâË£ÖTensorFlow1pip install tensorflow-gpu==1.5.0 Ê≠§Â§Ñ‰ΩøÁî®==ÊåáÂÆöÁâàÊú¨„ÄÇÂè¶Â§ñÂèØ‰ª•Âú®pypi.python.orgÊü•ËØ¢Âà∞Êüê‰∏™ÂåÖÁöÑÁâàÊú¨‰ø°ÊÅØ„ÄÇ ÊµãËØï1python 123456import tensorflow as tftf.__version__sess = tf.Session()a = tf.constant(20)b = tf.constant(99)print(sess.run(a + b)) ËøêË°åÁªìÊûúÔºö 1234567891011121314151617C:\\Windows\\system32&gt;pythonPython 3.5.4 (v3.5.4:3f56838, Aug 8 2017, 02:17:05) [MSC v.1900 64 bit (AMD64)] on win32Type \"help\", \"copyright\", \"credits\" or \"license\" for more information.&gt;&gt;&gt; import tensorflow as tf&gt;&gt;&gt; tf.__version__'1.5.0'&gt;&gt;&gt; sess = tf.Session()2018-02-05 10:21:19.674014: I C:\\tf_jenkins\\workspace\\rel-win\\M\\windows-gpu\\PY\\35\\tensorflow\\core\\platform\\cpu_feature_guard.cc:137] Your CPU supports instructions that this TensorFlow binary was not compiled to use: AVX AVX22018-02-05 10:21:20.177086: I C:\\tf_jenkins\\workspace\\rel-win\\M\\windows-gpu\\PY\\35\\tensorflow\\core\\common_runtime\\gpu\\gpu_device.cc:1105] Found device 0 with properties:name: GeForce 940MX major: 5 minor: 0 memoryClockRate(GHz): 1.2415pciBusID: 0000:02:00.0totalMemory: 2.00GiB freeMemory: 1.66GiB2018-02-05 10:21:20.177537: I C:\\tf_jenkins\\workspace\\rel-win\\M\\windows-gpu\\PY\\35\\tensorflow\\core\\common_runtime\\gpu\\gpu_device.cc:1195] Creating TensorFlow device (/device:GPU:0) -&gt; (device: 0, name: GeForce 940MX, pci bus id: 0000:02:00.0, compute capability: 5.0)&gt;&gt;&gt; a = tf.constant(20)&gt;&gt;&gt; b = tf.constant(99)&gt;&gt;&gt; print(sess.run(a + b))119 Â¶Ç‰ΩïÊõ¥Êñ∞1pip install --upgrade tensorflow-gpu","categories":[{"name":"Êú∫Âô®Â≠¶‰π†","slug":"Êú∫Âô®Â≠¶‰π†","permalink":"https://lzqblog.top/categories/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/"}],"tags":[{"name":"Machine Learning","slug":"Machine-Learning","permalink":"https://lzqblog.top/tags/Machine-Learning/"},{"name":"TensorFlow","slug":"TensorFlow","permalink":"https://lzqblog.top/tags/TensorFlow/"}]},{"title":"‰ΩøÁî®TensorFlowËÆ≠ÁªÉËá™Â∑±ÁöÑËØ≠Èü≥ËØÜÂà´AI","slug":"‰ΩøÁî®TensorFlowËÆ≠ÁªÉËá™Â∑±ÁöÑËØ≠Èü≥ËØÜÂà´AI","date":"2018-01-11T06:53:04.000Z","updated":"2018-11-28T12:01:18.000Z","comments":true,"path":"2018-01-11/‰ΩøÁî®TensorFlowËÆ≠ÁªÉËá™Â∑±ÁöÑËØ≠Èü≥ËØÜÂà´AI/","link":"","permalink":"https://lzqblog.top/2018-01-11/%E4%BD%BF%E7%94%A8TensorFlow%E8%AE%AD%E7%BB%83%E8%87%AA%E5%B7%B1%E7%9A%84%E8%AF%AD%E9%9F%B3%E8%AF%86%E5%88%ABAI/","excerpt":"ËøôÊ¨°Êù•ËÆ≠ÁªÉ‰∏Ä‰∏™Âü∫‰∫éCNNÁöÑËØ≠Èü≥ËØÜÂà´Ê®°Âûã„ÄÇËÆ≠ÁªÉÂÆåÊàêÂêéÔºåÊàë‰ª¨Â∞ÜÂ∞ùËØïÂ∞ÜÊ≠§Ê®°ÂûãÁî®‰∫éHotword detection„ÄÇ","text":"ËøôÊ¨°Êù•ËÆ≠ÁªÉ‰∏Ä‰∏™Âü∫‰∫éCNNÁöÑËØ≠Èü≥ËØÜÂà´Ê®°Âûã„ÄÇËÆ≠ÁªÉÂÆåÊàêÂêéÔºåÊàë‰ª¨Â∞ÜÂ∞ùËØïÂ∞ÜÊ≠§Ê®°ÂûãÁî®‰∫éHotword detection„ÄÇ ‰∫∫Á±ªÊòØÊÄéÊ†∑Âê¨ÊáÇ‰∏ÄÂè•ËØùÁöÑÂë¢Ôºü‰ª•Ê±âËØ≠‰∏∫‰æãÔºåÂΩìÂê¨Âà∞‚Äúwo shi‚ÄùÁöÑÂΩïÈü≥Êó∂ÔºåÊàë‰ª¨‰ºöÊÉ≥ÔºåÊúâÂì™‰∏§‰∏™Â≠óÊòØËØª‰Ωú‚Äúwo shi‚ÄùÁöÑÔºåÊúâ‰∫∫ÊÉ≥Âà∞ÁöÑÊòØ‚ÄúÊàëÊòØ‚ÄùÔºå‰πüÊúâ‰∫∫ËßâÂæóÊòØ‚ÄúÊàëÂ∏Ç‚Äù„ÄÇÊàë‰ª¨ÂèØ‰ª•ÈÄöËøá‚Äùwo shi‚ÄùÁöÑÈ¢ëÁéáÁöÑÁâπÂæÅÔºåÂåπÈÖçÂà∞‰∏Ä‰∫õÁªìÊûúÔºåÊàë‰ª¨ËøôÊ¨°Ë¶ÅËÆ≠ÁªÉÁöÑÊ®°ÂûãÔºå‰πüÊòØÂü∫‰∫éÈ¢ëÁéáÁâπÂæÅÁöÑCNNÊ®°Âûã„ÄÇÂçïÁ∫ØÁöÑÂü∫‰∫éÈ¢ëÁéáÁâπÂæÅÁöÑËØÜÂà´ÊúâÂæàÂ§ßÁöÑÂ±ÄÈôêÊÄßÔºåÊØîÂ¶ÇÂâçÈù¢ÊèêÂà∞ÁöÑ‰æãÂ≠êÔºåÂÖâÊòØÂê¨Âà∞‚Äúwo shi‚ÄùÂèØËÉΩ‰ºöÂØºËá¥‰∫ßÁîüÊ≠ß‰πâÔºå‰ΩÜÊòØÂ¶ÇÊûúËÉΩÊúâ‰∏ä‰∏ãÊñáÔºåÊàë‰ª¨Â∞±ÂèØ‰ª•Â§ßÂ§ßÊèêÈ´ò‚ÄúËØÜÂà´‚ÄùÁöÑÊàêÂäüÁéá„ÄÇÂõ†Ê≠§ÔºåÁ±ª‰ººGoogle AssistantÈÇ£Ê†∑ÁöÑËØÜÂà´Ôºå‰∏çÂÖâÊòØËÄÉËôëÂà∞Â≠óËØçÁöÑÂèëÈü≥ÔºåËøòËÅîÁ≥ª‰∫ÜËØ≠‰πâÔºåÂ∞±ÁÆóÊúâ‰∏Ä‰∏§‰∏™Â≠óÂèëÈü≥‰∏çÊ∏ÖÔºåÊàë‰ª¨ËøòÊòØËÉΩÂæóÂà∞Ê≠£Á°ÆÁöÑ‰ø°ÊÅØ„ÄÇ‰ΩÜÊòØÂü∫‰∫éÈ¢ëÁéáÁâπÂæÅÁöÑÊ®°ÂûãÁî®‰ΩúHotword detectionËøòÊòØÊØîËæÉÂêàÈÄÇÁöÑÔºåÂõ†‰∏∫HorwordÈÄöÂ∏∏ÊòØ‰∏Ä‰∏§‰∏™ÁâπÂÆöÁöÑËØçÔºå‰∏çÈúÄË¶ÅËÅîÁ≥ªËØ≠Â¢ÉËøõË°åËØ≠‰πâÂàÜÊûê„ÄÇ ÂáÜÂ§áËÆ≠ÁªÉÊï∞ÊçÆÈõÜ ÂºÄÊ∫êÁöÑËØ≠Ë®ÄÊï∞ÊçÆÈõÜÊØîËæÉÂ∞ëÔºåËøôÈáåÊàë‰ª¨‰ΩøÁî®TensorFlowÂíåAIYÂõ¢ÈòüÊé®Âá∫ÁöÑ‰∏Ä‰∏™Êï∞ÊçÆÈõÜÔºåÂåÖÂê´30‰∏™Âü∫Êú¨ÁöÑËã±ÊñáÂçïËØçÁöÑÂ§ßÈáèÂΩïÈü≥Ôºö‰∏ãËΩΩÂú∞ÂùÄËøô‰∏™Êï∞ÊçÆÈõÜÂè™Êúâ1GÂ§öÔºåÈùûÂ∏∏Â∞èÁöÑËØ≠Èü≥Êï∞ÊçÆÈõÜÔºå‰∏çËøáÁî®Êù•ÂÆûÈ™åÊòØÂÆåÂÖ®Â§üÁöÑ„ÄÇ ËøêË°ådockerÂπ∂ÊåÇËΩΩÂ∑•‰ΩúÁõÆÂΩïÊñ∞Âª∫‰∏Ä‰∏™speech_trainÊñá‰ª∂Â§πÔºåÂπ∂Âú®ÂÖ∂‰∏≠ÂàõÂª∫Â≠êÊñá‰ª∂Â§πdataset,logs,train,ÂÆÉ‰ª¨Â∞ÜÁî®‰∫éÂ≠òÊîæÊï∞ÊçÆÈõÜÔºålogÂíåËÆ≠ÁªÉÊñá‰ª∂„ÄÇËß£ÂéãÊï∞ÊçÆÈõÜÂà∞datasetÔºåÁÑ∂ÂêéËøêË°ådockerÔºö 12docker run -it -v $(pwd)/speech_train:/speech_train \\ gcr.io/tensorflow/tensorflow:latest-devel ‰ΩøÁî®ÈªòËÆ§ÁöÑconvÊ®°ÂûãÂºÄÂßãËÆ≠ÁªÉ123456cd /tensorflow/python tensorflow/examples/speech_commands/train.py \\--data_dir=/speech_train/dataset/ \\--summaries_dir=/speech_train/logs/ \\--train_dir=/speech_train/train/ \\--wanted_words=one,two,three,four,five,marvin Âú®ËøôÈáåÊàë‰ª¨ÊåáÂÆöÂ∏åÊúõËØÜÂà´ÁöÑlabel: one,two,three,four,five,marvin„ÄÇÊï∞ÊçÆÈõÜÁöÑÂÖ∂‰ªñÈÉ®ÂàÜÂ∞ÜË¢´ÂΩí‰∏∫unknown ‰ΩøÁî®TensorBoard‰ΩøËÆ≠ÁªÉÂèØËßÜÂåñÊàë‰ª¨ÂèØ‰ª•ÈÄöËøáÂàÜÊûêÁîüÊàêÁöÑlog‰ΩøËÆ≠ÁªÉËøáÁ®ãÂèØËßÜÂåñÔºö 1tensorboard --logdir /speech_train/logs ËøêË°åÊåá‰ª§ÂêéÔºåÂèØ‰ª•ÈÄöËøáÊµèËßàÂô®ËÆøÈóÆÊú¨Âú∞ÁöÑ6006Á´ØÂè£ËøõÂÖ•TensorBoard„ÄÇ‰∏ãÂõæÊòØ‰ΩøÁî®convÊ®°ÂûãÂÆåÊàê18000 steps ËÆ≠ÁªÉÁöÑËøáÁ®ãÂõæÔºöËÆ≠ÁªÉËä±‰∫ÜÂ∑Æ‰∏çÂ§ö15‰∏™Â∞èÊó∂„ÄÇ ÁîüÊàêpbÊñá‰ª∂ËÆ≠ÁªÉÂÆåÊàêÂêéÔºåÊàë‰ª¨ÈúÄË¶ÅÂ∞ÜÂÖ∂ËΩ¨Âåñ‰∏∫pbÊñá‰ª∂Ôºö 1234python tensorflow/examples/speech_commands/freeze.py \\--start_checkpoint=/speech_train/train/conv.ckpt-18000 \\--output_file=/speech_train/conv.pb \\--wanted_words=one,two,three,four,five,marvin ÂÆåÊàêÂêéÔºåÊàë‰ª¨Â∞ÜÂæóÂà∞‰∏Ä‰∏™Âêç‰∏∫conv.pbÁöÑÊñá‰ª∂ÔºåÈÖçÂêàÂåÖÂê´ÂèØËØÜÂà´labelÁöÑtxtÊñá‰ª∂Â∞±ÂèØ‰ª•Áõ¥Êé•‰ΩøÁî®‰∫Ü„ÄÇ ÊµãËØï‰ΩøÁî®ÊµãËØïËÑöÊú¨ËøõË°åÊµãËØïÔºö 1234python tensorflow/examples/speech_commands/label_wav.py \\--graph=/speech_train/conv.pb \\--labels=/speech_train/conv_labels.txt \\--wav=/speech_train/dataset/marvin/0b40aa8e_nohash_0.wav ËÆ≠ÁªÉÁöÑÊ®°ÂûãÂ∫îËÉΩÊ≠£Á°ÆËØÜÂà´Âá∫marvin„ÄÇ ‰ΩøÁî®ÂáÜÁ°ÆÂ∫¶ËæÉ‰Ωé‰ΩÜÊòØÈ¢ÑÊµãÊõ¥Âø´ÁöÑlow_latency_convÊ®°Âûã Êàë‰ª¨ÂèØ‰ª•‰ΩøÁî®Âè¶Â§ñ‰∏ÄÁßçÂáÜÁ°ÆÂ∫¶ËæÉ‰Ωé‰ΩÜÊòØÈ¢ÑÊµãÊõ¥Âø´ÁöÑlow_latency_convÊ®°ÂûãËøõË°åËÆ≠ÁªÉÔºö 12345678python tensorflow/examples/speech_commands/train.py \\--data_dir=/speech_train/dataset/ \\--summaries_dir=/speech_train/logs/ \\--train_dir=/speech_train/train/ \\--model_architecture=low_latency_conv \\--how_many_training_steps=20000,6000 \\--learning_rate=0.01,0.001 \\--wanted_words=one,two,three,four,marvin,wow ÂΩì‰ΩøÁî®ËØ•Ê®°ÂûãÊó∂ÔºåÂèØ‰ª•ÈÄÇÂΩìÂ¢ûÂä†training stepsÂíålearning rate„ÄÇÂú®ËøôÁßçÊÉÖÂÜµ‰∏ãÔºåËÆ≠ÁªÉÁöÑÊó∂Èó¥Â§ßÂ§ßÁº©Áü≠‰∫ÜÔºöÂè™Ëä±‰∫Ü‰∏çÂà∞3Â∞èÊó∂. ÂÖ∂‰ªñ‰πüÂèØ‰ª•‰ΩøÁî®gpuÁâàÊú¨ÁöÑtensorflowËøõË°åËÆ≠ÁªÉÔºåÈÄüÂ∫¶ÂèØ‰ª•ÊèêÂçá‰∏çÂ∞ëÂì¶„ÄÇ","categories":[{"name":"Êú∫Âô®Â≠¶‰π†","slug":"Êú∫Âô®Â≠¶‰π†","permalink":"https://lzqblog.top/categories/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/"}],"tags":[{"name":"Machine Learning","slug":"Machine-Learning","permalink":"https://lzqblog.top/tags/Machine-Learning/"},{"name":"TensorFlow","slug":"TensorFlow","permalink":"https://lzqblog.top/tags/TensorFlow/"}]},{"title":"DockerÂ∏∏Áî®ÂëΩ‰ª§","slug":"DockerÂ∏∏Áî®ÂëΩ‰ª§","date":"2018-01-09T06:10:14.000Z","updated":"2019-09-28T01:18:21.741Z","comments":true,"path":"2018-01-09/DockerÂ∏∏Áî®ÂëΩ‰ª§/","link":"","permalink":"https://lzqblog.top/2018-01-09/Docker%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/","excerpt":"DockerÂ∏∏Áî®ÂëΩ‰ª§Â∞èÁªìUpdate: Translate to EN","text":"DockerÂ∏∏Áî®ÂëΩ‰ª§Â∞èÁªìUpdate: Translate to EN Gather infoList all containers ÂàóÂá∫ÊâÄÊúâÂÆπÂô®Ôºö 1docker ps -a Get container IP Ëé∑ÂèñÂÆπÂô®IPÔºö 1docker inspect 2d0142bd65a7 | grep IPAddress 2d0142bd65a7 is a container id. ÂÖ∂‰∏≠ 2d0142bd65a7 ‰∏∫ÂÆπÂô®ID„ÄÇ List all loadable images ÂàóÂá∫ÂèØ‰ª•Ë£ÖËΩΩÁöÑÈïúÂÉèÔºö 1docker images Save,Load,Tag and cpSave image to local file ÂØºÂá∫ÈïúÂÉèÔºö 1docker save 1865b6805867 &gt; image.tar 1865b6805867 is a image id. ÂÖ∂‰∏≠ 1865b6805867 ‰∏∫ÈïúÂÉèID„ÄÇ Create docker image based on a container Âü∫‰∫éÂÆπÂô®ÂàõÂª∫ÈïúÂÉè 1docker commit $&#123;container_id&#125; $&#123;image_name&#125;:$&#123;image_tag&#125; Load image from local file ÂØºÂÖ•ÈïúÂÉèÔºö 1docker load &lt; image.tar Tag a image which id is 1865b6805867(Only first 4 digits of ID is acceptable) ‰∏∫ID‰∏∫1865b6805867ÁöÑÈïúÂÉèÊâì‰∏äTAG(Ê≤°ÈîôÔºåÂè™ÈúÄË¶ÅIDÂâçÂá†‰ΩçÂ∞±ÂèØ‰ª•)Ôºö 1docker tag 1865 gcr.io/tensorflow/tensorflow:latest-devel Copy a file or folder from container to local host:‰ªéÂÆπÂô®Â§çÂà∂Êñá‰ª∂Âà∞‰∏ªÊú∫(Â¶ÇÊûú‰Ω†Âøò‰∫Ü‰ªé‰∏ªÊú∫ÊåÇËΩΩÊñá‰ª∂Â§π): 1docker cp $&#123;containerID&#125;:$&#123;file_path_in_container&#125; $&#123;host_path&#125; It‚Äôs basically same when you trying to copy a file from host to container, just swap two parameters. CleanStop all containers ÂÅúÊ≠¢ÊâÄÊúâÂÆπÂô® 1docker kill $(docker ps -aq) Delete all containers Âà†Èô§ÊâÄÊúâÂÆπÂô® 1docker rm $(docker ps -aq) Change $(docker ps -aq) to container id to stop or delete the specific container. Delete all images Âà†Èô§ÊâÄÊúâÈïúÂÉè 1docker rmi $(docker images -q) Change $(docker images -q) to image id to delete the specific image. Remove unused data to free disk space Âà†Èô§Êú™‰ΩøÁî®ÁöÑÊï∞ÊçÆ‰ª•ÈáäÊîæÁ£ÅÁõòÁ©∫Èó¥ 1docker system prune","categories":[{"name":"Èöè‰æøÂÜôÂÜô","slug":"Èöè‰æøÂÜôÂÜô","permalink":"https://lzqblog.top/categories/%E9%9A%8F%E4%BE%BF%E5%86%99%E5%86%99/"}],"tags":[{"name":"Êó•Âøó","slug":"Êó•Âøó","permalink":"https://lzqblog.top/tags/%E6%97%A5%E5%BF%97/"}]},{"title":"‰ΩøÁî®TensorFlowËÆ≠ÁªÉËá™Â∑±ÁöÑÂõæÂÉèËØÜÂà´AI","slug":"‰ΩøÁî®TensorFlowËÆ≠ÁªÉËá™Â∑±ÁöÑÂõæÂÉèËØÜÂà´AI","date":"2018-01-03T07:46:10.000Z","updated":"2018-11-28T12:01:18.000Z","comments":true,"path":"2018-01-03/‰ΩøÁî®TensorFlowËÆ≠ÁªÉËá™Â∑±ÁöÑÂõæÂÉèËØÜÂà´AI/","link":"","permalink":"https://lzqblog.top/2018-01-03/%E4%BD%BF%E7%94%A8TensorFlow%E8%AE%AD%E7%BB%83%E8%87%AA%E5%B7%B1%E7%9A%84%E5%9B%BE%E5%83%8F%E8%AF%86%E5%88%ABAI/","excerpt":"Êë∏Á¥¢‰∫ÜÂá†Â§©ÔºåÁªà‰∫éÁî®TensorFlowÊàêÂäüËÆ≠ÁªÉ‰∫Ü‰∏Ä‰∏™ËÉΩÂ§üËØÜÂà´‰∏âÁßçÂä®Êº´‰∫∫Áâ©ÁöÑAI„ÄÇÂÜôÁØápostËÆ∞ÂΩï‰∏Ä‰∏ã„ÄÇÁî±‰∫éËÆ≠ÁªÉÊòØÂú®ËôöÊãüÊú∫‰∏äË∑ëÁöÑÔºåÊ≤°ÊúâÂäûÊ≥ï‰ΩøÁî®ÊòæÂç°ÔºåÊâÄ‰ª•ËøôÊ¨°ÁöÑËÆ≠ÁªÉÂè™Áî®Âà∞‰∫ÜCPU„ÄÇGPUÁâàÊú¨ÁöÑËÆ≠ÁªÉ‰∏ãÊ¨°ÂÜçÂÜô„ÄÇ","text":"Êë∏Á¥¢‰∫ÜÂá†Â§©ÔºåÁªà‰∫éÁî®TensorFlowÊàêÂäüËÆ≠ÁªÉ‰∫Ü‰∏Ä‰∏™ËÉΩÂ§üËØÜÂà´‰∏âÁßçÂä®Êº´‰∫∫Áâ©ÁöÑAI„ÄÇÂÜôÁØápostËÆ∞ÂΩï‰∏Ä‰∏ã„ÄÇÁî±‰∫éËÆ≠ÁªÉÊòØÂú®ËôöÊãüÊú∫‰∏äË∑ëÁöÑÔºåÊ≤°ÊúâÂäûÊ≥ï‰ΩøÁî®ÊòæÂç°ÔºåÊâÄ‰ª•ËøôÊ¨°ÁöÑËÆ≠ÁªÉÂè™Áî®Âà∞‰∫ÜCPU„ÄÇGPUÁâàÊú¨ÁöÑËÆ≠ÁªÉ‰∏ãÊ¨°ÂÜçÂÜô„ÄÇ ËÆ≠ÁªÉÁéØÂ¢ÉÔºö OS: Ubuntu 17.10(VMWare) CPU:i5-6300HQ(ÂºÄ‰∫Ü‰∏§‰∏™Ê†∏ÁªôËôöÊãüÊú∫) RAM:4G(16GÂè™ÂºÄ‰∫Ü4GÁªôËôöÊãüÊú∫) ÈÖçÁΩÆÂºÄÂèëÁéØÂ¢É ÂÆâË£ÖTensorFlowÊòØ‰∏Ä‰ª∂ÂçÅÂàÜÈ∫ªÁÉ¶ÁöÑ‰∫ãÊÉÖ„ÄÇ‰Ω†ÈúÄË¶Åpython(Êé®Ëçêpython3‰ª•‰∏ä)ÂèäÂêÑÁßçÊâ©Â±ïÊ®°ÂùóÔºåbazelÁ≠âÁ≠âÔºåËøô‰∫õÂÆâË£ÖÊìç‰Ωú‰ºöÈ¢ëÁπÅÂú∞Êõ¥ÊîπÁéØÂ¢ÉÂèòÈáèÔºåÁ®çÊúâ‰∏çÊÖéÂ∞±ÂèØËÉΩÂØºËá¥Â¥©Ê∫ÉÔºåËøòÊûÅÈöæÊÅ¢Â§ç„ÄÇÂõ†Ê≠§Êé®Ëçê‰ΩøÁî®DockerÊù•ËøõË°åÁéØÂ¢ÉÊê≠Âª∫„ÄÇ ‰ªÄ‰πàÊòØDocker Docker ÊòØ‰∏Ä‰∏™ÂºÄÊ∫êÁöÑÂ∫îÁî®ÂÆπÂô®ÂºïÊìéÔºåËÆ©ÂºÄÂèëËÄÖÂèØ‰ª•ÊâìÂåÖ‰ªñ‰ª¨ÁöÑÂ∫îÁî®‰ª•Âèä‰æùËµñÂåÖÂà∞‰∏Ä‰∏™ÂèØÁßªÊ§çÁöÑÂÆπÂô®‰∏≠ÔºåÁÑ∂ÂêéÂèëÂ∏ÉÂà∞‰ªª‰ΩïÊµÅË°åÁöÑ Linux Êú∫Âô®‰∏äÔºå‰πüÂèØ‰ª•ÂÆûÁé∞ËôöÊãüÂåñ„ÄÇ‰Ω†ÂèØ‰ª•ÊääÂÆπÂô®ÁúãÊàê‰∏Ä‰∏™Ê≤ôÁÆ±„ÄÇDockerÊèê‰æõ‰∫Ü‰∏Ä‰∫õÂ∑≤ÁªèË£ÖÂÆåTensorFlowÂºÄÂèëÊâÄÈúÄÁöÑÂêÑÁßç‰æùËµñÂåÖÁöÑimage„ÄÇÊàë‰ª¨Âè™ÈúÄË¶Å‰ΩøÁî®Docker‰∏ãËΩΩËøô‰∫õimageÔºåÂ∞±ÂèØ‰ª•Âú®DockerÁöÑÂÆπÂô®‰∏≠ËøõË°åÂºÄÂèëÔºåËÄå‰∏çÁî®ÊãÖÂøÉÂÆâË£ÖÂêÑÁßçÊâ©Â±ïÂåÖÂØºËá¥Á≥ªÁªüÂ¥©Ê∫É„ÄÇÊõ¥ÈáçË¶ÅÁöÑÊòØÔºå‰Ω†ÂèØ‰ª•Âü∫‰∫é‰∏Ä‰∏™imageÂàõÂª∫Â§ö‰∏™‰∫í‰∏çÂπ≤Êâ∞ÁöÑÂÆπÂô®ÔºåÊàë‰ª¨ÂèØ‰ª•Âú®ÂÆπÂô®ÈáåËøõË°åÂêÑÁßçÂèòÊÄÅÁöÑÂÆûÈ™åËÄå‰∏çÈúÄË¶ÅÂèçÂ§ç‰∏ãËΩΩimage„ÄÇ(ÁâπÂà´ÊòØËøô‰∫õimageÁî±‰∫éÊüê‰∫õ‰ºóÊâÄÂë®Áü•ÁöÑÂéüÂõ†Âú®Â§ßÈôÜ‰∏ãËΩΩÊûÅÂÖ∂ÁºìÊÖ¢ÁîöËá≥‰∏çËÉΩ‰∏ãËΩΩ) Â¶Ç‰ΩïÂÆâË£ÖDocker ÂèÇËÄÉDockerÁöÑÂÆòÊñπÂÆâË£ÖÊåáÂçóÂèØ‰ª•ÈùûÂ∏∏ËΩªÊùæÂú∞ÂÆåÊàêDockerÂÆâË£Ö„ÄÇ ‰∏ãËΩΩÈõÜÊàêTensorFlowÂºÄÂèëÁéØÂ¢ÉÁöÑÈïúÂÉè Êé•‰∏ãÊù•ÁöÑÊ≠•È™§ÈúÄË¶ÅrootÊùÉÈôêÂπ∂ÈúÄË¶ÅËÆøÈóÆGoogleÊúçÂä°Âô®„ÄÇ 1# docker run -it gcr.io/tensorflow/tensorflow:latest-devel ÊâßË°åËØ•Êåá‰ª§ÔºåDocker‰ºöËá™Âä®‰∏ãËΩΩÈïúÂÉè„ÄÇ‰Ω†‰πüÂèØ‰ª•ÈÄâÊã©‰∏ãËΩΩ‰∏çÂêåÁâàÊú¨ÁöÑÈïúÂÉèÔºöCPUÁâàÔºögcr.io/tensorflow/tensorflowCPUÁâàÂ∏¶ÂºÄÂèëÁéØÂ¢ÉÔºögcr.io/tensorflow/tensorflow:latest-develGPUÁâàÔºögcr.io/tensorflow/tensorflow:latest-gpuGPUÁâàÂ∏¶ÂºÄÂèëÁéØÂ¢ÉÔºögcr.io/tensorflow/tensorflow:latest-devel-gpu Êê≠Âª∫ÂÆåÊàê ÁªèËøáÊº´ÈïøÁöÑÁ≠âÂæÖÔºåÂ¶ÇÊûúÂëΩ‰ª§Ë°åÂèòÊàêroot@xxxxxxxxxxxx ËØ¥Êòé‰∏ãËΩΩÂÆâË£ÖÂÆåÊàêÔºåÁî®Êà∑Â∑≤ÁªèÂú®DockerÂÆπÂô®‰∏≠‰∫Ü(xxxxxxxxx‰∏∫ÂΩìÂâçÂÆπÂô®ID)„ÄÇ ÂáÜÂ§áËÆ≠ÁªÉÊ†∑Êú¨ Êú∫Âô®Â≠¶‰π†ÈúÄË¶ÅÂ§ßÈáèÊ†∑Êú¨„ÄÇËøôÈáåÊàëÁõ¥Êé•‰ΩøÁî®‰∫ÜGoogleÂõæÁâáÁöÑÊêúÁ¥¢ÁªìÊûú‰Ωú‰∏∫Ê†∑Êú¨ÔºåËøôÊ†∑ÁöÑÊñπÂºèÊñπ‰æøÂø´Êç∑Ôºå‰ΩÜÊ†∑Êú¨Ë¥®Èáè‰∏ç‰∏ÄÂÆöÈ´ò„ÄÇÂΩì‰Ω†Â∞ùËØïÂú®GoogleÂõæÁâá‰∏≠ÊêúÁ¥¢‚ÄúËú°Á¨îÂ∞èÊñ∞‚ÄùÔºåÊêúÁ¥¢ÁªìÊûúÂæàÊúâÂèØËÉΩÂá∫Áé∞‰∏ÄÂπÖÊ≤°ÊúâÂåÖÂê´Ëú°Á¨îÂ∞èÊñ∞ÁöÑÂõæÔºåËØ•ÂõæÂèØËÉΩÂè™ÂåÖÂê´ÊúâÂä®ÊÑüË∂Ö‰∫∫ÁîöËá≥Â∞èÁôΩ„ÄÇËøô‰∫õÈîôËØØÁöÑ‚ÄúÊ≠£Ê†∑Êú¨‚Äù‰ºöÂØπËÆ≠ÁªÉÁªìÊûú‰∫ßÁîüÂΩ±Âìç„ÄÇ ÂàÜÂà´Âú®GoogleÂõæÁâá‰∏≠ÊêúÁ¥¢‚ÄúCrayon Shin-chan‚Äù„ÄÅ‚Äúspongebob‚Äù„ÄÅ‚Äúminions‚ÄùÂèØ‰ª•ÊâæÂà∞Â§ßÈáèÂõæÁâá„ÄÇÂèØ‰ª•‰ΩøÁî®ChromeÁöÑ‰∏Ä‰∏™Âêç‰∏∫‚ÄúFatkun Batch Download Image‚ÄùÁöÑÊâ©Â±ïÁ®ãÂ∫èËøõË°åÂõæÁâáÊâπÈáè‰∏ãËΩΩ„ÄÇÊñ∞Âª∫‰∏Ä‰∏™cartoonÊñá‰ª∂Â§πÔºåÂ∞ÜÂõæÁâáÂàÜÂà´ÊîæÂú®ÂÖ∂Â≠êÊñá‰ª∂Â§πcartoon/crayon cartoon/minions cartoon/spongebob‰∏ã„ÄÇÊØè‰∏™ÁõÆÂΩïÊúâ800~900Âº†Âõæ„ÄÇ ÂºÄÂßãËÆ≠ÁªÉ Êé•‰∏ãÊù•ÁöÑÊ≠•È™§ÈúÄË¶ÅrootÊùÉÈôêÂπ∂ÈúÄË¶ÅËÆøÈóÆGoogleÊúçÂä°Âô®„ÄÇ ÂàõÂª∫Â∑•‰ΩúÁõÆÂΩï Êñ∞Âª∫‰∏Ä‰∏™Âêç‰∏∫tf_filesÁöÑÊñá‰ª∂Â§πÔºåÂπ∂Â∞ÜcartoonÊñá‰ª∂Â§πcopyËøõÊù•„ÄÇ 123cd ~mkdir tf_filescp cartoon tf_files ËøêË°åÂÆπÂô®Âπ∂ÊåÇËΩΩÂ∑•‰ΩúÁõÆÂΩï12docker run -it -v $(pwd)/tf_files:/tf_files \\ gcr.io/tensorflow/tensorflow:latest-devel ‰ΩøÁî®ËøÅÁßªÂ≠¶‰π†ËøõË°åËÆ≠ÁªÉ‰ªÄ‰πàÊòØËøÅÁßªÂ≠¶‰π† ËøÅÁßªÂ≠¶‰π†(Transfer Learning)ËØïÂõæ‰ΩøÁî®Â∑≤ÁªèËÆ≠ÁªÉÂ•ΩÁöÑÊ®°ÂûãÂèÇÊï∞Â∏ÆÂä©Êñ∞Ê®°ÂûãËÆ≠ÁªÉÊñ∞ÁöÑÊï∞ÊçÆÈõÜ„ÄÇÂΩìÊï∞‰∏™ËÆ≠ÁªÉ‰ªªÂä°ÂèäÊï∞ÊçÆÊúâ‰∏ÄÂÆöÁ®ãÂ∫¶ÁöÑÁõ∏ÂÖ≥ÊÄßÔºå‰ΩøÁî®ËøÅÁßªÂ≠¶‰π†ÂèØ‰ª•Âä†Âø´Êñ∞Ê®°ÂûãÁöÑÂ≠¶‰π†ËÄå‰∏çÁî®Ëä±Ë¥πÂ§ßÈáèÊó∂Èó¥ÂíåÊ†∑Êú¨‰ªéÂ§¥ÂºÄÂßãËÆ≠ÁªÉ„ÄÇÊàë‰ª¨ÁöÑ‰ªªÂä°ÊòØ‰∏Ä‰∏™ÂõæÂÉèËØÜÂà´‰ªªÂä°ÔºåËøô‰∏éGoogleËÆ≠ÁªÉÂ•ΩÁöÑInceptionÊ®°ÂûãÊúâËæÉÂ§ßÁöÑÁõ∏ÂÖ≥ÊÄßÔºåËÄåÊàë‰ª¨ÁöÑÊ†∑Êú¨ÂèàËæÉÂ∞ëÔºåÂõ†Ê≠§Âü∫‰∫éInceptionÊ®°ÂûãËøõË°åËøÅÁßªÂ≠¶‰π†ÊòØ‰∏™‰∏çÈîôÁöÑÈÄâÊã©„ÄÇ ‰ªÄ‰πàÊòØInceptionÊ®°Âûã InceptionÊ®°ÂûãÊòØ‰∏ÄÁßçÁî®‰∫éÂõæÂÉèÂàÜÁ±ªÁöÑÂç∑ÁßØÁ•ûÁªèÁΩëÁªúÊ®°Âûã„ÄÇËøôÊòØ‰∏Ä‰∏™Â§öÂ±Ç„ÄÅÊúâÁùÄÊûÅÂÖ∂Â§çÊùÇÁªìÊûÑÁöÑÂç∑ÁßØÁ•ûÁªèÁΩëÁªú„ÄÇËØ•Ê®°ÂûãÂèØ‰ª•ËØÜÂà´Ë∂ÖËøá1000ÁßçÁâ©ÂìÅÔºå‰ΩÜÂπ∂‰∏çÂåÖÊã¨Êàë‰ª¨ÊÉ≥Ë¶ÅÁöÑÂä®Êº´‰∫∫Áâ©„ÄÇGithub‰∏äÊúâÊèêÂà∞InceptionÊ®°ÂûãËÆ≠ÁªÉÊòØÂú®‰∏ÄÂè∞Êúâ128GB RAMÂíå8ÂùóTesla K40ÁöÑÁîµËÑë‰∏äËøõË°åÁöÑ(We targeted a desktop with 128GB of CPU ram connected to 8 NVIDIA Tesla K40 GPU)„ÄÇÂ¶ÇÊûú‰Ω†ÊÉ≥Âú®‰Ω†ÁöÑ‰∏™‰∫∫ÁîµËÑë‰∏äÂ∞ùËØï‰ªéÈõ∂ÂºÄÂßãËÆ≠ÁªÉ‰∏Ä‰∏™ËøôÁßçÈáèÁ∫ßÁöÑÁ•ûÁªèÁΩëÁªúÔºå‰Ω†ÂèØËÉΩÈúÄË¶ÅÊï∞‰∏™ÊòüÊúüÊâçËÉΩÂÆåÊàêËÆ≠ÁªÉÔºåËøòÊúâÂæàÂ§ßÁöÑÂèØËÉΩÊÄßÂá∫Áé∞run out of GPU memoryÊàñrun out of CPU memoryÂØºËá¥ËÆ≠ÁªÉÂ§±Ë¥•„ÄÇÂú®ËøôÈáåÊàë‰ª¨Â∞ÜÂ∞ùËØï‰ΩøÁî®TensorflowÊèê‰æõÁöÑretrain.pyËÆ≠ÁªÉÊï¥‰∏™Á•ûÁªèÁΩëÁªúÁöÑÊúÄÂêé‰∏ÄÂ±ÇÔºåÂç≥ÂÜ≥Á≠ñÂ±Ç/ÂàÜÁ±ªÂ±ÇÔºåËÄåÂÄíÊï∞Á¨¨‰∫åÂ±ÇË¢´Áß∞‰∏∫Bottlenecks(Áì∂È¢àÂ±Ç)„ÄÇÊàë‰ª¨Â∞ÜÂà©Áî®Bottlenecks‰∫ßÁîüÁöÑÊúâÊïàÊï∞ÊçÆÔºå‰æõÁªôÊúÄÂêéÁöÑÂÜ≥Á≠ñÂ±Ç/ÂàÜÁ±ªÂ±ÇÂÅöÂá∫ÊúÄÂêéÁöÑÂàÜÁ±ªÈ¢ÑÊµã„ÄÇ ÂºÄÂßãËÆ≠ÁªÉ12345678cd /tensorflow/python tensorflow/tensorflow/examples/image_retraining/retrain.py \\ --bottleneck_dir=/tf_files/bottlenecks \\ --how_many_training_steps 4000 \\ --model_dir=/tf_files/inception \\ --output_graph=/tf_files/cartoon.pb \\ --output_labels=/tf_files/cartoon.txt \\ --image_dir /tf_files/cartoon Âú®ËøôÈáåÊàë‰ª¨ËÆæÁΩÆ‰∫ÜbottleneckÁöÑËæìÂá∫ÁõÆÂΩïÔºåtraining_stepsÔºåÊ®°Âûã‰ΩçÁΩÆÔºåpbÊñá‰ª∂ÂèälabelËæìÂá∫‰ΩçÁΩÆÔºåÊ†∑Êú¨ÂõæÁâá‰ΩçÁΩÆ„ÄÇ‰∏ÄËà¨ËÄåË®Ätraining_stepsË∂äÂ§öÔºåËÆ≠ÁªÉÊó∂Èó¥Ë∂äÈïøÔºåÊïàÊûúË∂äÂ•ΩÔºåÂèç‰πãÂàôÂèç„ÄÇÂ¶ÇÊûúÊ®°Âûã‰ΩçÁΩÆÊ≤°ÊúâÈúÄË¶ÅÁöÑÊ®°ÂûãÔºåËØ•ËÑöÊú¨‰ºöÂ∞ùËØïËá™Âä®‰∏ãËΩΩ„ÄÇpbÊñá‰ª∂Â∞±ÊòØËÆ≠ÁªÉÂÆåÊàêÁöÑÊ®°ÂûãÔºålabelÊòØ‰∏Ä‰∏™txtÊñá‰ª∂ÔºåÈáåÈù¢ÂåÖÂê´‰∫ÜÊàë‰ª¨ËÆ≠ÁªÉÂÆåÊàêÁöÑÊ®°ÂûãËÉΩËØÜÂà´ÁöÑÂØπË±°ÂêçÁß∞„ÄÇ‰∏çÂá∫ÊÑèÂ§ñÁöÑËØùÔºåÂá†ÂçÅÂàÜÈíüÂêéËÆ≠ÁªÉÂ∞±ÂèØ‰ª•ÂÆåÊàê„ÄÇ ÂèØ‰ª•ÁúãÂà∞Êàë‰ª¨ÁöÑÊ®°ÂûãÁöÑÊµãËØïËØÜÂà´ÂáÜÁ°ÆÁéáËææÂà∞‰∫Ü95.5%„ÄÇ tf_files‰∏ãÁîüÊàê‰∫ÜÊàë‰ª¨ËÆ≠ÁªÉÁöÑÊ®°Âûãcartoon.pb‰ª•ÂèälabelÊñá‰ª∂cartoon.txt„ÄÇÊâìÂºÄcartoon.txtÂèØ‰ª•ÁúãÂà∞ÔºåËØ•Ê®°ÂûãÂèØ‰ª•ËØÜÂà´ÁöÑÂØπË±°Êúâcrayon(Ëú°Á¨îÂ∞èÊñ∞)„ÄÅminions(Â∞èÈªÑ‰∫∫)„ÄÅspongebob(Êµ∑ÁªµÂÆùÂÆù)‰∏âÁßç(Â∞±ÊòØcartoonÊñá‰ª∂Â§π‰∏ãÂ≠êÊñá‰ª∂Â§πÁöÑÂêçÂ≠ó)„ÄÇÊàëËøôÈáåÁîüÊàêÁöÑpbÊñá‰ª∂Êúâ87.4MB„ÄÇ ‰ºòÂåñ‰∏éÂéãÁº©‰∏∫‰ªÄ‰πàË¶ÅËøõË°å‰ºòÂåñÂíåÂéãÁº© ÂØπ‰∫éÁßªÂä®ËÆæÂ§á(‰æãÂ¶ÇÊô∫ËÉΩÊâãÊú∫)ÂíåÂµåÂÖ•ÂºèËÆæÂ§á(‰æãÂ¶ÇË∑ëAndroid ThingsÊàñLinuxÁöÑËÆæÂ§á)Êù•ËØ¥ÔºåËøô‰∏™Ê®°ÂûãÊñá‰ª∂Â§™Â§ß‰∫Ü„ÄÇÂ¶ÇÊûú‰Ω†Â∞ùËØïÊääÂÖ∂ÊâìÂåÖ‰∏∫apkÊñá‰ª∂Ôºå‰Ω†ÂèØËÉΩ‰ºöÂæóÂà∞‰∏Ä‰∏™Â∞ÜËøë100MBÁöÑapkÔºåËøôÂØπÁî®Êà∑Êù•ËØ¥ÂèØËÉΩ‰ΩìÈ™åÂπ∂‰∏çÂ§™ÂèãÂ•Ω„ÄÇÂõ†Ê≠§Êàë‰ª¨ÈúÄË¶ÅÂØπËØ•Ê®°ÂûãËøõË°å‰ºòÂåñÂíåÂéãÁº©‰ª•ÂáèÂ∞èÂÖ∂‰ΩìÁßØ„ÄÇÂ¶ÇÊûú‰Ω†Â∞ùËØïÁõ¥Êé•Â∞ÜËØ•pbÊñá‰ª∂ÂéãÁº©‰∏∫zipÊñá‰ª∂Ôºå‰Ω†‰ºöÂèëÁé∞ÂéãÁº©Êñá‰ª∂Â§ßÂ∞èÂè™ÊØîÂéüÊù•Â∞è‰∫ÜÂá†MB„ÄÇÊàëÂ∞ùËØï‰ΩøÁî®‰ºòÂåñËÑöÊú¨ÂØπpbÊñá‰ª∂ËøõË°å‰ºòÂåñÔºå‰ºòÂåñÂêéÁöÑÂéãÁº©ÊïàÊûúËøò‰∏çÈîô„ÄÇ ‰ΩøÁî®optimize_for_inference‰ºòÂåñÂ∑•ÂÖ∑ optimize_for_inferenceËÑöÊú¨Â∞Ü‰ºöÂ∏ÆÂä©Êàë‰ª¨Âà†Èô§ÂΩìÂâçÊ®°Âûã‰∏≠ËæìÂÖ•ËæìÂá∫‰πãÂâç‰∏çÈúÄË¶ÅÁöÑËäÇÁÇπÔºåÂπ∂ËøõË°å‰∏Ä‰∫õÂÖ∂‰ªñ‰ºòÂåñ‰ª•ÊèêÈ´òËøêË°åÊÄßËÉΩ„ÄÇ 12345python tensorflow/python/tools/optimize_for_inference.py \\ --input=/tf_files/cartoon.pb \\ --output=/tf_files/optimized_cartoon.pb \\ --input_names=\"Mul\" \\ --output_names=\"final_result\" ‰ºòÂåñÂÆåÊàêÂêéÊàë‰ª¨ÂèØ‰ª•ÂæóÂà∞‰∏Ä‰∏™Âêç‰∏∫optimized_cartoon.pbÁöÑ‰ºòÂåñËøáÁöÑÊ®°ÂûãÊñá‰ª∂„ÄÇ‰ΩÜÊòØÂè™ÊØîÂéüÊù•Â∞è‰∫Ü0.2MB„ÄÇÂéãÁº©‰∏∫zipÊñá‰ª∂‰πüÂ∞è‰∏ç‰∫ÜÂ§öÂ∞ë:( ‰ΩøÁî®quantize_graphÂ∑•ÂÖ∑ËøõË°åËøõ‰∏ÄÊ≠•‰ºòÂåñ ÁúãÊù•ÊòØÊó∂ÂÄôÊîæÂ§ßÊãõ‰∫Ü„ÄÇÊàë‰ª¨Â∞Ü‰ΩøÁî®quantize_graphÂØπÊ®°ÂûãÊñá‰ª∂‰∏≠ÁöÑÊùÉÈáçÂèÇÊï∞ËøõË°åÂõõËàç‰∫îÂÖ•„ÄÇËøô‰∏ÄÊñπÂºèÂ∞Ü‰ºöÈôç‰ΩéÈ¢ÑÊµãÂáÜÁ°ÆÁéá(‰ΩÜÊòØÈÄöÂ∏∏Âè™Èôç‰Ωé1%Â∑¶Âè≥)„ÄÇ 12345python tensorflow/tools/quantization/quantize_graph.py \\ --input=/tf_files/optimized_cartoon.pb \\ --output=/tf_files/rounded_cartoon.pb \\ --output_node_names=\"final_result\" \\ --mode=weights_rounded ÈÄöÂ∏∏Êù•ËØ¥ÔºåÊñ∞ÁîüÊàêÁöÑrounded_cartoon.pbÂ§ßÂ∞èÂπ∂‰∏ç‰ºöÂèëÁîüÂ§™Â§ßÂèòÂåñÔºå‰ΩÜÊòØÂΩìÊàëÂ∞ùËØïÂ∞ÜÂÖ∂ÂéãÁº©‰∏∫zipÊñá‰ª∂Êó∂ÔºåÊàëÂæóÂà∞‰∫Ü‰∏Ä‰∏™‰ª§‰∫∫Êª°ÊÑèÁöÑÂéãÁº©ÂåÖÂ§ßÂ∞èÔºö23.9MB Áé∞Âú®Â¶ÇÊûúÊàë‰ª¨Â∞ùËØïÂ∞ÜÂÖ∂‰Ωú‰∏∫ËµÑÊ∫êÊñá‰ª∂ÊâìÂåÖËøõapkÔºåÂèØ‰ª•ÂæóÂà∞‰∏Ä‰∏™Â∞èÂæóÂ§öÁöÑÂÆâË£ÖÂåÖÔºåÁî®Êà∑‰∏ãËΩΩÁöÑÊó∂Èó¥Â§ßÂ§ßÂáèÂ∞ë‰∫Ü„ÄÇ ÊµãËØï‰∏éÈ™åËØÅ È¶ñÂÖàÊàë‰ª¨Â∞ÜÊµãËØïÁªèËøáoptimize_for_inference‰ºòÂåñÁöÑoptimized_cartoon.pb„ÄÇ‰∏∫‰∫ÜÊñπ‰æøÊµãËØïÔºåÊàë‰ΩøÁî®‰∫ÜTensorFlowÂú®Android‰∏äÁöÑdemo appÔºå‰Ω†ÂèØ‰ª•Âú®Github‰∏äÊâæÂà∞ÂÖ∂Ê∫êÁ†Å„ÄÇË¶ÅËÆ©Êàë‰ª¨ÁöÑÊ®°ÂûãÊñá‰ª∂ËÉΩÂ§üÂú®Ëøô‰∏™demo‰∏äÊ≠£Â∏∏Â∑•‰ΩúÔºåÊàë‰ª¨ÈúÄË¶ÅÂÅö‰∏ÄÁÇπÂæÆÂ∞èÁöÑÂ∑•‰Ωú„ÄÇ1.Â§çÂà∂optimized_cartoon.pbÂèäcartoon.txtÊñá‰ª∂Ëá≥app/src/main/assets2.Âú®ClassifierActivity.java‰∏≠‰øÆÊîπÂ¶Ç‰∏ãÈÉ®ÂàÜÔºö 123456789private static final int INPUT_SIZE = 299;private static final int IMAGE_MEAN = 128;private static final float IMAGE_STD = 128;private static final String INPUT_NAME = \"Mul\";private static final String OUTPUT_NAME = \"final_result\";private static final String MODEL_FILE = \"file:///android_asset/optimized_cartoon.pb\";private static final String LABEL_FILE = \"file:///android_asset/cartoon.txt\"; ËøôÈáåÊàë‰ª¨ÈôêÂà∂ËæìÂÖ•ÂõæÂÉè‰∏∫299x299, Âπ∂Êõ¥ÊîπINPUT_NAMEÂíåOUTPUT_NAME„ÄÇÂΩìÁÑ∂ËøòÊúâMODEL_FILEÂíåLABEL_FILEÁöÑ‰ΩçÁΩÆ„ÄÇÊµãËØïÊ†∑‰æãÊàëÁõ¥Êé•Áî®ÊâãÊú∫ÊãçÁöÑÔºåÁî±‰∫éÈôêÂà∂‰∫ÜËæìÂÖ•ÂõæÂÉèÂ§ßÂ∞è‰∏∫299x299ÔºåÊâÄ‰ª•ÂõæÁâáË¥®ÈáèÊØîËæÉÂ∑ÆÔºå‰ΩÜÊòØËøòÊòØÂæóÂà∞‰∫Ü‰∏çÈîôÁöÑËøêË°åÁªìÊûúÔºöÂÜçÁúãÁúãÁªèËøáquantize_graph‰ºòÂåñÁöÑÔºö ‰∏ã‰∏ÄÊ≠• Êé•‰∏ãÊù•Êàë‰ª¨ÂèØ‰ª•Â∞ùËØïËøõË°åÈü≥È¢ëÊñπÂêëÁöÑÊú∫Âô®Â≠¶‰π†Êé¢Á¥¢„ÄÇÁõÆÂâçËøòÂú®Á†îÁ©∂‰∏≠ÔºåÁ≠âÊúâ‰∫ÜÊúâË∂£ÁöÑÂèëÁé∞ÂêéÂÜçÂÜôÁØápostÂêß„ÄÇ","categories":[{"name":"Êú∫Âô®Â≠¶‰π†","slug":"Êú∫Âô®Â≠¶‰π†","permalink":"https://lzqblog.top/categories/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/"}],"tags":[{"name":"Machine Learning","slug":"Machine-Learning","permalink":"https://lzqblog.top/tags/Machine-Learning/"},{"name":"TensorFlow","slug":"TensorFlow","permalink":"https://lzqblog.top/tags/TensorFlow/"}]},{"title":"‰ΩøÁî®GpartedÊâ©Â±ïÂàÜÂå∫","slug":"‰ΩøÁî®GpartedÊâ©Â±ïÂàÜÂå∫","date":"2018-01-03T01:21:09.000Z","updated":"2018-11-28T12:01:18.000Z","comments":true,"path":"2018-01-03/‰ΩøÁî®GpartedÊâ©Â±ïÂàÜÂå∫/","link":"","permalink":"https://lzqblog.top/2018-01-03/%E4%BD%BF%E7%94%A8Gparted%E6%89%A9%E5%B1%95%E5%88%86%E5%8C%BA/","excerpt":"ÂâçÊÆµÊó∂Èó¥Ë∑ëÊú∫Âô®Â≠¶‰π†Ôºå‰ΩøÁî®docker‰∏ã‰∫ÜÂá†‰∏™tensorflowÁöÑÈïúÂÉèÔºåÁ™ÅÁÑ∂ÂèëÁé∞Á£ÅÁõò‰∏çÂ§üÁî®‰∫Ü„ÄÇÁõ∏ÂÖ≥ÁöÑÂëΩ‰ª§Ë°å‰∏çÂ§™ÁÜüÔºåÂ∞±ÊÉ≥ÊâæÊâæÊòØ‰∏çÊòØÊúâÁ±ª‰ºº‰∫éÂàÜÂå∫Á≤æÁÅµÁöÑÂ∏¶GUIÁöÑÂàÜÂå∫Â∑•ÂÖ∑ÔºåËøòÁúüÊâæÂà∞‰∏Ä‰∏™Gparted„ÄÇ","text":"ÂâçÊÆµÊó∂Èó¥Ë∑ëÊú∫Âô®Â≠¶‰π†Ôºå‰ΩøÁî®docker‰∏ã‰∫ÜÂá†‰∏™tensorflowÁöÑÈïúÂÉèÔºåÁ™ÅÁÑ∂ÂèëÁé∞Á£ÅÁõò‰∏çÂ§üÁî®‰∫Ü„ÄÇÁõ∏ÂÖ≥ÁöÑÂëΩ‰ª§Ë°å‰∏çÂ§™ÁÜüÔºåÂ∞±ÊÉ≥ÊâæÊâæÊòØ‰∏çÊòØÊúâÁ±ª‰ºº‰∫éÂàÜÂå∫Á≤æÁÅµÁöÑÂ∏¶GUIÁöÑÂàÜÂå∫Â∑•ÂÖ∑ÔºåËøòÁúüÊâæÂà∞‰∏Ä‰∏™Gparted„ÄÇ È¶ñÂÖàÂÆâË£ÖGpartedÔºåÁÑ∂ÂêéËøêË°åÔºö 12# apt-get install gparted# gparted Â¶ÇÊûúÊòØUbuntu 17.10Êàñ‰ª•‰∏äÁâàÊú¨ÔºåÂèØËÉΩ‰ºöÊä•ÈîôÔºö 123456789101112131415161718# gpartedCreated symlink /run/systemd/system/-.mount ‚Üí /dev/null.Created symlink /run/systemd/system/run-user-1000.mount ‚Üí /dev/null.Created symlink /run/systemd/system/run-user-121.mount ‚Üí /dev/null.Created symlink /run/systemd/system/run-vmblock\\x2dfuse.mount ‚Üí /dev/null.Created symlink /run/systemd/system/tmp.mount ‚Üí /dev/null.Created symlink /run/systemd/system/var-lib-docker-overlay2.mount ‚Üí /dev/null.Created symlink /run/systemd/system/var-lib-docker-plugins.mount ‚Üí /dev/null.No protocol specified(gpartedbin:3041): Gtk-WARNING **: cannot open display: :0Removed /run/systemd/system/-.mount.Removed /run/systemd/system/run-user-1000.mount.Removed /run/systemd/system/run-user-121.mount.Removed /run/systemd/system/run-vmblock\\x2dfuse.mount.Removed /run/systemd/system/tmp.mount.Removed /run/systemd/system/var-lib-docker-overlay2.mount.Removed /run/systemd/system/var-lib-docker-plugins.mount. google‰∫Ü‰∏Ä‰∏ãÔºåÂéüÂõ†ÊòØÂ∫îÁî®Ê≤°ÊúâÂÆåÂÖ®ÊîØÊåÅWayland„ÄÇ‰ΩÜÊòØÊúâworkaround: 1$ xhost +SI:localuser:root ‰πãÂêéÂ∞±ÂèØ‰ª•Ê≠£Â∏∏ËøêË°å‰∫Ü„ÄÇÈ¶ñÂÖàÂ∞ÜÂΩìÂâçÂàÜÂå∫Êâ©ÂÆπ„ÄÇ‰πãÂêéÊ∑ªÂä†‰∏Ä‰∏™Êâ©Â±ïÂàÜÂå∫ÔºåÂÜçÂú®Êâ©Â±ïÂàÜÂå∫‰∏ãÊ∑ªÂä†linux-swap„ÄÇÊúÄÂêéÂà´Âøò‰∫ÜÂ∫îÁî®‰øÆÊîπ„ÄÇ","categories":[{"name":"Èöè‰æøÂÜôÂÜô","slug":"Èöè‰æøÂÜôÂÜô","permalink":"https://lzqblog.top/categories/%E9%9A%8F%E4%BE%BF%E5%86%99%E5%86%99/"}],"tags":[{"name":"Linux","slug":"Linux","permalink":"https://lzqblog.top/tags/Linux/"}]},{"title":"Âú®Ê†ëËéìÊ¥æ‰∏ä‰ΩøÁî®Google Assistant","slug":"Âú®Ê†ëËéìÊ¥æ‰∏ä‰ΩøÁî®Google-Assistant","date":"2017-12-28T08:21:13.000Z","updated":"2018-11-20T11:54:50.000Z","comments":true,"path":"2017-12-28/Âú®Ê†ëËéìÊ¥æ‰∏ä‰ΩøÁî®Google-Assistant/","link":"","permalink":"https://lzqblog.top/2017-12-28/%E5%9C%A8%E6%A0%91%E8%8E%93%E6%B4%BE%E4%B8%8A%E4%BD%BF%E7%94%A8Google-Assistant/","excerpt":"ÂâçÊÆµÊó∂Èó¥Â∞ùËØïÂú®Ê†ëËéìÊ¥æ‰∏ä‰ΩøÁî®Google Assistant, Á≥ªÁªüËÉΩÂ§üÊçïÊçâÈü≥È¢ëÂπ∂ËØÜÂà´Ôºå‰ΩøÁî®USBÂ£∞Âç°‰πüËÉΩÊ≠£Â∏∏Â∑•‰ΩúÔºå‰ΩÜ‰ΩøÁî®3.5mm jackÊó∂Ê≤°ÊúâÈü≥È¢ëËæìÂá∫„ÄÇÁªèËøáÊë∏Á¥¢Áªà‰∫éÊúâËæìÂá∫‰∫ÜÔºÅÂÜôÁØápostËÆ∞ÂΩï‰∏Ä‰∏ãÂÖ≥ÈîÆÊ≠•È™§ÂêßÔºÅ","text":"ÂâçÊÆµÊó∂Èó¥Â∞ùËØïÂú®Ê†ëËéìÊ¥æ‰∏ä‰ΩøÁî®Google Assistant, Á≥ªÁªüËÉΩÂ§üÊçïÊçâÈü≥È¢ëÂπ∂ËØÜÂà´Ôºå‰ΩøÁî®USBÂ£∞Âç°‰πüËÉΩÊ≠£Â∏∏Â∑•‰ΩúÔºå‰ΩÜ‰ΩøÁî®3.5mm jackÊó∂Ê≤°ÊúâÈü≥È¢ëËæìÂá∫„ÄÇÁªèËøáÊë∏Á¥¢Áªà‰∫éÊúâËæìÂá∫‰∫ÜÔºÅÂÜôÁØápostËÆ∞ÂΩï‰∏Ä‰∏ãÂÖ≥ÈîÆÊ≠•È™§ÂêßÔºÅ È¶ñÂÖàÈÖçÁΩÆËæìÂÖ•ËæìÂá∫ËÆæÂ§áÔºö 12audioInputDevice = findAudioDevice(AudioManager.GET_DEVICES_INPUTS, AudioDeviceInfo.TYPE_USB_DEVICE);audioOutputDevice = findAudioDevice(AudioManager.GET_DEVICES_OUTPUTS, AudioDeviceInfo.TYPE_BUILTIN_SPEAKER); Ê≠§Â§ÑTYPE_BUILTIN_SPEAKERÂç≥‰∏∫3.5mmËæìÂá∫Âè£„ÄÇ‰πãÂâçÂ∞ùËØïTYPE_AUX_LINE„ÄÅTYPE_LINE_ANALOG„ÄÅTYPE_WIRED_HEADPHONESÁ≠âÂÖ®ÈÉΩ‰∏çËÉΩÂèëÁé∞ËÆæÂ§áËøîÂõûnull; ÁÑ∂ÂêéÁîüÊàêÂá≠ÊçÆÔºö 123456try &#123; userCredentials = EmbeddedAssistant.generateCredentials(this, R.raw.credentials);&#125; catch (IOException | JSONException e) &#123; Log.e(TAG, \"error getting user credentials\", e);&#125; ÊúÄÂêé‰ΩøÁî®mEmbeddedAssistant = new EmbeddedAssistant.Builder(), ÁªëÂÆöÂÆåRequestCallback„ÄÅConversationCallback„ÄÅÂá≠ÊçÆ„ÄÅÂàùÂßãÈü≥Èáè„ÄÅÈááÊ†∑Áéá„ÄÅËæìÂÖ•ËæìÂá∫ËÆæÂ§áÂ∞±ÂèØ‰ª•Âï¶ÔºÅ Áé∞Âú®ÁöÑsampleËøòÊúâÁÇπË†¢Ôºå‰∏çËÉΩ‰ΩøÁî®HotWordÂî§ÈÜí„ÄÇËÄå‰∏îÂú®Ê≤°ÊúâÂâçÁΩÆËØ≠Ë®ÄÂ§ÑÁêÜÊ®°ÂùóÁöÑÊÉÖÂÜµ‰∏ãÔºåËØÜÂà´Á®çÂæÆÊúâÁÇπÊÖ¢„ÄÇ","categories":[{"name":"ÁºñÁ®ãÁõ∏ÂÖ≥","slug":"ÁºñÁ®ãÁõ∏ÂÖ≥","permalink":"https://lzqblog.top/categories/%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/"}],"tags":[{"name":"Java","slug":"Java","permalink":"https://lzqblog.top/tags/Java/"},{"name":"Raspberry Pi","slug":"Raspberry-Pi","permalink":"https://lzqblog.top/tags/Raspberry-Pi/"},{"name":"Android Things","slug":"Android-Things","permalink":"https://lzqblog.top/tags/Android-Things/"}]},{"title":"Âú®Android Things‰∏ä‰ΩøÁî®TTSÂèä‰ΩøÁî®Google AssistantÈÅáÂà∞ÁöÑÈóÆÈ¢ò","slug":"Âú®Android-Things‰∏ä‰ΩøÁî®TTSÂèä‰ΩøÁî®Google-AssistantÈÅáÂà∞ÁöÑÈóÆÈ¢ò","date":"2017-12-06T08:37:03.000Z","updated":"2018-11-28T12:01:18.000Z","comments":true,"path":"2017-12-06/Âú®Android-Things‰∏ä‰ΩøÁî®TTSÂèä‰ΩøÁî®Google-AssistantÈÅáÂà∞ÁöÑÈóÆÈ¢ò/","link":"","permalink":"https://lzqblog.top/2017-12-06/%E5%9C%A8Android-Things%E4%B8%8A%E4%BD%BF%E7%94%A8TTS%E5%8F%8A%E4%BD%BF%E7%94%A8Google-Assistant%E9%81%87%E5%88%B0%E7%9A%84%E9%97%AE%E9%A2%98/","excerpt":"Êô∫ËÉΩÈü≥ÂìçÊúâ‰∏§‰∏™ÈáçË¶ÅÂäüËÉΩ:‚ÄúËØ¥‚ÄùÂíå‚ÄúÂê¨‚Äù„ÄÇÂú®Android Things‰∏äÊàë‰ª¨ÂèØ‰ª•ÈÄöËøáTextToSpeechÂíåGoogle AssistantÊù•ÂÆûÁé∞‰∏äËø∞ÂäüËÉΩ„ÄÇTTSÁöÑÂÆûÁé∞ÊØîËæÉÂÆπÊòìÔºåËÄåGoogle AssistantÂ∞±ÊØîËæÉÈ∫ªÁÉ¶‰∫ÜÔºåÁõÆÂâçÊàëÈÅáÂà∞ÁöÑÈóÆÈ¢òÊòØGoogle AssistantËÉΩÂê¨ÊáÇÊàëËØ¥‰ªÄ‰πàÔºåÂç¥‰∏çËÉΩÁªôÂá∫Á≠îÊ°à„ÄÇ„ÄÇËøòÊòØÂÜô‰∏™Êó•ÂøóËÆ∞ÂΩï‰∏Ä‰∏ãÂêß„ÄÇ","text":"Êô∫ËÉΩÈü≥ÂìçÊúâ‰∏§‰∏™ÈáçË¶ÅÂäüËÉΩ:‚ÄúËØ¥‚ÄùÂíå‚ÄúÂê¨‚Äù„ÄÇÂú®Android Things‰∏äÊàë‰ª¨ÂèØ‰ª•ÈÄöËøáTextToSpeechÂíåGoogle AssistantÊù•ÂÆûÁé∞‰∏äËø∞ÂäüËÉΩ„ÄÇTTSÁöÑÂÆûÁé∞ÊØîËæÉÂÆπÊòìÔºåËÄåGoogle AssistantÂ∞±ÊØîËæÉÈ∫ªÁÉ¶‰∫ÜÔºåÁõÆÂâçÊàëÈÅáÂà∞ÁöÑÈóÆÈ¢òÊòØGoogle AssistantËÉΩÂê¨ÊáÇÊàëËØ¥‰ªÄ‰πàÔºåÂç¥‰∏çËÉΩÁªôÂá∫Á≠îÊ°à„ÄÇ„ÄÇËøòÊòØÂÜô‰∏™Êó•ÂøóËÆ∞ÂΩï‰∏Ä‰∏ãÂêß„ÄÇ TTSÁöÑÂÆûÁé∞ TTSÂÆûÁé∞Ëµ∑Êù•ÂçÅÂàÜÂÆπÊòìÔºåÂàõÂª∫TextToSpeechÂπ∂ÈáçÂÜôOnInitListenerÁöÑonInitÊñπÊ≥ïÔºö 1234567891011ttsEngine = new TextToSpeech(MainActivity.this, new TextToSpeech.OnInitListener() &#123; @Override public void onInit(int status) &#123; if (status==TextToSpeech.SUCCESS)&#123; ttsEngine.setLanguage(Locale.US); &#125;else &#123; Log.w(TAG,\"Can not init tts engine\"); ttsEngine = null; &#125; &#125;&#125;); ÂÜçÈÄöËøá 123if (ttsEngine != null) &#123; ttsEngine.speak(\"Hi master. What can I do for you?\", TextToSpeech.QUEUE_ADD, null, \"UTTERANCE_ID\");&#125; Âç≥ÂèØÂÆûÁé∞Èü≥È¢ëËæìÂá∫„ÄÇÂÆåÊï¥ÁöÑ‰ª£Á†ÅÂ∑≤‰∏ä‰º†Âà∞githubÔºöRoach Google Assistant Ë¶Å‰ΩøÁî®Google AssistantÔºåÂøÖÈ°ªË¶Å‰ΩøÁî®Google Assistant APIÂπ∂ÂàõÂª∫Áõ∏Â∫îÁöÑÂä†ÂØÜÂá≠ÊçÆ„ÄÇÂêåÊó∂ÔºåÁî≥ËØ∑ÁöÑGoogleË¥¶Âè∑ËøòË¶ÅÁªô‰∫àappÊùÉÈôê‰ª•ÂÖÅËÆ∏ËÆøÈóÆ‰∏Ä‰∫õÊïèÊÑüÂÜÖÂÆπ„ÄÇÂÖàË¥¥Âº†ÊµãËØïÁªìÊûúÂõæÔºöÂú®ÊµãËØï‰∏≠Ôºåapp‰ºº‰πéÊàêÂäü‰∏ä‰º†‰∫ÜÂΩïÈü≥Âπ∂ËÉΩÊ≠£Á°ÆËØÜÂà´Ôºå‰ΩÜÊòØÂç¥‰∏çËÉΩÊ†πÊçÆÈóÆÈ¢òËøõË°åÊ≠£Á°ÆÁöÑËß£Á≠îÔºåÂàùÊ≠•ÊÄÄÁñëÂèØËÉΩËøòÊúâ‰∏Ä‰∫õÊùÉÈôêÊ≤°ÊúâÁî≥ËØ∑„ÄÇ","categories":[{"name":"ÁºñÁ®ãÁõ∏ÂÖ≥","slug":"ÁºñÁ®ãÁõ∏ÂÖ≥","permalink":"https://lzqblog.top/categories/%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/"}],"tags":[{"name":"Java","slug":"Java","permalink":"https://lzqblog.top/tags/Java/"},{"name":"Android Things","slug":"Android-Things","permalink":"https://lzqblog.top/tags/Android-Things/"}]},{"title":"‰ΩøÁî®@IntDefÊõø‰ª£Enum","slug":"‰ΩøÁî®-IntDefÊõø‰ª£Enum","date":"2017-11-27T03:38:18.000Z","updated":"2018-11-20T11:54:50.000Z","comments":true,"path":"2017-11-27/‰ΩøÁî®-IntDefÊõø‰ª£Enum/","link":"","permalink":"https://lzqblog.top/2017-11-27/%E4%BD%BF%E7%94%A8-IntDef%E6%9B%BF%E4%BB%A3Enum/","excerpt":"ÊúâÁØáAndroidÂÆòÊñπÊñáÊ°£ÊèêÂà∞Ôºö‚ÄùFor example, enums often require more than twice as much memory as static constants. You should strictly avoid using enums on Android.‚Äù ‰∫éÊòØÊàë‰ª¨‰ΩøÁî®Ëá™ÂÆö‰πâannotationÊù•‰ª£ÊõøEnum„ÄÇ","text":"ÊúâÁØáAndroidÂÆòÊñπÊñáÊ°£ÊèêÂà∞Ôºö‚ÄùFor example, enums often require more than twice as much memory as static constants. You should strictly avoid using enums on Android.‚Äù ‰∫éÊòØÊàë‰ª¨‰ΩøÁî®Ëá™ÂÆö‰πâannotationÊù•‰ª£ÊõøEnum„ÄÇ 123456789101112@Retention(RetentionPolicy.SOURCE)@IntDef(&#123;RATE_120HZ, RATE_64HZ, RATE_32HZ, RATE_16HZ, RATE_8HZ, RATE_4HZ, RATE_2HZ, RATE_1HZ&#125;)public @interface SamplingRate &#123;&#125;public static final int RATE_120HZ = 0b0000;public static final int RATE_64HZ = 0b0001;public static final int RATE_32HZ = 0b0010;public static final int RATE_16HZ = 0b0011;public static final int RATE_8HZ = 0b0100;public static final int RATE_4HZ = 0b0101;public static final int RATE_2HZ = 0b0110;public static final int RATE_1HZ = 0b0111; @Retention Ë°®Á§∫Âú®‰ªÄ‰πàÁ∫ßÂà´‰øùÂ≠òËØ•Ê≥®Ëß£‰ø°ÊÅØ„ÄÇÂèØÈÄâÁöÑ RetentionPolicy ÂèÇÊï∞ÂåÖÊã¨Ôºö RetentionPolicy.SOURCE Ê≥®Ëß£Â∞ÜË¢´ÁºñËØëÂô®‰∏¢ÂºÉ RetentionPolicy.CLASS Ê≥®Ëß£Âú®classÊñá‰ª∂‰∏≠ÂèØÁî®Ôºå‰ΩÜ‰ºöË¢´VM‰∏¢ÂºÉ RetentionPolicy.RUNTIME VMÂ∞ÜÂú®ËøêË°åÊúü‰πü‰øùÁïôÊ≥®ÈáäÔºåÂõ†Ê≠§ÂèØ‰ª•ÈÄöËøáÂèçÂ∞ÑÊú∫Âà∂ËØªÂèñÊ≥®Ëß£ÁöÑ‰ø°ÊÅØ„ÄÇ@IntDefÂÜÖËæìÂÖ•ÂéüÊù•ÁöÑÊûö‰∏æÂèòÈáèÔºåÊúÄÂêé‰ΩøÁî®@interfaceÂ£∞ÊòéÊ≥®Ëß£ÂêçÁß∞„ÄÇÂΩìÈúÄË¶Å‰ΩøÁî®Êó∂Ôºö 1@SamplingRate int rate = RATE_64HZ; ÁúüÊòØ‰∏çÊñπ‰æøÂïä„ÄÇ„ÄÇ„ÄÇ","categories":[{"name":"ÁºñÁ®ãÁõ∏ÂÖ≥","slug":"ÁºñÁ®ãÁõ∏ÂÖ≥","permalink":"https://lzqblog.top/categories/%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/"}],"tags":[{"name":"Android","slug":"Android","permalink":"https://lzqblog.top/tags/Android/"},{"name":"Java","slug":"Java","permalink":"https://lzqblog.top/tags/Java/"}]},{"title":"Âú®Android Things‰∏ä‰ΩøÁî®ËøúÁ®ãÂ±èÂπï","slug":"Âú®Android-Things‰∏ä‰ΩøÁî®ËøúÁ®ãÂ±èÂπï","date":"2017-11-25T02:26:05.000Z","updated":"2018-11-28T12:01:18.000Z","comments":true,"path":"2017-11-25/Âú®Android-Things‰∏ä‰ΩøÁî®ËøúÁ®ãÂ±èÂπï/","link":"","permalink":"https://lzqblog.top/2017-11-25/%E5%9C%A8Android-Things%E4%B8%8A%E4%BD%BF%E7%94%A8%E8%BF%9C%E7%A8%8B%E5%B1%8F%E5%B9%95/","excerpt":"ÂΩìÂÆåÊàêËøûÊé•ÁöÑÈÖçÁΩÆÂêéÔºåÊàë‰ª¨ÂèØ‰ª•ÈÄöËøáVysorÂú®ËøúÁ®ãÂ±èÂπï‰∏äÊòæÁ§∫ÂíåÊéßÂà∂Things Device„ÄÇ","text":"ÂΩìÂÆåÊàêËøûÊé•ÁöÑÈÖçÁΩÆÂêéÔºåÊàë‰ª¨ÂèØ‰ª•ÈÄöËøáVysorÂú®ËøúÁ®ãÂ±èÂπï‰∏äÊòæÁ§∫ÂíåÊéßÂà∂Things Device„ÄÇ 1.VysorÊòØ‰∏ÄÊ¨æÂü∫‰∫éChromeÁöÑÊâ©Â±ïÁ®ãÂ∫èÔºå‰∏ãËΩΩÂêéÂú®Chorme‰∏≠ÂêØÁî®„ÄÇ 2.‰ΩøÁî®adbËøûÊé•Âà∞Things 3.ÂêØÂä®VysorÂπ∂ËøûÊé•ÔºåÁ¨¨‰∏ÄÊ¨°‰ΩøÁî®ÈúÄË¶ÅÂú®Things‰∏äÂÆâË£Öapk„ÄÇ 4.Enjoy(ËøòÂèØ‰ª•Êà™ÂõæÂíåÂΩïÂÉèÂì¶ÔºÅ)","categories":[{"name":"ÁºñÁ®ãÁõ∏ÂÖ≥","slug":"ÁºñÁ®ãÁõ∏ÂÖ≥","permalink":"https://lzqblog.top/categories/%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/"}],"tags":[{"name":"Android Things","slug":"Android-Things","permalink":"https://lzqblog.top/tags/Android-Things/"}]},{"title":"Âú®Raspberry Pi‰∏äÂàùËØïAndroid Things","slug":"Âú®Raspberry-Pi‰∏äÂàùËØïAndroid-Things","date":"2017-11-24T05:48:14.000Z","updated":"2018-11-28T12:01:18.000Z","comments":true,"path":"2017-11-24/Âú®Raspberry-Pi‰∏äÂàùËØïAndroid-Things/","link":"","permalink":"https://lzqblog.top/2017-11-24/%E5%9C%A8Raspberry-Pi%E4%B8%8A%E5%88%9D%E8%AF%95Android-Things/","excerpt":"GoogleÊé®Âá∫Android ThingsÈÉΩÂø´‰∏ÄÂπ¥‰∫ÜÔºåÁé∞Âú®ËøòÂú®previewÈò∂ÊÆµÔºåËÄå‰∏îÁé∞Âú®ÊîØÊåÅÁöÑÂπ≥Âè∞‰πüÂæàÂ∞ëÔºå‰ΩÜÊòØËøô‰∫õÈÉΩÊó†Ê≥ïÈòªÊå°Êàë‰ª¨ËØïÊ∞¥ÁöÑÁÉ≠ÊÉÖ‚Ä¶","text":"GoogleÊé®Âá∫Android ThingsÈÉΩÂø´‰∏ÄÂπ¥‰∫ÜÔºåÁé∞Âú®ËøòÂú®previewÈò∂ÊÆµÔºåËÄå‰∏îÁé∞Âú®ÊîØÊåÅÁöÑÂπ≥Âè∞‰πüÂæàÂ∞ëÔºå‰ΩÜÊòØËøô‰∫õÈÉΩÊó†Ê≥ïÈòªÊå°Êàë‰ª¨ËØïÊ∞¥ÁöÑÁÉ≠ÊÉÖ‚Ä¶ ÂáÜÂ§áÂ∑•‰Ωú 1.Raspberry Pi 3 2.HDMI cable and monitor(ÊçÆËØ¥ÊúâÁ±ª‰ºº‰∫éVNCÁöÑÂ∑•ÂÖ∑Ôºå‰ΩÜÊòØÊòæÁ§∫ÂàÜËæ®ÁéáÊúâÈóÆÈ¢ò) 3.Ethernet cable(Á¨¨‰∏ÄÊ¨°ËøûÊé•ÈúÄË¶Å) 4.Micro SD card ÁîüÊàêIMAGE È¶ñÂÖàÂú®Android Things Console‰∏äÁîüÊàêImage„ÄÇÊñ∞Âª∫‰∏Ä‰∏™product,ËæìÂÖ•Product name,ÈÄâÊã©SOM Type„ÄÇ‰πãÂêéÂèØ‰ª•Ê∑ªÂä†BundleËá™ÂÆö‰πâÂºÄÊú∫Âä®ÁîªÁ≠âËÆæÁΩÆÔºå‰πüÂèØ‰ª•Áõ¥Êé•‰ΩøÁî®Empty bundle„ÄÇ‰πãÂêéÈÄâÊã©‰∏Ä‰∏™Android Things versions, Create build configurationÂêéÔºåÂèØ‰ª•ËøõË°åÂú®Á∫øÁöÑbuildÂíåImageÁîüÊàê(‰πãÂâçÊçÆËØ¥ÊúÄÂºÄÂßãÊú¨Âú∞buildÁî®ÊúçÂä°Âô®Á∫ßÁöÑËá≥Âº∫cpuÈÉΩË¶Åbuild 5‰∏™Â∞èÊó∂)Ôºå‰∏ãËΩΩÁîüÊàêÁöÑzip file„ÄÇ ÁÉßÂΩïImage Ëß£Âéã‰∏ãËΩΩÁöÑzip fileÔºåËß£ÂéãÂæóÂà∞‰ΩøÁî®ÁÉßÂΩïÂ∑•ÂÖ∑(ÊØîÂ¶ÇEtcher)Â∞Üiot_rpi3.imgÁÉßÂΩïËá≥SD card„ÄÇ ÂêØÂä®Âπ∂ËøûÊé•ËÆæÂ§á Êé•Â•ΩHDMIÂíåEthernetÔºåÊèíÂÖ•SD cardÂ∞±ÂèØ‰ª•ÂºÄÊú∫‰∫ÜÔºÅ Êé•‰∏ãÊù•Êàë‰ª¨ÊµãËØï‰∏Ä‰∏ãEthernetÁöÑËøûÊé•ÊÄß„ÄÇÂ¶ÇÊûúËøûÊé•Ê≠£Â∏∏ÔºåÂ±èÂπï‰∏äÊòØ‰ºöÊòæÁ§∫ÂΩìÂâçÁöÑipÂú∞ÂùÄÁöÑ„ÄÇ‰ΩøÁî®adbÂ∞ùËØïËøûÊé•‰∏Ä‰∏ãÔºö 1adb connect 192.168.1.66 ÂΩì‰Ω†ÁúãËßÅÂ¶Ç‰∏ãÂÜÖÂÆπÔºåË°®ÊòéadbËøûÊé•ÊàêÂäüÔºö 1connected to 192.168.1.66:5555 Âú®ËøûÊé•‰∏äadbÂêéÔºåÊàë‰ª¨ÂèØ‰ª•ËÆæÁΩÆÈÄöËøáwifiËøûÊé•‰ª•ÊëÜËÑ±ÁΩëÁ∫øÁöÑÊùüÁºö 123456adb shellam startservice \\ -n com.google.wifisetup/.WifiSetupService \\ -a WifiSetupService.Connect \\ -e ssid network_ssid \\ -e passphrase network_pass \\ ÂÖ∂‰∏≠network_ssidÂ∞ùËØïËøûÊé•ÁöÑwifi ssidÔºånetwork_pass‰∏∫ÂØÜÁ†ÅÔºàÂºÄÊîæÁΩëÁªú‰∏≠ËØ•ÂèÇÊï∞ÂèØ‰ª•‰∏çÂ°´Ôºâ„ÄÇÁÑ∂ÂêéÊàë‰ª¨ÈúÄË¶ÅÈ™åËØÅ‰∏Ä‰∏ãÊó†Á∫øËøûÊé• 1logcat -d | grep Wifi ÂΩìÁúãËßÅWifiWatcher: Network state changed to CONNECTEDÊó∂ÔºåË°®ÊòéËøûÊé•ÊàêÂäü„ÄÇËøôÊó∂ÂèØ‰ª•Â∞ùËØïÊñ≠ÂºÄadb,ÊãîÊéâÁΩëÁ∫ø,‰ΩøÁî®adbËøûÊé•Êó†Á∫øip,ËøûÊé•ÊàêÂäüÂêéÂèØ‰ª•ping‰∏Ä‰∏ãÁôæÂ∫¶Ôºö 1ping baidu.com Â¶ÇÊûúÊÉ≥Ê∏ÖÈô§ÊâÄÊúâ‰øùÂ≠òÁöÑwifiËøûÊé•ËÆæÁΩÆÔºö 123am startservice \\ -n com.google.wifisetup/.WifiSetupService \\ -a WifiSetupService.Reset UI DEMO ËøôÈáå‰ª•ÂÆòÊñπÁöÑUI DEMO(om.example.androidthings.simpleui)‰∏∫‰æãÔºåË∑ë‰∏™Â∏¶UIÁöÑappËØï‰∏Ä‰∏ã„ÄÇ Á®ãÂ∫èÁªìÊûÑ ThingsÂ∑•Á®ãÁöÑÁªìÊûÑÂíåÊôÆÈÄöAndroid appÁªìÊûÑÂæàÁõ∏‰ººÔºåThingsÁöÑÊõ¥Âä†ÁÆÄÂçï„ÄÇËøòÊòØÁÜüÊÇâÁöÑAndroidManifest.xml + java + res„ÄÇ Âú®Manifest‰∏≠Â£∞Êòé‰∏ªÈ¢ò„ÄÅÂÖ•Âè£Activity„ÄÅÊùÉÈôêÁ≠âÔºåÂú®layout‰∏≠ÔºåAndroidÂü∫Êú¨ÁöÑÊéß‰ª∂ÈÉΩÊúâ„ÄÇ„ÄÇ„ÄÇÊÄªËÄåË®Ä‰πãÔºåÂíåÊôÆÈÄöAndroidÂºÄÂèëÁõ∏‰ººÂ∫¶ÊûÅÈ´òÔºå‰ª•Ëá¥‰∫éÊàëÈÉΩ‰∏çÊÉ≥ÂÜô‰∏ãÂéª‰∫Ü„ÄÇ„ÄÇ„ÄÇ ‰ª£Á†Å Ë¥¥ÊÆµÂá†ÊÆµ‰ª£Á†ÅÔºåÂàÜÊûê‰∏ãÂÄºÂæóÊ≥®ÊÑèÁöÑÂú∞Êñπ„ÄÇÈ¶ñÂÖàimport‰∫ÜÂá†‰∏™Âú®AndroidÂºÄÂèë‰∏≠Ê≤°ËßÅËøáÁöÑÂåÖÔºö 12import com.google.android.things.pio.Gpio;import com.google.android.things.pio.PeripheralManagerService; ÈùûÂ∏∏ÊòéÊòæÁöÑthingsÂåÖÔºåÊèê‰æõ‰∫ÜgpioÁ±ªÔºå‰ª•Âèä‰∏Ä‰∏™ÂæàÈáçË¶ÅÁöÑPeripheralManagerService. Êàë‰ª¨ÈÄöËøáPeripheralManagerÊù•Êìç‰ΩúÂ§ñËÆæ„ÄÇÊ†ëËéìÊ¥æ3ÁöÑgpio nameÂèØ‰ª•ÈÄöËøágetGpioListËé∑ÂæóÔºåË¶ÅÂØπÊüê‰∏™gpioËøõË°åÊéßÂà∂ÔºåÈúÄË¶ÅÂÖàopenGpio(init)ÔºåÁÑ∂ÂêéÂèØ‰ª•ÈÄöËøásetDirectionËÆæÁΩÆioÊñπÂêëÂèäÂàùÂßãÁîµÂπ≥ÔºåsetEdgeTriggerTypeËÆæÁΩÆËæπÁºòËß¶ÂèëÊ®°Âºè(‰∏≠Êñ≠)ÔºåsetActiveTypeËÆæÁΩÆÈ´òÁîµÂπ≥‰∏∫trueËøòÊòØ‰ΩéÁîµÂπ≥‰∏∫trueÔºåsetValueÊù•Êõ¥ÊîπÁîµÂπ≥„ÄÇÂΩìsetActiveType(Gpio.ACTIVE_LOW)Êó∂ÔºåsetValue(true)‰ºöËæìÂá∫‰ΩéÁîµÂπ≥ÔºåÂèç‰πã‰∫¶ÁÑ∂„ÄÇ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566public class SimpleUiActivity extends Activity &#123; private static final String TAG = SimpleUiActivity.class.getSimpleName(); private Map&lt;String, Gpio&gt; mGpioMap = new LinkedHashMap&lt;&gt;(); @Override protected void onCreate(Bundle savedInstanceState) &#123; super.onCreate(savedInstanceState); setContentView(R.layout.activity_main); LinearLayout gpioPinsView = (LinearLayout) findViewById(R.id.gpio_pins); LayoutInflater inflater = getLayoutInflater(); PeripheralManagerService pioService = new PeripheralManagerService(); for (String name : pioService.getGpioList()) &#123; View child = inflater.inflate(R.layout.list_item_gpio, gpioPinsView, false); Switch button = (Switch) child.findViewById(R.id.gpio_switch); button.setText(name); gpioPinsView.addView(button); Log.d(TAG, \"Added button for GPIO: \" + name); try &#123; final Gpio ledPin = pioService.openGpio(name); ledPin.setEdgeTriggerType(Gpio.EDGE_NONE); ledPin.setActiveType(Gpio.ACTIVE_HIGH); ledPin.setDirection(Gpio.DIRECTION_OUT_INITIALLY_LOW); button.setOnCheckedChangeListener(new CompoundButton.OnCheckedChangeListener() &#123; @Override public void onCheckedChanged(CompoundButton buttonView, boolean isChecked) &#123; try &#123; ledPin.setValue(isChecked); &#125; catch (IOException e) &#123; Log.e(TAG, \"error toggling gpio:\", e); buttonView.setOnCheckedChangeListener(null); // reset button to previous state. buttonView.setChecked(!isChecked); buttonView.setOnCheckedChangeListener(this); &#125; &#125; &#125;); mGpioMap.put(name, ledPin); &#125; catch (IOException e) &#123; Log.e(TAG, \"Error initializing GPIO: \" + name, e); // disable button button.setEnabled(false); &#125; &#125; &#125; @Override protected void onDestroy() &#123; super.onDestroy(); for (Map.Entry&lt;String, Gpio&gt; entry : mGpioMap.entrySet()) &#123; try &#123; entry.getValue().close(); &#125; catch (IOException e) &#123; Log.e(TAG, \"Error closing GPIO \" + entry.getKey(), e); &#125; &#125; mGpioMap.clear(); &#125;&#125; ËøêË°åÁªìÊûú","categories":[{"name":"ÁºñÁ®ãÁõ∏ÂÖ≥","slug":"ÁºñÁ®ãÁõ∏ÂÖ≥","permalink":"https://lzqblog.top/categories/%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/"}],"tags":[{"name":"Java","slug":"Java","permalink":"https://lzqblog.top/tags/Java/"},{"name":"Raspberry Pi","slug":"Raspberry-Pi","permalink":"https://lzqblog.top/tags/Raspberry-Pi/"},{"name":"Android Things","slug":"Android-Things","permalink":"https://lzqblog.top/tags/Android-Things/"}]},{"title":"C# ÁîüÊàêLogÊñá‰ª∂","slug":"CSharp-ÁîüÊàêLogÊñá‰ª∂","date":"2017-11-16T05:05:43.000Z","updated":"2018-11-20T11:54:50.000Z","comments":true,"path":"2017-11-16/CSharp-ÁîüÊàêLogÊñá‰ª∂/","link":"","permalink":"https://lzqblog.top/2017-11-16/CSharp-%E7%94%9F%E6%88%90Log%E6%96%87%E4%BB%B6/","excerpt":"ÂÜô‰∫Ü‰∏™LogÁ±ªÂÆûÁé∞Â∏¶Êó∂Èó¥Êà≥ÁöÑLog out, ‰ª£Á†ÅÂ¶Ç‰∏ãÔºö","text":"ÂÜô‰∫Ü‰∏™LogÁ±ªÂÆûÁé∞Â∏¶Êó∂Èó¥Êà≥ÁöÑLog out, ‰ª£Á†ÅÂ¶Ç‰∏ãÔºö 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768namespace My_Space&#123; using System; using System.IO; class Log &#123; private string logFile; private StreamWriter writer; private FileStream fileStream = null; public Log(string fileName) &#123; logFile = fileName; CreateDirectory(logFile); &#125; public void LogOut(string info) &#123; try &#123; FileInfo fileInfo = new FileInfo(logFile); if (!fileInfo.Exists) &#123; fileStream = fileInfo.Create(); writer = new StreamWriter(fileStream); &#125; else &#123; fileStream = fileInfo.Open(FileMode.Append, FileAccess.Write); writer = new StreamWriter(fileStream); &#125; writer.WriteLine(\"@\" + DateTime.Now + \"#\" + info + \";\"); &#125; finally &#123; if (writer != null) &#123; writer.Close(); writer.Dispose(); fileStream.Close(); fileStream.Dispose(); &#125; &#125; &#125; private void CreateDirectory(string filePath) &#123; DirectoryInfo directoryInfo = Directory.GetParent(filePath); if (!directoryInfo.Exists) &#123; directoryInfo.Create(); &#125; &#125; public static void ReadLog(string logPath, out string dataRead) &#123; StreamReader sR1 = new StreamReader(logPath); try &#123; dataRead = sR1.ReadToEnd(); &#125; catch (Exception) &#123; throw; &#125; &#125; &#125;&#125;","categories":[{"name":"ÁºñÁ®ãÁõ∏ÂÖ≥","slug":"ÁºñÁ®ãÁõ∏ÂÖ≥","permalink":"https://lzqblog.top/categories/%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/"}],"tags":[{"name":"C#","slug":"C","permalink":"https://lzqblog.top/tags/C/"}]},{"title":"‰ΩøÁî®qemuËøêË°åLinux-kernel","slug":"‰ΩøÁî®qemuËøêË°åLinux-kernel","date":"2017-11-12T00:40:54.000Z","updated":"2018-11-28T12:01:18.000Z","comments":true,"path":"2017-11-12/‰ΩøÁî®qemuËøêË°åLinux-kernel/","link":"","permalink":"https://lzqblog.top/2017-11-12/%E4%BD%BF%E7%94%A8qemu%E8%BF%90%E8%A1%8CLinux-kernel/","excerpt":"‰πãÂâçÊÉ≥‰π∞ÂùóMTKÁöÑÂºÄÂèëÊùøÔºåÁªìÊûúÊ†πÊú¨Ê≤°ÊúâÂçñ„ÄÇ„ÄÇ„ÄÇ Ê†ëËéìÊ¥æ‰ªäÂπ¥Âèà‰∏ç‰ºöÂá∫4Ôºå‰∫éÊòØÊÉ≥Áî®qemuËæπÂ≠¶ËæπÁé©„ÄÇ","text":"‰πãÂâçÊÉ≥‰π∞ÂùóMTKÁöÑÂºÄÂèëÊùøÔºåÁªìÊûúÊ†πÊú¨Ê≤°ÊúâÂçñ„ÄÇ„ÄÇ„ÄÇ Ê†ëËéìÊ¥æ‰ªäÂπ¥Âèà‰∏ç‰ºöÂá∫4Ôºå‰∫éÊòØÊÉ≥Áî®qemuËæπÂ≠¶ËæπÁé©„ÄÇ ÂÆø‰∏ªOSÔºöUbuntu 17.04 ÂáÜÂ§áÂ∑•‰ΩúÁî±‰∫éÊüê‰∫õ‰ºóÊâÄÂë®Áü•ÁöÑÂéüÂõ†ÔºåËÆøÈóÆ‰∏Ä‰∫õÂõΩÂ§ñÁöÑÊúçÂä°Âô®ÈùûÂ∏∏ÊÖ¢ÔºåÂõ†Ê≠§Êé®Ëçê‰ΩøÁî®ÂõΩÂÜÖÁöÑÈïúÂÉèÔºåÊàëËøôÈáåÁî®ÁöÑÊòØÈòøÈáåÁöÑÔºöÊç¢ÂÆåÊõ¥Êñ∞Ê∫êÂêéÔºå‰∏™‰∫∫‰π†ÊÉØË£Ö‰∏Ä‰∏™vimÔºö 1sudo apt-get install vim ÂÆâË£Öarm‰∫§ÂèâÁºñËØëÈìæ1sudo apt-get install gcc-arm-linux-gnueabi ‰πüÂèØ‰ª•Ë£Ö‰∏Ä‰∏™arm-linux-gnueabihfÔºåÂ¶ÇÊûúÁ°¨‰ª∂Â∏¶fpuÔºåÂèØ‰ª•‰ΩøÁî®ËØ•Â∑•ÂÖ∑„ÄÇ ÂÆâË£Öqemu1sudo apt-get install qemu ‰∏ãËΩΩLinux kernalÂπ∂ÁºñËØë‰ªékernel.org‰∏ãËΩΩÊ∫êÁ†ÅÂåÖ„ÄÇ‰∏ãËΩΩÂÆåÊàêÂêéËß£ÂåÖÂà∞‰ªªÊÑèÁõÆÂΩï„ÄÇcdËøáÂéªÂêéÔºå‰ΩøÁî®vimÊñ∞Âª∫‰∏Ä‰∏™buildËÑöÊú¨build.sh,ÂÜÖÂÆπÂ¶Ç‰∏ãÔºö 12345678910export ARCH=arm export CROSS_COMPILE=arm-linux-gnueabi- make vexpress_defconfigmake zImage -j8make modules -j8make dtbsmkdir extra_foldercp arch/arm/boot/zImage extra_folder/cp arch/arm/boot/dts/*ca9.dtb extra_folder/cp .config extra_folder/ ËøêË°åËÑöÊú¨‰ºö‰ΩøÁî®arm-linux-gnueabiËøõË°åÁºñËØëÔºåÂπ∂ÊääÁîüÊàêÁöÑzImageÂíådtbÊñá‰ª∂copyÂà∞extra_folderÔºà‰∏çÁÑ∂ÁöÑËØùÊØèÊ¨°ÈÉΩÊâãÂä®copyÂ•ΩÁ¥Ø„ÄÇ„ÄÇÔºâ ‰∏ãËΩΩbusyboxbusyboxËÉΩÂ§üÊèê‰æõ‰∏Ä‰∫õÂü∫Êú¨ÁöÑÊåá‰ª§ÔºåÂ¶Çumount,sh,viÁ≠âÁ≠â„ÄÇÂú®busybox.net‰∏ãËΩΩÊ∫ê‰ª£Á†ÅÂåÖÔºåÂΩìÁÑ∂‰ΩøÁî®wgetÊàñËÄÖgit clone‰πüÊòØÂèØ‰ª•ÁöÑ„ÄÇËß£ÂåÖÂêéÔºåcdÂà∞‰ª£Á†ÅÁõÆÂΩïÔºåÂÜçÂÜô‰∏Ä‰∏™build.shÔºö 123make defconfigmake CROSS_COMPILE=arm-linux-gnueabi-make install CROSS_COMPILE=arm-linux-gnueabi- ËøêË°åËÑöÊú¨Â∞ÜÂú®ËØ•ÁõÆÂΩï‰∏ãÁîüÊàê‰∏Ä‰∏™_installÊñá‰ª∂Â§π„ÄÇ Âà∂‰ΩúÊ†πÊñá‰ª∂Á≥ªÁªüÂíåÈïúÂÉèÂàõÂª∫rootfs12sudo mkdir rootfssudo mkdir rootfs/lib Â§çÂà∂busyboxÂëΩ‰ª§1sudo cp _install/* -r rootfs/ Â§çÂà∂ËøêË°åÂ∫ì1sudo cp -P /usr/arm-linux-gnueabi/lib/* rootfs/lib/ ÂàõÂª∫Â≠óÁ¨¶ËÆæÂ§áÁî®‰∫éÊµãËØï12345sudo mkdir -p rootfs/devsudo mknod rootfs/dev/tty1 c 4 1sudo mknod rootfs/dev/tty2 c 4 2sudo mknod rootfs/dev/tty2 c 4 3sudo mknod rootfs/dev/tty2 c 4 4 cÔºöÂ≠óÁ¨¶Âûã4Ôºö‰∏ªËÆæÂ§áÂè∑1Ôºå2ÔºöÊ¨°ËÆæÂ§áÂè∑ ÁîüÊàêÈïúÂÉèÂπ∂Ê†ºÂºèÂåñÁîüÊàêext3Êñá‰ª∂Á≥ªÁªü12dd if=/dev/zero of=a9rootfs.ext3 bs=1M count=32mkfs.ext3 a9rootfs.ext3 Â§çÂà∂Êñá‰ª∂Âà∞ÈïúÂÉè‰∏≠1234sudo mkdir tmpfssudo mount -t ext3 a9rootfs.ext3 tmpfs/ -o loopsudo cp -r rootfs/* tmpfs/sudo umount tmpfs ÂêØÂä®qemuÂπ∂ËøêË°åÁ≥ªÁªüÂÜô‰∏Ä‰∏™runOS.shÂπ∂ËøêË°åÔºö 1qemu-system-arm -M vexpress-a9 -m 256M -dtb extra_folder/vexpress-v2p-ca9.dtb -kernel extra_folder/zImage -append \"root=/dev/mmcblk0 rw\" -sd a9rootfs.ext3 ÁÑ∂ÂêéÁÜüÊÇâÁöÑ‰ºÅÈπÖÂá∫Áé∞‰∫Ü!Êã∑‰∏™hello worldËØï‰∏Ä‰∏ã:","categories":[{"name":"ÁºñÁ®ãÁõ∏ÂÖ≥","slug":"ÁºñÁ®ãÁõ∏ÂÖ≥","permalink":"https://lzqblog.top/categories/%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/"}],"tags":[{"name":"Linux","slug":"Linux","permalink":"https://lzqblog.top/tags/Linux/"}]},{"title":"AndroidÊ∑ªÂä†AppËΩΩÂÖ•ÁïåÈù¢","slug":"AndroidÊ∑ªÂä†AppËΩΩÂÖ•ÁïåÈù¢","date":"2017-11-09T06:16:42.000Z","updated":"2018-11-20T11:54:50.000Z","comments":true,"path":"2017-11-09/AndroidÊ∑ªÂä†AppËΩΩÂÖ•ÁïåÈù¢/","link":"","permalink":"https://lzqblog.top/2017-11-09/Android%E6%B7%BB%E5%8A%A0App%E8%BD%BD%E5%85%A5%E7%95%8C%E9%9D%A2/","excerpt":"ÂΩìAppÂêØÂä®ËΩΩÂÖ•Êó∂Èó¥ËæÉÈïøÊó∂ÔºåÊàë‰ª¨Â∏åÊúõÊúâ‰∏Ä‰∏™ËΩΩÂÖ•ÁïåÈù¢ËøáÊ∏°ÔºåÂΩìËΩΩÂÖ•ÂÆåÊàêÂêéÂÜçÂàáÊç¢Âà∞MainActivity„ÄÇËøô‰∏™ËΩΩÂÖ•ÁïåÈù¢Êàë‰ª¨Áß∞‰πã‰∏∫SplashActivity„ÄÇ","text":"ÂΩìAppÂêØÂä®ËΩΩÂÖ•Êó∂Èó¥ËæÉÈïøÊó∂ÔºåÊàë‰ª¨Â∏åÊúõÊúâ‰∏Ä‰∏™ËΩΩÂÖ•ÁïåÈù¢ËøáÊ∏°ÔºåÂΩìËΩΩÂÖ•ÂÆåÊàêÂêéÂÜçÂàáÊç¢Âà∞MainActivity„ÄÇËøô‰∏™ËΩΩÂÖ•ÁïåÈù¢Êàë‰ª¨Áß∞‰πã‰∏∫SplashActivity„ÄÇ È¶ñÂÖàÂÜô‰∏Ä‰∏™ÁªßÊâøAppCompatActivityÁöÑSplashActivityÔºö 1234public class SplashActivity extends AppCompatActivity&#123; final int SplashTime = 3200;// ÊúüÊúõÁöÑSplashÊó∂Èó¥ WebView wbGif;// Âú®ËøôÈáåÊàë‰ΩøÁî®WebviewÊù•Âä†ËΩΩ‰∏Ä‰∏™GIFÂä®Áîª&#125; ÁÑ∂ÂêéOverride onCreateÊñπÊ≥ïÔºö 1234567protected void onCreate(Bundle savedInstanceState) &#123; super.onCreate(savedInstanceState); setContentView(R.layout.activity_splash); wbGif = (WebView) findViewById(R.id.webViewGif);// Âú®ËøôÈáåÊàë‰ΩøÁî®WebviewÊù•Âä†ËΩΩ‰∏Ä‰∏™GIFÂä®Áîª wbGif.setBackgroundColor(Color.parseColor(\"#6a0606\")); wbGif.loadUrl(\"file:///android_res/drawable/loading.gif\"); &#125; Âú®ËØ•onCreateÊñπÊ≥ï‰∏≠ÂàõÂª∫‰∏Ä‰∏™Êñ∞ÁöÑHandlerÂØπË±°ÔºåÂÆÉÂ∞ÜÂú®SplashTimeÁªìÊùüÂêéÂàáÊç¢Âà∞MainActivityÔºö 12345678new android.os.Handler().postDelayed(new Runnable() &#123; @Override public void run() &#123; Intent main = new Intent(SplashActivity.this, MainActivity.class); SplashActivity.this.startActivity(main); SplashActivity.this.finish(); &#125;&#125;, SplashTime); ÊúÄÂêéÂà´Âøò‰∫ÜÂú®AndroidManifest.xml‰∏≠Â∞ÜÂÖ•Âè£ActivityËÆæÁΩÆ‰∏∫SplashActivityÔºö 123456789&lt;activity android:name=\".SplashActivity\" android:screenOrientation=\"portrait\"&gt; &lt;intent-filter&gt; &lt;action android:name=\"android.intent.action.MAIN\" /&gt; &lt;category android:name=\"android.intent.category.LAUNCHER\" /&gt; &lt;/intent-filter&gt;&lt;/activity&gt;","categories":[{"name":"ÁºñÁ®ãÁõ∏ÂÖ≥","slug":"ÁºñÁ®ãÁõ∏ÂÖ≥","permalink":"https://lzqblog.top/categories/%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/"}],"tags":[{"name":"Android","slug":"Android","permalink":"https://lzqblog.top/tags/Android/"},{"name":"Java","slug":"Java","permalink":"https://lzqblog.top/tags/Java/"}]},{"title":"C#Ëá™ÂÆö‰πâExcelÂØºÂá∫Á±ª","slug":"CSharpËá™ÂÆö‰πâExcelÂØºÂá∫Á±ª","date":"2017-11-08T01:20:36.000Z","updated":"2018-11-20T11:54:50.000Z","comments":true,"path":"2017-11-08/CSharpËá™ÂÆö‰πâExcelÂØºÂá∫Á±ª/","link":"","permalink":"https://lzqblog.top/2017-11-08/CSharp%E8%87%AA%E5%AE%9A%E4%B9%89Excel%E5%AF%BC%E5%87%BA%E7%B1%BB/","excerpt":"ÂâçÊÆµÊó∂Èó¥ÂÜô‰∫Ü‰∏™debug toolÁî®Êù•Ëá™Âä®ÊäìÊµãËØïÊï∞ÊçÆÔºåËØ•Â∑•ÂÖ∑ÈúÄË¶ÅÈÄöËøáÁà¨ÂèñLogÊï∞ÊçÆËá™Âä®ÁîüÊàêÂ∏¶ChartÁöÑExcelÔºå‰ΩÜÊòØÂéüÁîüÁöÑCOMÁªÑ‰ª∂ÈùûÂ∏∏‰∏çÂ•ΩÁî®Ôºå‰∫éÊòØÊàëÈáçÊñ∞Â∞ÅË£Ö‰∫Ü‰∏Ä‰∏™„ÄÇ","text":"ÂâçÊÆµÊó∂Èó¥ÂÜô‰∫Ü‰∏™debug toolÁî®Êù•Ëá™Âä®ÊäìÊµãËØïÊï∞ÊçÆÔºåËØ•Â∑•ÂÖ∑ÈúÄË¶ÅÈÄöËøáÁà¨ÂèñLogÊï∞ÊçÆËá™Âä®ÁîüÊàêÂ∏¶ChartÁöÑExcelÔºå‰ΩÜÊòØÂéüÁîüÁöÑCOMÁªÑ‰ª∂ÈùûÂ∏∏‰∏çÂ•ΩÁî®Ôºå‰∫éÊòØÊàëÈáçÊñ∞Â∞ÅË£Ö‰∫Ü‰∏Ä‰∏™„ÄÇ Reference: Microsoft Excel 15.0 Object Library(COMÁªÑ‰ª∂) 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106using Microsoft.Office.Interop.Excel;using System;using System.Reflection;namespace My_Space&#123; class ExportExcel &#123; private string xlsOutPath; private string xlsInPath; private Application xlsApp; private Workbook xlsWorkBook; private Worksheet xlsWorkSheet; private object misValue = Missing.Value; public ExportExcel(string excelOutPath) &#123; xlsOutPath = excelOutPath; xlsInPath = null; xlsApp = new Application(); if (xlsApp == null) &#123; throw new Exception(\"Please Install Excel 2013 or Newer Verison\"); &#125; XlsWorkBook = xlsApp.Workbooks.Add(misValue); xlsWorkSheet = XlsWorkBook.Worksheets.get_Item(1); &#125; public ExportExcel(string excelInPath, string excelOutPath) &#123; xlsInPath = excelInPath; xlsOutPath = excelOutPath; xlsApp = new Application(); if (xlsApp == null) &#123; throw new Exception(\"Please Install Excel 2013 or Newer Verison\"); &#125; XlsWorkBook = xlsApp.Workbooks.Add(xlsInPath); xlsWorkSheet = XlsWorkBook.Worksheets.get_Item(xlsWorkBook.Worksheets.Count); &#125; public Worksheet XlsWorkSheet &#123; get =&gt; xlsWorkSheet; set =&gt; xlsWorkSheet = value; &#125; public Workbook XlsWorkBook &#123; get =&gt; xlsWorkBook; set =&gt; xlsWorkBook = value; &#125; public void AddChart(Worksheet worksheet, double left, double top, double weight, double height, string dataStart, string dataEnd) &#123; ChartObjects xlsCharts = worksheet.ChartObjects(Type.Missing); ChartObject myChart = xlsCharts.Add(left, top, weight, height); Range chartRange = worksheet.get_Range(dataStart, dataEnd); myChart.Chart.SetSourceData(chartRange, misValue); myChart.Chart.ChartType = XlChartType.xlXYScatterSmooth; myChart.Chart.ChartStyle = 245; &#125; public void AddSheet(string name) &#123; bool exist = false;int i; for (i = 1; i &lt;= XlsWorkBook.Sheets.Count; i++) &#123; if (XlsWorkBook.Sheets[i].Name == name) &#123; exist = true; break; &#125; &#125; if (!exist) &#123; xlsWorkSheet = XlsWorkBook.Sheets.Add(misValue, xlsWorkSheet, misValue, misValue); xlsWorkSheet.Name = name; &#125; else &#123; xlsWorkSheet = XlsWorkBook.Sheets[i]; &#125; &#125; public void CopySheet(Worksheet src,Worksheet dst) &#123; src.Cells.Copy(Type.Missing); try &#123; dst.Paste(Type.Missing, Type.Missing); &#125; catch (Exception) &#123; throw; &#125; &#125; public void AddHyperLink(string cellName, string link) &#123; Range range = xlsWorkSheet.get_Range(cellName,Type.Missing); xlsWorkSheet.Hyperlinks.Add(range, link); &#125; public void SaveExcel(bool flag) &#123; if (flag) &#123; xlsWorkBook.Close(true, xlsOutPath, misValue); &#125; System.Runtime.InteropServices.Marshal.ReleaseComObject(xlsWorkSheet); System.Runtime.InteropServices.Marshal.ReleaseComObject(xlsWorkBook); System.Runtime.InteropServices.Marshal.ReleaseComObject(xlsApp); xlsWorkSheet = null; xlsWorkBook = null; xlsApp = null; GC.Collect(); &#125; &#125;&#125;","categories":[{"name":"ÁºñÁ®ãÁõ∏ÂÖ≥","slug":"ÁºñÁ®ãÁõ∏ÂÖ≥","permalink":"https://lzqblog.top/categories/%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/"}],"tags":[{"name":"C#","slug":"C","permalink":"https://lzqblog.top/tags/C/"}]},{"title":"ÂÖ≥Èó≠Á®ãÂ∫èÁ™óÂè£Âêé‰ªçÊúâÁ∫øÁ®ãÊÆãÁïôÁöÑËß£ÂÜ≥ÂäûÊ≥ï","slug":"ÂÖ≥Èó≠Á®ãÂ∫èÁ™óÂè£Âêé‰ªçÊúâÁ∫øÁ®ãÊÆãÁïôÁöÑËß£ÂÜ≥ÂäûÊ≥ï","date":"2017-11-07T01:50:43.000Z","updated":"2018-11-20T11:54:50.000Z","comments":true,"path":"2017-11-07/ÂÖ≥Èó≠Á®ãÂ∫èÁ™óÂè£Âêé‰ªçÊúâÁ∫øÁ®ãÊÆãÁïôÁöÑËß£ÂÜ≥ÂäûÊ≥ï/","link":"","permalink":"https://lzqblog.top/2017-11-07/%E5%85%B3%E9%97%AD%E7%A8%8B%E5%BA%8F%E7%AA%97%E5%8F%A3%E5%90%8E%E4%BB%8D%E6%9C%89%E7%BA%BF%E7%A8%8B%E6%AE%8B%E7%95%99%E7%9A%84%E8%A7%A3%E5%86%B3%E5%8A%9E%E6%B3%95/","excerpt":"ÊàëÂéüÊù•‰∏ÄÁõ¥ÂñúÊ¨¢Áî®backgroundworkerÊêûÂ§öÁ∫øÁ®ãÔºåÂèçËÄåÊòØThreadÁ±ª‰ΩøÁî®ËæÉÂ∞ë„ÄÇÊúÄËøëÊõ¥Êñ∞debug toolÁöÑÊó∂ÂÄô‰ΩøÁî®‰∫Ü‰∏Ä‰∫õÂêå‰∫ãÁöÑ‰ª£Á†ÅÔºåÈÅáÂà∞‰∫ÜÁ∫øÁ®ãÊ≥ÑÊºèÁöÑÈóÆÈ¢ò„ÄÇ","text":"ÊàëÂéüÊù•‰∏ÄÁõ¥ÂñúÊ¨¢Áî®backgroundworkerÊêûÂ§öÁ∫øÁ®ãÔºåÂèçËÄåÊòØThreadÁ±ª‰ΩøÁî®ËæÉÂ∞ë„ÄÇÊúÄËøëÊõ¥Êñ∞debug toolÁöÑÊó∂ÂÄô‰ΩøÁî®‰∫Ü‰∏Ä‰∫õÂêå‰∫ãÁöÑ‰ª£Á†ÅÔºåÈÅáÂà∞‰∫ÜÁ∫øÁ®ãÊ≥ÑÊºèÁöÑÈóÆÈ¢ò„ÄÇ Âêå‰∫ãÁöÑ‰ª£Á†Å‰∏≠‰ΩøÁî®‰∫ÜThreadÁ±ªËÄå‰∏îÂÜÖÈÉ®ÊòØ‰∏Ä‰∏™while(true)ÁöÑÊ≠ªÂæ™ÁéØ„ÄÇËøôÂØºËá¥Èô§‰∫Üthread.Abort()Â§ñ‰ºº‰πéÊ≤°ÊúâÂÖ∂‰ªñÁªàÊ≠¢Á∫øÁ®ãÁöÑÊñπÊ≥ï„ÄÇ„ÄÇ„ÄÇ‰ΩÜÊòØthread.Abort()‰∏ç‰∏ÄÂÆöËÉΩÂ§üÁõ¥Êé•ÊùÄÊ≠ªÁ∫øÁ®ãÔºåÂú®Êüê‰∫õÊÉÖÂÜµ‰∏ãÔºåÂç≥‰ΩøÂú®formclosing‰∏≠Ë∞ÉÁî®‰∫Üthread.Abort()ÔºåÂÖ≥Èó≠Á®ãÂ∫èÁ™óÂè£Âêé‰ªçÁÑ∂ÊúâÁ∫øÁ®ãÊÆãÁïô„ÄÇÂ¶ÇÊûú‰∏çÊÉ≥‰øÆÊîπÂéüÊù•ÁöÑthreadÊñπÊ≥ïÔºåÂèØ‰ª•ÈÄöËøá 1Application.Exit(); Êù•ÈÄÄÂá∫Â∫îÁî®Á®ãÂ∫è„ÄÇ‰ΩÜÊòØÊ≠§ÊñπÊ≥ïÂπ∂‰∏ç‰ºöÂØπÂêéÂè∞Á∫øÁ®ãÂíåËµÑÊ∫êËøõË°åÂº∫Âà∂ÂõûÊî∂„ÄÇ‰∫éÊòØÁî®‰∫Ü‰∏ãÈù¢ËøôÁßçÊõ¥Á≤óÊö¥ÁöÑÊñπÊ≥ïÔºö 1Environment.Exit(0); ÈóÆÈ¢òËß£ÂÜ≥„ÄÇ‰∏çËøáËøôÊ¨°ÁöÑÁªèÂéÜÂÜçÊ¨°ÊèêÈÜí‰∫ÜÊàëÔºåÊúÄÂ•ΩÂà´Âú®Thread‰∏≠ÂÜôwhile(true)Ôºå‰πü‰∏çË¶Å‰ΩøÁî®thread.Abort()ËøôÁßç‰∏çÂÆâÂÖ®ÁöÑÊñπÊ≥ï„ÄÇÂ¶ÇÊûúÂÆûÂú®ÊãÖÂøÉÂá∫Áé∞ÈáéÁ∫øÁ®ãÔºåËøòÊòØ‰ΩøÁî®backgroundworkerÂêß„ÄÇ","categories":[{"name":"ÁºñÁ®ãÁõ∏ÂÖ≥","slug":"ÁºñÁ®ãÁõ∏ÂÖ≥","permalink":"https://lzqblog.top/categories/%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/"}],"tags":[{"name":"C#","slug":"C","permalink":"https://lzqblog.top/tags/C/"},{"name":"Â§öÁ∫øÁ®ã","slug":"Â§öÁ∫øÁ®ã","permalink":"https://lzqblog.top/tags/%E5%A4%9A%E7%BA%BF%E7%A8%8B/"}]},{"title":"È°πÁõÆÊÄªÁªìÔºà‰∏ÄÔºâÔºöÂπ≥Ë°°ËΩ¶ÁöÑËÆæËÆ°Ê¶ÇËø∞","slug":"È°πÁõÆÊÄªÁªìÔºà‰∏ÄÔºâÔºöÂπ≥Ë°°ËΩ¶ÁöÑËÆæËÆ°Ê¶ÇËø∞","date":"2017-11-05T00:43:47.000Z","updated":"2018-11-29T02:18:03.000Z","comments":true,"path":"2017-11-05/È°πÁõÆÊÄªÁªìÔºà‰∏ÄÔºâÔºöÂπ≥Ë°°ËΩ¶ÁöÑËÆæËÆ°Ê¶ÇËø∞/","link":"","permalink":"https://lzqblog.top/2017-11-05/%E9%A1%B9%E7%9B%AE%E6%80%BB%E7%BB%93%EF%BC%88%E4%B8%80%EF%BC%89%EF%BC%9A%E5%B9%B3%E8%A1%A1%E8%BD%A6%E7%9A%84%E8%AE%BE%E8%AE%A1%E6%A6%82%E8%BF%B0/","excerpt":"ÂÜôÁØápostÊÄªÁªì‰∏Ä‰∏ãÂΩìÂπ¥ÂÅöÂπ≥Ë°°ËΩ¶ÁöÑ‰∏Ä‰∫õÁªèÈ™å„ÄÇËøôÁØápostÊòØÊ¶ÇËø∞ÊÄßË¥®ÁöÑÔºåËØ¶ÁªÜÁöÑËΩØÁ°¨‰ª∂ËÆæËÆ°‰ª•ÂêéÊúâÊó∂Èó¥ÂÜçÂÜôÂêß„ÄÇ","text":"ÂÜôÁØápostÊÄªÁªì‰∏Ä‰∏ãÂΩìÂπ¥ÂÅöÂπ≥Ë°°ËΩ¶ÁöÑ‰∏Ä‰∫õÁªèÈ™å„ÄÇËøôÁØápostÊòØÊ¶ÇËø∞ÊÄßË¥®ÁöÑÔºåËØ¶ÁªÜÁöÑËΩØÁ°¨‰ª∂ËÆæËÆ°‰ª•ÂêéÊúâÊó∂Èó¥ÂÜçÂÜôÂêß„ÄÇ ÂÜôÂú®ÂâçÈù¢ÂÖ∂ÂÆûÂ§ß‰∫åÂ§ß‰∏âÁöÑÊó∂ÂÄôÈÉΩÊúâÂèÇÂä†Êô∫ËÉΩËΩ¶Á´ûËµõ(ÂéüÊù•Âè´È£ûÊÄùÂç°Â∞îÊô∫ËÉΩËΩ¶Á´ûËµõÔºåÁÆÄÁß∞È£ûËµõÔºåÂêéÊù•È£ûÊÄùÂç°Â∞îË¢´nxpÊî∂Ë¥≠ÔºåÊîπÂêçÊÅ©Êô∫Êµ¶Êô∫ËÉΩËΩ¶Á´ûËµõ..)Ôºå‰ΩÜÊòØÂ≠¶Èô¢Êúâ‰∏™ÊîøÁ≠ñÔºå‰∏çÂÖÅËÆ∏Âêå‰∏ÄÂπ¥Êó¢ÂèÇÂä†ÁîµÂ≠êËÆæËÆ°Á´ûËµõÔºàÁÆÄÁß∞ÁîµËµõÔºâÂèàÂèÇÂä†È£ûËµõÔºåÁêÜÁî±ÊòØË¶ÅËÆ©Êõ¥Â§öÁöÑÂêåÂ≠¶ÊúâÊú∫‰ºöÂèÇÂä†Âà∞ÊØîËµõ‰∏≠ÔºàËá≥Â∞ëËÄÅÂ∏àÊòØËøô‰πàÂëäËØâÊàë‰ª¨ÁöÑÔºâÔºå‰∫éÊòØÂ§ß‰∫åÈÇ£‰∏ÄÂπ¥ÂÅöÊô∫ËÉΩËΩ¶ÂÅöÂà∞‰∏ÄÂçäÂ∞±ÂºÉÊùÉÂèÇÂä†ÁîµËµõÂéª‰∫Ü„ÄÇ‰∏çËøáÂêéÊù•ÊàëÂíåÊàëÁöÑÂ∞è‰ºô‰º¥‰ª¨ÂèëÁé∞ÔºåÂ±ÖÁÑ∂Êúâ‰∫õÂêåÂ≠¶‰∏§‰∏™ÊØîËµõÈÉΩÂèÇÂä†‰∫ÜÔºåËøôTMÂ∞±ÂæàÂ∞¥Â∞¨‰∫Ü„ÄÇ„ÄÇ Á°¨‰ª∂Âü∫Êú¨Êû∂ÊûÑÊ¶ÇÊã¨Êù•ËÆ≤ÔºåÈúÄË¶ÅÂÖ≥ÂøÉÁöÑÊòØ‰∏â‰∏™ÈÉ®‰ªΩ: 1.ÁîµÊ∫êÈ¶ñÂÖàÁ®≥ÂéãÁîµË∑ØÊòØ‰∏ÄÂÆö‰ºöÊúâÁöÑÔºåÊàë‰ª¨ÈÄâÁî®‰∫ÜLM1117ÔºåÂ§ñÂõ¥ÁîµË∑ØÁÆÄÂçïÔºå‰ΩøÁî®ÂçÅÂàÜÊñπ‰æøÔºåÂèØÊõø‰ª£ÁöÑLDO‰πü‰∏çÂ∞ë„ÄÇÂè¶Â§ñÂ¶ÇÊûú‰ΩøÁî®MOSÁÆ°Ëá™Â∑±Êê≠HÊ°•ÔºåÂ∞±ÈúÄË¶ÅboostÁîµË∑Ø‰∫Ü„ÄÇ 2.‰∏ªÊéßÈÉ®ÂàÜËøô‰∏™ÈÉ®ÂàÜÂåÖÊã¨MCUÊúÄÂ∞èÁ≥ªÁªü‰ª•ÂèäÂêÑÁßç‰º†ÊÑüÂô®„ÄÇÂØπ‰∫éÂπ≥Ë°°ËΩ¶ËÄåË®ÄÔºåÈôÄËû∫‰ª™„ÄÅËßíÂ∫¶‰º†ÊÑüÂô®ÂíåÁºñÁ†ÅÂô®„ÄÅÂõæÂÉè‰º†ÊÑüÂô®ÈÉΩÁÆóÊòØÊ†∏ÂøÉ‰º†ÊÑüÂô®Ôºå‰∏Ä‰∏™Áî®‰∫éËé∑ÂèñËßíÂä†ÈÄüÂ∫¶Ôºå‰∏Ä‰∏™Ëé∑ÂèñÂΩìÂâçËßíÂ∫¶Ôºå‰∏Ä‰∏™Ëé∑ÂèñÁîµÊú∫ËΩ¨ÈÄüÔºåÊúÄÂêé‰∏Ä‰∏™ÂΩìÁÑ∂ÊòØËØÜÂà´ËµõÈÅìÂï¶„ÄÇÈô§Ê≠§‰πãÂ§ñÔºåÊàë‰ª¨Ëøò‰ΩøÁî®‰∫ÜËìùÁâôÊ®°ÂùóÔºåËá™Â∑±ÂÜô‰∫Ü‰∏™‰∏ä‰ΩçÊú∫ÔºåÊó†Á∫øË∞ÉËΩ¶„ÄÅÂÆûÊó∂Âõæ‰º†ÁÆÄÁõ¥‰∏çËÉΩÂÜçÁàΩ„ÄÇ 3.È©±Âä®Ê°•ÔºàHÊ°•ÔºâÂπ≥Ë°°ËΩ¶ÊòØÊúâ‰∏§‰∏™ÁîµÊú∫ÁöÑÔºåËÄå‰∏î‰∏§‰∏™ÁîµÊú∫ÈÉΩË¶ÅÊ±ÇËÉΩÂ§üÊ≠£ÂèçËΩ¨ÔºåÂõ†Ê≠§ÈúÄË¶Å‰∏§‰∏™ÂÖ®Ê°•ÔºåÈúÄË¶Å4ÁâáBTS7970ÊàñËÄÖ8Áâámos„ÄÇÂ§ß‰∫åÂõæÊñπ‰æøÔºå‰ΩøÁî®ÁöÑÊòØBTS7970ÔºåÊ∑òÂÆù‰∏ä‰∏ÄÁâá‰∫å‰∏âÂçÅ„ÄÇ„ÄÇ„ÄÇÂ§ß‰∏âÊÄªË£ÅÁî®mosÁÆ°Êê≠‰∫Ü‰∏Ä‰∏™ÔºåÊïàÊûúÂ∑Æ‰∏çÂ§öÔºåÊàêÊú¨Âç¥‰Ωé‰∫Ü‰∏çÂ∞ë„ÄÇÂêéÊù•ÊàëÊØïËÆæË¶ÅÁî®Âà∞ÁîµÊú∫ÊéßÂà∂ÂèàËá™Â∑±Áîª‰∫Ü‰∏ÄÂùóÔºåËôΩÁÑ∂Âè™ÊòØÂèåÈù¢ÊùøÂπ∂‰∏î‰∏∫‰∫ÜËøáÂ§ßÁîµÊµÅÂ§ßÈù¢ÁßØÂºÄÁ™óÔºå‰ΩÜÊòØËä±ÁÇπÊó∂Èó¥‰ºòÂåñlayoutËøòÊòØÂèØ‰ª•ÊääÊùøÂ≠êÂÅöÂæóÂæàÂ∞è„ÄÇÂ§ß‰∏âÁöÑÁîµË∑ØÂõæÁî±‰∫éÁ°¨ÁõòÊåÇ‰∫ÜÊâæ‰∏çÂà∞‰∫Ü:( Ë¥¥‰∏™ÊØïËÆæÊê≠ÁöÑMOSH LayoutÂõæÔºö ËÆæËÆ°Êñá‰ª∂Êå∫Êó©ÁöÑÊó∂ÂÄôÂ∞±‰∏ä‰º†‰∫ÜÔºöCoding Spirit:MOS_H MCUÈÄâÂûãÂ§ß‰∫åÁî®ÁöÑÊòØcoldfireÔºåÂ§ß‰∏âÁî®ÁöÑÊòØK60„ÄÇColdfireÊòØfreescaleËá™Â∑±ÁöÑÊû∂ÊûÑÔºåÂΩìÊó∂Êàë‰ª¨Áî®ÁöÑmcf52255, ÊúÄÈ´ò80MHzÔºåK60ÊòØCortex-M4ÔºåÊúÄÈ´ò100MHzÔºåÂè¶Â§ñÂ∏¶FPU„ÄÇÂ∞±ÊàëÁöÑ‰∏™‰∫∫ÊÑüËßâÊù•ËØ¥ÔºåK60ÁöÑÁªºÂêàÊÄßËÉΩÊòØË¶ÅÂ•Ω‰∫émcf52255ÁöÑ„ÄÇÂè¶Â§ñcoldfireËµÑÊñô‰∏çÂ¶Çk60Â§öÔºåËøôÁÇπÂØπ‰∫éÂàùÂ≠¶ËÄÖÊù•ËØ¥ÊØîËæÉÂÖ≥ÈîÆÔºåÂõ†‰∏∫‰ªéÂáÜÂ§áÂà∞ÂèÇËµõÂè™ÊúâÂá†‰∏™ÊúàÁöÑÊó∂Èó¥Ôºå‰ªéÂ§¥ÂºÄÂßãÂ≠¶‰∏ÄÊ¨æÊ≤°Êé•Ëß¶ËøáÁöÑÊû∂ÊûÑÁöÑMCU‰ºöËä±ÊéâÂ§ßÈáèÊó∂Èó¥„ÄÇ‰ΩÜÊòØColdfireÈÖçÂêàCodewarriorÊúâÁßçSTM32CUBEMXÁöÑÊÑüËßâÔºå‰ª£Á†ÅÁîüÊàêÊÑüËßâËøò‰∏çÈîô„ÄÇ ËΩØ‰ª∂Âü∫Êú¨Êû∂ÊûÑÈ¶ñÂÖàË¥¥‰∏™‰ª£Á†ÅÔºöCoding Spirit:Balance_Car ÊòØÂê¶Ë∑ëRTOSË£∏Â•îÂíåRTOSÂÖ∂ÂÆûÈÉΩËÉΩÂÅöÔºå‰ΩÜÁî±‰∫éPIDÊéßÂà∂ÁöÑÂë®ÊúüÊÄßÔºå‰ΩøÁî®ÂÆöÊó∂Âô®‰∏≠Êñ≠ÊéßÂà∂Âë®ÊúüÔºåËøõË°åÈááÊ†∑„ÄÅËÆ°ÁÆó„ÄÅËæìÂá∫ÊòæÂæóÈùûÂ∏∏ÂíåË∞êÔºå‰ªªÂä°‰∏çÂ§öÁöÑÊÉÖÂÜµ‰∏ãË£∏Â•îÂÖ∂ÂÆûÊõ¥ÂêàÁêÜ‰∏ÄÁÇπ„ÄÇÊàë‰ª¨‰πü‰ΩøÁî®‰∫ÜËøôÁßçÊñπÂºèÔºåÈÄöËøá1msÁöÑÂÆöÊó∂Âô®‰∏≠Êñ≠ËøõË°åÁä∂ÊÄÅÊú∫ÁöÑÂàáÊç¢„ÄÇ PIDÊéßÂà∂ÂØπ‰∫éËá™Âä®Âåñ‰∏ì‰∏öÁöÑÂ≠¶ÁîüÊù•ËØ¥ÔºåËøôÁßçÊéßÂà∂ËøòÊòØËõÆÁÆÄÂçïÁöÑ„ÄÇÈ¶ñÂÖàÂπ≥Ë°°ËΩ¶ÈúÄË¶ÅÂÆûÁé∞‰∏â‰∏™Èó≠ÁéØÔºö1.ËßíÂ∫¶Èó≠ÁéØÔºöÂª∫ËÆÆ‰ΩøÁî®PDÊéßÂà∂„ÄÇÂ¶ÇÊûúÊúâÈôÄËû∫‰ª™ÁöÑËØù‰∏çÁî®ËÆ°ÁÆóÂ∑ÆÂàÜÔºåÁõ¥Êé•ÊääKd*ÈôÄËû∫‰ª™ÊµãÈáèÂÄº‰Ωú‰∏∫DÈ°πÂ∞±ÂèØ‰ª•‰∫Ü„ÄÇÊàëÂ∞ùËØïËøáÂä†ÂÖ•IÈ°πÔºåË¶Å‰πàÁ≥ªÁªüÊªûÂêéÈùûÂ∏∏‰∏•ÈáçÔºåË¶Å‰πàÊ≤°‰ªÄ‰πàÁî®„ÄÇ„ÄÇ„ÄÇ2.ÈÄüÂ∫¶Èó≠ÁéØÔºöÂª∫ËÆÆ‰ΩøÁî®PIÊéßÂà∂„ÄÇÂª∫ËÆÆ‰∏çÂä†ÂÖ•DÈ°πÁöÑÂéüÂõ†ÊòØÁ≥ªÁªü‰∏çÈúÄË¶ÅÈ¢ÑÊµãÈÄüÂ∫¶ÔºåÈÄüÂ∫¶ÊòØÊàë‰ª¨Áõ¥Êé•ÁªôÂÆöÁöÑÔºåÊØîËæÉÁ®≥ÂÆö„ÄÇ3.ËΩ¨ÂêëÈó≠ÁéØ: ÂΩìÊó∂‰ΩøÁî®ÁöÑÊòØPDÊéßÂà∂„ÄÇDÈ°πÊù•Ê∫ê‰∫éÁ∫µÂêëÁöÑÈôÄËû∫‰ª™ÊµãÈáèÂÄºÔºåÊàë‰ª¨ÊãÖÂøÉ‰ºöÂá∫Áé∞ËΩ¨ÂêëËøáÁåõÁöÑÊÉÖÂÜµÔºåÂä†ÂÖ•DË¥üÂèçÈ¶àÈôêÂà∂‰∫ÜËΩ¨ÂêëÂä†ÈÄüÂ∫¶Ôºå‰∏çÁÑ∂ÂÆπÊòìÂá∫Áé∞PÂèÇÊï∞ËøáÂ§ßÊó∂ËΩ¶‰ΩìÂéüÂú∞ÊâìËΩ¨ÁöÑÊÉÖÂÜµ„ÄÇÂè¶Â§ñÂ¢ûÈáèÂºèÂíå‰ΩçÁΩÆÂºèPIDÁöÑÈÄâÊã©‰∏çÁî®ËøáÂ§öÁ∫†ÁªìÔºåÂè™ÊúâÈÄüÂ∫¶ÁéØÊúâIÈ°πÔºåÁßØÂàÜÈ•±ÂíåÁöÑÊÉÖÂÜµÂæàÂ∞ëËßÅ„ÄÇ‰∏çËøáÁßØÂàÜÈôêÂπÖÂíåËæìÂá∫ÈôêÂπÖÂæàÊúâÂøÖË¶ÅÔºå‰∏çÁÑ∂ËΩ¶ÂæàÂÆπÊòìÊíûÂùè„ÄÇ„ÄÇ ‰∏ä‰ΩçÊú∫ÊàëËÆæËÆ°‰∫Ü‰∏™ÁÆÄÈôãÁöÑÈÄö‰ø°ÂçèËÆÆÔºåÂπ∂‰∏îÂÜô‰∫Ü‰∏§‰∏™ÈÖçÂ•óÁöÑ‰∏ä‰ΩçÊú∫Ôºå‰∏Ä‰∏™ÊòØÂàù‰ª£Ê≤°ÊúâÂõæ‰º†ÂäüËÉΩÔºåÁî®VC++ÂÜôÁöÑÔºåV2.0Â∞±Áî®C#ÂÜô‰∫Ü‰∏Ä‰∏™ÂèØ‰ª•ÂÆûÊó∂‰º†ËæìÂõæÂÉèÁöÑ‰∏ä‰ΩçÊú∫ÔºåÂè¶Â§ñ‰ΩøÁî®‰∫ÜËá™ÂàõÁöÑËúúÊ±ÅÂéãÁº©ÔºåÁ®≥ÂÆö30fpsÂì¶ÔºÅËøôÈáåÂêπ‰∏ÄÊ≥¢ÔºåÊØîÈÇ£‰∫õÊØè4Áßí1Â∏ßÁöÑÂ•ΩÂà∞‰∏çÁü•ÈÅìÂì™ÈáåÂéª‰∫Ü„ÄÇ‰ΩÜÊòØÂΩìÊó∂ÁùÄÊÄ•Áî®Ôºå‰ª£Á†ÅÂÜôÂæóÂæà‰π±„ÄÇ„ÄÇ„ÄÇV2.0Ê∫ê‰ª£Á†ÅÂú®Ê≠§ÔºöCoding Spirit:Car_Debugger_V2.0","categories":[{"name":"È°πÁõÆÊÄªÁªì","slug":"È°πÁõÆÊÄªÁªì","permalink":"https://lzqblog.top/categories/%E9%A1%B9%E7%9B%AE%E6%80%BB%E7%BB%93/"}],"tags":[{"name":"Êô∫ËÉΩËΩ¶","slug":"Êô∫ËÉΩËΩ¶","permalink":"https://lzqblog.top/tags/%E6%99%BA%E8%83%BD%E8%BD%A6/"}]},{"title":"Â∏∏Áî®ÁöÑRegex","slug":"Â∏∏Áî®ÁöÑRegex","date":"2017-11-01T01:54:51.000Z","updated":"2018-11-20T11:54:50.000Z","comments":true,"path":"2017-11-01/Â∏∏Áî®ÁöÑRegex/","link":"","permalink":"https://lzqblog.top/2017-11-01/%E5%B8%B8%E7%94%A8%E7%9A%84Regex/","excerpt":"ÂΩìËøõË°åÊï∞ÊçÆÂàÜÊûêÊó∂ÔºåÊàë‰ª¨Â∏∏‰ΩøÁî®Ê≠£ÂàôË°®ËææÂºèÁà¨ÂèñÂ≠óÁ¨¶‰∏≤ÂæóÂà∞ÁõÆÊ†áÊï∞ÊçÆ„ÄÇÔºàÊúâÁÇπÁà¨Ëô´ÁöÑÊÑüËßâÔºâ","text":"ÂΩìËøõË°åÊï∞ÊçÆÂàÜÊûêÊó∂ÔºåÊàë‰ª¨Â∏∏‰ΩøÁî®Ê≠£ÂàôË°®ËææÂºèÁà¨ÂèñÂ≠óÁ¨¶‰∏≤ÂæóÂà∞ÁõÆÊ†áÊï∞ÊçÆ„ÄÇÔºàÊúâÁÇπÁà¨Ëô´ÁöÑÊÑüËßâÔºâ ÁõÆÊ†áÊï∞ÊçÆ‰∏∫ÂçïË°åÁöÑÊÉÖÂÜµÊúÄÁÆÄÂçïÁöÑÊÉÖÂÜµÔºåÂ≠óÁ¨¶‰∏≤ÂèØËÉΩÊòØËøôÊ†∑ÁöÑÔºö!@#$%[mark1]data[mark2]!@#$%!@#$%[mark1]data[mark2]!@#$%‚Ä¶ ÂÖ∂‰∏≠‚Äú!@#$%‚Äù‰∏∫‰∏ÄÂ§ßÊÆµ‰∏çÂÖ≥ÂøÉÁöÑÂ≠óÁ¨¶Ôºå[mark1]Âíå[mark2]‰∏∫ÁâπÂÆöÂ≠óÁ¨¶Áî®‰∫éÊ†áËÆ∞Êï∞ÊçÆ„ÄÇÊàë‰ª¨ÁöÑÁõÆÊ†áÊòØÂ∞ÜËøô‰∏™dataÂæóÂà∞„ÄÇ‰ª•Ê∫êÂ≠óÁ¨¶‰∏≤„ÄÅ[mark1]Âíå[mark2]ÂàÜÂà´‰∏∫srcData„ÄÅ‚Äù#‚Äù„ÄÅ‚Äù!‚Äù‰∏∫‰æãÔºåÂèØ‰ª•ËøôÊ†∑ÂåπÈÖçÔºö 1string value = Regex.Match(srcData, \"(?&lt;=#).*?(?=!)\").Value; Ê≠§ÊÆµ‰ª£Á†ÅÂ∞ÜÂØπ#Âíå!‰πãÈó¥ÁöÑÈô§\\n‰πãÂ§ñÁöÑÂ≠óÁ¨¶ËøõË°åÈùûË¥™Â©™ÂåπÈÖç„ÄÇÊ≥®ÊÑèÔºåÁî±‰∫é‰ΩøÁî®‰∫ÜÈÄöÈÖçÁ¨¶‚Äù.‚Äù,Â¶ÇÊûúÁõÆÊ†áÊï∞ÊçÆÊòØÂ§öË°å,ËØ•Ê≠£ÂàôË°®ËææÂºèÂ∞Ü‰∏çËÉΩÊ≠£Á°ÆÂåπÈÖç„ÄÇ ÁõÆÊ†áÊï∞ÊçÆ‰∏∫Â§öË°åÂâçÊÆµÊó∂Èó¥ÁöÑ‰∏Ä‰∏™È°πÁõÆ‰∏≠Ë¶ÅÊ±Ç‰ªé.cÊñá‰ª∂‰∏≠Ëé∑ÂæóÊüê‰∏ÄstructÁöÑÂÖ®ÈÉ®ÊàêÂëòÂèòÈáèÔºå‰∏ÄËà¨ËÄåË®ÄstructÂÜÖÈÉ®ÈÉΩÊòØÂ§öË°åÁöÑÔºåÂõ†Ê≠§‰∏ä‰∏ÄÁßçÊñπÂºèÊó†Ê≥ïÊ≠£Á°ÆÂåπÈÖç„ÄÇ 1string value = Regex.Match(srcData, @\"(?&lt;=[START])[\\s\\S]+?(?=[END])\").Value; ËøôÁßçÊñπÂºèÂ∞±ÊØîËæÉÁ≤óÊö¥‰∫ÜÔºåÁõ¥Êé•ÈùûË¥™Â©™ÂåπÈÖçÊâÄÊúâÂ≠óÁ¨¶ÔºàÈùûÁ©∫Ê†ºÂíåÁ©∫Ê†ºÂ≠óÁ¨¶ÔºâÔºåÊâÄ‰ª•ÂæóÂà∞ÁöÑÊï∞ÊçÆÈÄöÂ∏∏ÂåÖÊã¨\\r\\n„ÄÇ","categories":[{"name":"ÁºñÁ®ãÁõ∏ÂÖ≥","slug":"ÁºñÁ®ãÁõ∏ÂÖ≥","permalink":"https://lzqblog.top/categories/%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3/"}],"tags":[{"name":"C#","slug":"C","permalink":"https://lzqblog.top/tags/C/"},{"name":"Regex","slug":"Regex","permalink":"https://lzqblog.top/tags/Regex/"}]},{"title":"Welcome","slug":"Welcome","date":"2017-10-31T12:48:07.000Z","updated":"2018-11-20T11:54:50.000Z","comments":true,"path":"2017-10-31/Welcome/","link":"","permalink":"https://lzqblog.top/2017-10-31/Welcome/","excerpt":"","text":"Welcome ËøôÊòØ‰∏Ä‰∏™Áî®node.js+hexo+githubÊê≠Âª∫Ëµ∑Êù•ÁöÑÂ∞èÁ´ô„ÄÇÂ•ΩËÆ∞ÊÄß‰∏çÂ¶ÇÁÉÇÈîÆÁõòÔºå‰ª•ÂêéÂ§öÂ§öÂÜôblogÂíØÔºÅ","categories":[{"name":"Èöè‰æøÂÜôÂÜô","slug":"Èöè‰æøÂÜôÂÜô","permalink":"https://lzqblog.top/categories/%E9%9A%8F%E4%BE%BF%E5%86%99%E5%86%99/"}],"tags":[{"name":"Êó•Âøó","slug":"Êó•Âøó","permalink":"https://lzqblog.top/tags/%E6%97%A5%E5%BF%97/"}]}]}